<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>A Red Winter</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.36.1): A free (gratis and libre) story format.

Copyright © 2013–2021 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/1.2.20171210/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~a(this,t+"")},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",~a(this,t)||(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);~e;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.replace=function(t,e){var n=a(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(p){void 0!==p.number&&-2146823252!==p.number||(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2020 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.14/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=arguments.length===0?0:arguments.length===1?i-f:b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return n.indexOf(t)==-1&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return n!=-1&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){if(Array.isArray(e))return e;var t="object"==typeof e&&"number"==typeof e.length;return t?d.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var s=e;return"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||e))}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console,d=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/dist/FileSaver.js */
(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url('data:application/octet-stream;base64,d09GRgABAAAAADLAAA8AAAAAWHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEkIY21hcAAAAdgAAAG8AAAF3rob9jFjdnQgAAADlAAAABMAAAAgBtX/BGZwZ20AAAOoAAAFkAAAC3CKkZBZZ2FzcAAACTgAAAAIAAAACAAAABBnbHlmAAAJQAAAI6gAADv+gJOpzGhlYWQAACzoAAAAMwAAADYY1IZaaGhlYQAALRwAAAAgAAAAJAfCBClobXR4AAAtPAAAAJEAAAFMBfb/0WxvY2EAAC3QAAAAqAAAAKhjiHI5bWF4cAAALngAAAAgAAAAIAFjDA9uYW1lAAAumAAAAY0AAAL94+zEpHBvc3QAADAoAAACHAAAA11cG/YjcHJlcAAAMkQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZgnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4EMgf9z2KIYg5imAYUZgTJAQDSIQumAHic7dTVbltRAETR7dpNCikzQ8rMzMxt/M39mHnsU1/TfZz5jFpaV7pXJunMDLAZmOqaZjD5y4Tx+uPTyeL5lG2L5zN+L94zG8+ztr7ulXH1fra4bvK9M79xiWW2sNXPbWeFHexkF7vZw172sZ8DHOQQhznCUY5xnBOc5BSnOcNZVjnHeS5wkUtc5gpX/f3r3OAmt7jNHe5yj/s84CGPeMwTnvKM57zgJa94zRve8o73fOAjn/jMF77yje/84Ce/WGPun1zi/2tlXKbp3Xyc44bFyZanSWokJDXOOjXSk/LUSXn+pEwCKTNBaqQqZU5IjX+XMjukTBEp80TKZJEyY6RMGylzR8oEkjKLpEwlKfNJyqSSMrOkTC8pc0zKRJMy26RMOSnzTsrkk7IDpGwDKXtByoaQsiukbA0p+0PKJpGyU6RsFyl7RmosQcrukbKFpOwjKZtJyo6Ssq2k7C0pG0zKLpOy1aTsNymbTsrOk7L9pNwBUi4CKbeBlCtByr0g5XKQckNIuSak3BVSLgwpt4aUq0PK/SHlEpFyk0i5TqTcKVIuFim3i5QrRso9I+WykXLjXOYNzP8BuAPUwHicY2BAAxIQyBz0PwuEARJsA90AeJytVml300YUHXlJnIQsJQstamHExGmwRiZswYAJQbJjIF2crZWgixQ76b7xid/gX/Nk2nPoN35a7xsvJJC053Cak6N3583VzNtlElqS2AvrkZSbL8XU1iaN7DwJ6YZNy1F8KDt7IWWKyd8FURCtltq3HYdERCJQta6wRBD7HlmaZHzoUUbLtqRXTcotPekuW+NBvVXffho6yrE7oaRmM3RoPbIlVRhVokimPVLSpmWo+itJK7y/wsxXzVDCiE4iabwZxtBI3htntMpoNbbjKIpsstwoUiSa4UEUeZTVEufkigkMygfNkPLKpxHlw/yIrNijnFawS7bT/L4vead3OT+xX29RtuRAH8iO7ODsdCVfhFtbYdy0k+0oVBF213dCbNnsVP9mj/KaRgO3KzK90IxgqXyFECs/ocz+IVktnE/5kkejWrKRE0HrZU7sSz6B1uOIKXHNGFnQ3dEJEdT9kjMM9pg+Hvzx3imWCxMCeBzLekclnAgTKWFzNEnaMHJgJWWLKqn1rpg45XVaxFvCfu3a0ZfOaONQd2I8Ww8dWzlRyfFoUqeZTJ3aSc2jKQ2ilHQmeMyvAyg/oklebWM1iZVH0zhmxoREIgIt3EtTQSw7saQpBM2jGb25G6a5di1apMkD9dyj9/TmVri501PaDvSzRn9Wp2I62AvT6WnkL/Fp2uUiRen66Rl+TOJB1gIykS02w5SDB2/9DtLL15YchdcG2O7t8yuofdZE8KQB+xvQHk/VKQlMhZhViFZAYq1rWZbJ1awWqcjUd0OaVr6s0wSKchwXx76Mcf1fMzOWmBK+34nTsyMuPXPtSwjTHHybdT2a16nFcgFxZnlOp1mW7+s0x/IDneZZntfpCEtbp6MsP9RpgeVHOh1jeUELmnTfwZCLMOQCDpAwhKUDQ1hegiEsFQxhuQhDWBZhCMslGMLyYxjCchmGsLysZdXUU0nj2plYBmxCYGKOHrnMReVqKrlUQrtoVGpDnhJulVQUz6p/ZaBePPKGObAWSJfIml8xzpWPRuX41hUtbxo7V8Cx6m8fjvY58VLWi4U/Bf/V1lQlvWLNw5Or8BuGnmwnqjapeHRNl89VPbr+X1RUWAv0G0iFWCjKsmxwZyKEjzqdhmqglUPMbMw8tOt1y5qfw/03MUIWUP34NxQaC9yDTllJWe3grNXX27LcO4NyOBMsSTE38/pW+CIjs9J+kVnKno98HnAFjEpl2GoDrRW82ScxD5neJM8EcVtRNkja2M4EiQ0c84B5850EJmHqqg3kTuGGDfgFYW7BeSdconqjLIfuRezzKKT8W6fiRPaoaIzAs9kbYa/vQspvcQwkNPmlfgxUFaGpGDUV0DRSbqgGX8bZum1Cxg70Iyp2w7Ks4sPHFveVkm0ZhHykiNWjo5/WXqJOqtx+ZhSX752+BcEgNTF/e990cZDKu1rJMkdtA1O3GpVT15pD41WH6uZR9b3j7BM5a5puuiceel/TqtvBxVwssPZtDtJSJhfU9WGFDaLLxaVQ6mU0Se+4BxgWGNDvUIqN/6v62HyeK1WF0XEk307Ut9HnYAz8D9h/R/UD0Pdj6HINLs/3mhOfbvThbJmuohfrp+g3MGutuVm6BtzQdAPiIUetjrjKDXynBnF6pLkc6SHgY90V4gHAJoDF4BPdtYzmUwCj+Yw5PsDnzGHQZA6DLeYw2GbOGsAOcxjsMofBHnMYfMGcdYAvmcMgZA6DiDkMnjAnAHjKHAZfMYfB18xh8A1z7gN8yxwGMXMYJMxhsK/p1jDMLV7QXaC2QVWgA1NPWNzD4lBTZcj+jheG/b1BzP7BIKb+qOn2kPoTLwz1Z4OY+otBTP1V050h9TdeGOrvBjH1D4OY+ky/GMtlBr+MfJcKB5RdbD7n74n3D9vFQLkAAQAB//8AD3icrXsLcFzlleZ//v+++nb37dfte/VotVrdrW5JltuKpO6WJVluPyXbsmOEbGRjO4KVjWPZlsM4QIU4IYGlgCE2yxqKIQkJg2GreKQCTCZb1CZkiswjzOwOmSTATNVWTZLdDUwSMrVDsomD23vOf69assFAqgbk+773P4//nPOdc/5mwNjFl8WjosbaWblmxiOmIlTGYXzb11M7Z2ohAMbZCcZ5iG9prZl4whfwGju05xtttitUdwXYEUgkbQtWga5lC+XBaqJI285qpb8dVEc8Gnm5L5QM/f58yAlB399a7dD0mWAmdAqaMvBmKPKX9TdDwSjod9yhx03FAPcvI6Gk2lV33XoXUtKgL8C6Wa0WSzXbVjhg6JoqIPShCK0FOvOuE48K1V4B1VUQAVevugmP7Fz2CmTzW5/8+ZGP/+Kp7h/8oI4MuOZ7M5B9IvujH2Wf+PnCAjzn8ZK6AieMKRcvXnxWWSWCzGARlPcqtqs21WZzEBFgYIVDAYWzVJIrXBlH+hXGlWNM00GAJmYZ8sKBzTJFVZVppijqDFMVdTIWLa0o5JrdaHusPZGIG1IjFhQGK2mAZEe56kJnR1bTY7ZT7eivFGODBTdma3pHtlCNDVbwmgMHx/aO4R8ffeet5/ZCG6TfuV03IaSJU3oIzKsGO9+5PV+BwU5xqnOQx1aO8fW71yvD9fPn55/fA22PmsaFvfSgwZ8wzPiFvZ2DUMnzJ2hHVDMmHucPsSRrq7UQo4DMAV/AW7CANw/Zru3NIx20bBEpXwukArlxxOPReibaG63/SyQyiftzcBy3k1HuOHgjEgFHnkYfh4VodDJC4138Ff8hv5PlWbrWmm2O6grNEgGNCWGnbFtRm1Z04gzQPPWvkqMWF4eWU8DB267Df+gNe84bBvfRpfNI5Ny5yAmHDh5/PPLuByMlekDS9DsRR73nWHetwBShSO5PqCBQONO4E2wGlSvYZG6gMzeQ09SWFZC0tWION3oOVVXGTbGM+hrAzQj0O25yoN8R8YzzRsaZdzLwhpsGPEm783hAJ9+kq286eDX5pn/VydDjvk7i8EuchU21JJ3DNOqFzeABmywPcNXxhu/wB+3whrqwVw7Cn1j8vPfdDH6O7PR3fDV/Cb85wua/waSit309grZJHHOhHEQ9CA7zTGVCUb0ZvXzc1lrRe5Af+4An0aSL9op0IU9y6vRFtAYGKy7KJGFbQrdg2dXqGAwWilld0zUy9xLqd6A/zeFuy7gzYFmBOwOhZ6NNhZakm8YTI7S1pyM1mM032V26qevXGlzZ8+TKvROlB/BBkO9ACDalB7OZuBnuC5tRcAItpalENNOfhajVH1A2a1HjbHZ4N4r54oWLz4qPoe4jrMo2sonapm5QRQBQ3XycKVxwRRxjQuVCnWc6mrzOZ5FvBiraOmia5FubYRpok8n0ioRTKOQMNbWiszxYWAFZrQ1sB+dDJTFYghzyiBN3oB857ndIAha4Se/+YGUtjAkXXUO2xPE2eoe3TWPeMOXmzNi+j9w1HghvVbSAmu4c6nFac6MgbzXFU2baDr1241+98TfHtU/9t7df+MzU4msmfPYj06Wbw8Gqohda0/FkSyiyvtPGG/FsMKq1pLqmPvndkye/+y+08eYIHEJZpFmJra2Nop/VWuKcCwPvgRhnGlOFps6iIdAEmFVAKh53jblZyBU6nAFdbfX03tGwioZ9oGnEyDSWTQCyFzhoR+s/jdjgWLmc3L2K21zEmXCsM5aDm4g9Ny5v0PZVb+dY9Rcd/sl5eTiPj0nTaeiU+BhhW2qbuzJcUy2Nc2gCrjBkxWCqZiArGgOuwSzjAlDb5L91XfpvfYbpij6ZRIUWYoVcLqC2+UqNLddsMrekY3GZztVl2uQjpl4xjedIM+Uybc/r5viShuHgcgXuwQtpuoMHz8utCe/s8S+Y/7xMaYu2DX1yDrez3lp3cyyKdop+HLcLi878Uh9SKOSlj73cOIUFRVKVKHhaSS9JP452RCcYoJ3w85bz8Ckp9VN4xeZj9atpH4FnPCV4OtiDNIVYCrWwsbauK81VxUlaQnA+riFBisoUsiU0LbQpASCmmRAwg1MNJoH19uQ6WpriUV1jIQjphA5QjosiTfiy1tF+kPJKMTFYpAu6lkx40odnTv7VjYtC/QtTJyGH9HmMnKamGrcaqmaagRsMUwR9WeLmwsQREvIRevSvYa8uVFXo9Sc0w5A8/Rp5+jcxhXLuYAOIx/pbY+ggFp0FV8lNoLNAEQvyDkwBZR9T1ZC6xR0qFgsybix3DJcR7iIGwCsCHHQM0nYKVSBXQZPnqG7KDZiqrn8K524gpN9ghAx42k4GsvF3nohnA0kbnglkC9mrl7h4Db2TommKcVE1QOPRd97K5WJxsKO5nIjHbHtx/og3kK8iWys1he/EkKlqCbFOB6iKQp5Q5Yp6DB0AsjmPvHEFSGsoFraPaVpI2zLc2lmudErjJ/eeQwbKPoRBZulcwhwXYc6i1SdiEpiCF+KrFOIrAzKaHdhQ79tw4MAGuJv4rt8sQQu80jloGnnDfNVJBa+vn1WjSg1d8NHrg44FbTgdJ5+T77yy/gDI5wY7633yTbI7+CdyMDyEL2paDd0BvZjyfIYXH2/H+aqjDfXUisgnk3rFYMePoyZBegWanQpM5hKdlUSU1JnoQH2iG1d90IYADi0JPV2/oxMEeB7apm+aBngFw/ObMjzHzv7dgzyOh48fHZnmO9c8Wv+2RAGwHiP20UNnzx46mvYxyaMixDpZX22lQqQgRDqG4kYcMo92cpypAOo0Ti+iSYXJRGc5l8wvQhPfqpE0SYa7nDwkeQyh26OOlbecqVumoCwJ8+mDm+9/5T4eOyOt+4wk8WjavYTIG+7nD5Li2cWv8zGkMYoz51q2u3Y1JQSwfcumSn9JUxW0CZIWQ5isqKCo8zoGFPybx/lyHD2w4AaCBw7Ap1HIxAaHyZlr1tXG1owMt7h5Ox5QmxF4Iv6vDhaQoTFAYADuYIlnLa7b7RwtiOBDtVK1dbyCMXXxn5azOIIKfLFKaQP9K3HKIMYEQosvhkIWH23TQ9wIpCq9M4WxycnJsQIUYrEJ/bPGuOZohfHVzdmMaAmHm418c7DU3xdoyYPebFktPJtpHu7fefjw4R0VHiNTa06ZUTPe09a1sdTUVNrYtbo3nth11VW7tBa1d/U1a1t71rdG2u1IJNkWDYdbUs0pnnFT+OloWzISsdsjqVpvy9prqrNjed41POfPx2+J7TIXaWP5Wgf5bvToBEvpppQYOXPOJoda4gTQE6TsNK8sAvUSSHBFygfnfM9wL+8aK/Bddv0tZ8SufyKZ7ml7s20iCWdsPpPu4YVaXuur/2M6WX8riReTE21vtPUAnn4iyTxdf0vJ+/QM0pwsUL4D5BmUBQEeXpaU4W6RtExzN1In7eT9qHPpIoUdqAzSrdyHIPo1JNRps1uioCWJyIm2U/JG8oO4aZMXozF8b4RupRd5JJv7Nn8ZeUyxjlrakhJHcwO2gHMUDgGLR0MmS0GrIoMRWos0K81LUnPZYgmkw6sM8HtCoQTaT9y0Wu3f/MZuCYfijhMPhUVQNdL2hY8kMroS/8UvEqqeSfC/xzPV07k3vsqyrL+2ykYnhJjEz45OLIdbu4ncrbrWhImzltU7oqqaXAEdMWiHxPsSdvuF70K6/xf6FejjL13YBvFVP+UXrkwnyelZjBcltoLypQIoEmsoiDUw4C2QFS/I/J6yx5ybWOOqaMad0kJlKo+ElAdLqvRTMqOsgucuM64j3hgHU1H1mIkQ084Oje3eXT1lZwL1nwaD0BZMNfFTcHpv+sf7v6LEo4oZMlRbFNqH9tb60nEN0UkQ0mYawZNpR878eFuD1lWsl/Jb9J5iMbPlDKnkh3raBmS66U1M9Jm5rKUmMel1dKLOcxrVSgf5dJqU4o0g0pJyTlV37x4bytpCATOG8VUT4+m9cPoURiakE34ZMes/wbB0Roun+2p7h9oLSlwzQqZq2eIr+xe2/Rhp5QF8hHn5Hh/FfM9ibs32UrNG+l22ZbrnJ8N+fERAcD6YCp6nuPc2Aq/vWXiMfzKaye/BDfzTLPwe33MT8ns4P/y0uiLBdyZw3qRvNvGZegjF6H+escXvreOnkD7zm7IkADTbJEkU4sdw1jmwzpTj42smHLB82ijenjfx9YsXkccR+B5+I1azGtQk+4maTpnLlsBL75E7O1IPea+mzfPmUwQt00FJoG+nPxN/zruZzZprTljyx2GpXiHdYWBZtcINeB+2xVP16/GT9euDwf00TbqgK5gK7QvCmfp/wPn15WDa3BcM1l/Hy8F9wZQ31nf4Q2IjjrXyG+BnzXnMmqXiTuB5CLa01gINjvb8mesSTwHuSAEtzm8anp+uvwbdprkfhUs0wCNIxH6TP1l/vf6aPDThK0TXI5I+tjj+SX/8wIcaPxWX4y+CqsCiEIiAIzhsKrgfh+6qv+4L4RETPl6/zqMKukki9AA96OseZb3Zk7UKVKxZKt65tpR1J9p1sTGgP5Z4ah+KEzl73R/xEfr+I8H5fchlN/Jr0n0c3fSGkrz+vbhd5m2ZWltThDeKUaKh3WTZXWauS+WomBdMkjGvOCRuT9YfcIZxk0x24/5cT3q8redxe8TpTsLn03b9LIaFo/I0eQ7uxtjQm6rffI4elnTcJfbwX/qRFyG+Vw+SaJdyFIpugk0WXCcnaZFo1323viNAWHZPvk1+ugfjTf2sbcPR5LDT442bhwPj6Z5z9qi9wr8B85Ji51yXb3tISxlpSUtaZEYnFX8ZbHI6C8vk4ll2h5/YdRQbM0CUbSmXHsd5rH5zWz7fBnc/5iA1NLANwyQZ2+5JjiYfQ4mle+BxJA1prT9g+770dv4zTz9RnTPp+JlY4DJKoroOucmyT4fnsGIeFC3H9EtmB+qnGyP6413tPvs4BhIwipskDKakeIg+KKTgbl92JBkkHn1J3c8t+9ia2vBKhMFkGBJtEjrGDIzKE1SeAgTJiDAVRYpKmSGwMlksJor5gUWgjKlXYS0gurS4neaYflXJnaWBUjDKNAVhkWoF1WhHz7uJ2PapE8NHJkulySPD62/qVmLapMq10a997JqvnphQarc8dO3UQ2smYr38pfOWszK6fTs+eBKfHy4j8t2uWNrWnbDx5CNfe+TkxrHVE/EEW4ynxM9H2FhtpAeE2tnGFUH1J4xXChxD5hACLNXbLgOA3WU353rI37Y44SipbwdxwED/mEC0rOmuIzmlGkw7SBzNxZ6NN3519+zXRhV1Uosp3TdtGD68s4eXJo8uzHVtjyXc85gC9MYmRh+euuaRk+vhAG43Tm3RLGW7Clp52Oesq3N7dKVjnW9KxCdWjyFvi/nUs+Ja5CnPxtn+2t4NnVwLrELw76JqDMz1MacMGJoR0I5RVsA1lR/DLEdonLJLQWnOMcSamKlrszLnWWZ3mzcVOjsrnYWynTfVNmQ6aQFxrWtL9SQtgjqsojbxf5lp+qquSF1rVGyk02qZZEEKRkPdlv9ff3LVQ6MTFMas8xSft3fNVbd+vqg1KaF5w7RwBsirUye24UVXDS3oIcj/nz+56mF6qQlUAQ++gGoNytcxFG7P98DWMXMoHIL/6l/Z7p1riv8ko2oiyiru129WsSrmUjO1XdtWc0Pr7miOoWOV9YUQ07WQPmsCisWYDge5puAUAI3NIk6EQACmaQ+BGRaAwOSemV1TH90+vnlDrZBNFOi/nEUlLL96lYx5VZLqB5zDQLFQzGm6KuUX89L6YqxRuaPsCwXYTlJE1EVJt9ycWTo8bereoW7Wv38ewfOzmgI/N42Kn53LatjTxUCv85zbEyg+Y5hTcDddq99M2ysc8/51lABfjZ++8KvSxvUlnpCj7U+mIG3vR8yhXSbXEbaB3cDmatdds4lrhi9Z8hskNo2hkI+RQHWN6fMIUwKGFZiNhDmCNq6BoR1gejCoTzNdD86woB6cPDh33YFr91w99dHJLePr1tp525NylKZkzJtthLplN+ADzhOxjpiN1trRPwb/vhKfqIcMg8Mr3DDqd38o4cM36y9KWa+Tsn7v4/ocj134Vcg2TZsf/ABFKH4tYwrtObZYYxoF3QiQC+PjATwUho5+W8MkQlOOqUDxnlMNjZpsfB8zjJCxZe2afKeTjXeuboqT2XcOlsACB6XROFhWch7AeNy/VsZfx4fO5Aj8EjTVRPjLdtrmTS1NX7Azce6kmjZnnHf+1iuBiG0duzsmQTiZPzfjEoTGAqZ7xqt/nmmai8gXOWb0/sG9z8vyyPNOZjKDf9DlRgmQR93keVlHOU/9RTkfH8W8ieTQzWpsc21DGRM0Xw4soAUWDEDPtMB0oS9I5qeXC0PhMySPyTWjuYFctn9JEgWLp6FSXdz71TeSgzuQBmnXVHPXGqWhIhXkF+H2lQXxVqiSO5OthN9CQQSazmBOhdycwSgoZRJvQ28Yz8SVltDiwd3PUxMLN9De1dWehinH5783RvA9xhpyoHgnWAfGvE3sqtqOFT25rGIoMB4GBa0NAaepg2KYyiwVijQqFKGtopEeUFFYgQCboj0jZ8cCk7U1Q2W3MBBLjMRi0SCKxO0od6gD6Muon6Q35JGLDZS9DEpfLNZTA4aqrmrD0rwHCAO8Cs/Ur4a3J0Lql9WU4RfBJiYySfg+cviqaczLvipt59LuhbjXflPdSuRLUUd/9VV422jRv6SF/NbehYrcQ1p2AZ6jd80L5+kSRwE3WV+OVGTs9GvnU6yLDbJsrZ2aE+iijskqPtuHgTAktgz0r+xtaUaslZRRH6FKlRJrBwO9bK+lef8YXipg7j8GSJjM+GRPmSApRv6n//T4VrH3qqbRaNxoqoxSNMfwD6MV18yPulftrX+xZ7gXeka7vMCPgf2aQ8+N4bPuaKz7lg2LIGjjTT3x4T4jvubPYKL+cFtPTxscwm0DA+yVNaMjbFNt/cE9k+sUpoxgas8Gu1qjhG7GqUu+oAFel8B2gTDcgt+54If2XXv1VVsmVvRkM4m4TnnrYCGLtt5foc4F2rWO/NrIbxENvBHUy0WJBYqEg8hbyklAxoATvupfHMCZ3wAHaASEAFz/Y7pUPh+ZumWK7z65G1KGftgMJro0NbIzrOvbm1sCuhL9tBGKtrof1aLaZkdRjS4zYhzSDTDVw4bldnrPGtubWgKGiH0adR1JuR9VI/qErSgB72HMk0emp2+anr6F7kfTydZ+zdKSO0EdDRuTqaip3xAIjapaLa1aWqg/kmqNQEiXzza3ZFbqId3euezR4Iiqbkj5j7ZEIeTX7X4n9vLvLmKL2mAXILVUp0WPoyLCVJVGQ+/yNlGhjP8PNLq4y9vNy9rPrn+eW36OaPmdX0nTF7EIpu9XPlvW1XMgOiHbSHIL1ji1nsbpBdbAyXtlTRwjSHuCqyJvkjfAVEiMe317oeLEURlNKa/CI7tfVLxLp5qb4tFwUFVYJ3R6/STHqy1Xi1R9RLvvd6lSPIba14rZoo6zwa3w/7L18OGzRwC+N7B52+HD2zYPfA8OP3iIH9kyjkd4Fdwj9x85skUPzfXhQd9cSN96mB+97yjgoYUXvZ7kxYu/UW7mL7Eo+rwKK9byTKWsSWWz6N8VBaZxB5ShgDJZHerscm0J6L1at2fNGPH4CqQNZ+gAGTeaPZVNBB52IJ7nt/uI3N/B0707Do+8vmEH37rpdTLX8eEDd47Xr564Y3aIj+67azM8Q4dwYHjpHbJoOu1/8OkH++lk4s59Y2Lo+tsevG1ukA/N3uHb9f9TbkFebNRET61I/GEuOEtdCkxKcdfISpPptmSn01kdVNF4Y4NjHF1rWnh0cxWZKImsJdKcKPPIkZR5RIoYkcJ7dh665dDOHqV/4jgc2ILXkYz77zgwypGsH1zKst/L+ir6nJVsPdtR2zaC4aQTZC9CR4p0jigDQ6gmexJcUeeXdbS0xY7WslzDdpPF8uryAPX0L+tqoVNFD5QrFi7rbKGXwYnkJGCpwra4XMZe1th6JZcOCL0VgV445HepqL+l5jVdKMHP1VeH89a/WtYaK2/9Z/g4noyFYduzjf6WpSS0FIKDRovrC4aaQ9ZArQ9b1r/K58P0Yhi/4Msl4WPhFbUuzCTBb1OitsjmCVsAn+Qs3eokTJ1FeEQlI1nGXNlfnbS8tcc/sYz4wU8vsbd+lr/UII5u7mncOYBJ+WKc+5jsETe/L03AXCfmN4IlTVnCOYiVSxyWr5h45up7d/Lpu568c7ey4zRcu6yjzk9P3Xvu3im5qb9yaf98ab2AwZIsy0Zrq6nXxkG22zi121ScGiC71IoiZwcZqlAmzUCmvaU5GgkkzaQfoNCjlKimWnxvGhtR5b4r0roYFX59BZLFsvVB5NMRIVAGQ65bJoBsRuaFbLJM/0n3nZCLlZaWYKj+efWy88WezKv+yiG5dKnN23mX2uUJbi5bY+Rc4XgxBrHXGnlYb637gwLPEuXVBmD1ViiIyzgRfl5f9NddvfoB9NDxw0clWD9KV0FbdhMMjzfc+H7uJXEG8fo6Ns4O1q5fU+KCCq16PhXG3JuJcczFw6GwEaLSBXkQwNwF4DgLs1AgHDqA2FToAXEgCDpj+jTudDaDgUmnGsaG9bWx1UOVctJGzBlDf2HJWgZyh1HHkeV53RK5WC6Gc8fr45AzKSByxwlWHShTsxydSgfVLhALUZsXOiS8w0TlVOdJ006bC4ZayA43j7cN9WCqeCgYDTvGJzKnKG0Jn7ou6KSC18Frs8FUk2Jch1frv65/kWLdMMbf2fWfDKac4HFdaYpb8HY9ZDXZhnEylEgHP7t2L6YMcO46M22b111HA113zoFBDJQUpy/WLx6B36K+MxQdmlHBKerm0BIJKqUu68GgoLY0VSpexdChJiDC1WpC9qwK1cQYpS7U0BW0JAzeMrX6P+hRI2Dy4z/hqqmb4gS3jG8GLT77P1Ue5E4wfOFTFoioAS8NYVYZhv9umJapaPV6hct6wHdkHiowcqVYnvUivt5Qa+3vK/X2dBXy2Uy6pclBE4pR4XkwxWHTtq93vH+tv0l2U6pFvbNRePWrv51uBFbBWmgHbw/upXv+0LnRc1AxL/RjLrVgmvx/yP0Fq1KJxarV2A+PHct2HDvWwbvxJIYX60/THfzHrcdGH7shQm/iC2l6E/fXRumtaPU/ybeyx+p34UkVL0LJv9PAUHOomzL1w8q9uZaYoV3SIOoujHBKKii60eKMxhJHXUMgTQW0InVqqErq22AbYN6BHOMkFCMtlpWLDDc/0NM23tYLZ1uGMX5ZrWfPtkQj+chQ61lZiH+gZSiai0Sbz4JhDbeswXd2PSVr8E/twqtr8KXdu690Q2KpI6jHMMuhBjdRdbG9iQslEae6YVhDV7gBdOiHgK4iKtSERkv4yOpAP8ZMpimmNqtSRuUFG50FDD2AeaYRNrasGS0P2LTwuGDncpRJNtZ5Fpev85SVhMY6T3ewBJrtjAFIs8XZi95eSXOXLJkW75wKaXmE7afkst1TsjBDJxP3v3I//kG6Z9R+ce7WnfcfrvHRo6fPnT46CpteTMJZ7yXKMb2XTlHieMpspgUYLz+k3UsJV/LFTWNH7vvT08eHlfWHHtx+69yLSbZMRhHWhDn2SG0oYCC3qE/B0qAKuZqPg+b5XkErlwWmYkKlMkNY2eLmUAqF3OJinmKjrPIhuK1/W/IJ6z8kh5K1D2aK+/UTWqOzkz1fC4xVOgKKKqgjZqKV9nhTGGOgUGnZjiK4Mq8jJFKOMwJ0UxSLdlO/Ymvrtq8H3/UG+nBNcG0e7Vh79xt/yOf37KklDMPYaeyc3LZ1y8hwT671KoP8BApooL9agOqYUm2FATeRptTcdeQGxexmC3pWyw2u5ZSr4l9xsLCKW+DaaeqxVskXZql+XdTggY9NDrcHk331MoTzqZSj3fGlCe3GxJQT6IsGjeBkQOGQO53v+VKSb9E1EVMQ5vKs2/R7axiimWAmiVCh4/MZ1eYrecvvMWx9oa71KppmNkVhBs6G6m+veHkw8amOFi0QFY4pTI7RrikRxSd1jgBaCeytDEHmYSsUN/HTEEyqQVQ6ppY4937ER/nPmMXaWK6W8TvQy1cj+s28wcIlS70LHqQsSoS5rB18abP70ubwv0VMqrRhJALnb2SJXZ76vg7pAPc9++oF2+s8XzLyZUMt/3ajhy35encPGy4n+lIy4Xvvou1JERMJFmTa8zqHldSwlaBa9k6VC63heDzM/3cYttfndDMiKlbIwCN7eV2F8FS61toUNZhCzHltUoKChwg/yah6WVnr8jIXJer+ultoizj14CWn/GfvvEU5uIjTdtnx8nw86K1TlzWF5QsXBhYXGlw+3rLk/5IB/G8+gzZuYUagPa8ByoUaWfiRIuA35I4CrJOMVariLtOCaKD+Ryq3gvWTwSDci1AAfVtQi7zzsmWE4F5Vq/+RPKDe8714vX5SVSVGuXjxa2K/iCyN42qyOkbLkXwt6FIjmt5sRsHC11VB2yANZQl1HL+GWjFC9Em4Vx7Q2oKTeB2+oKkeL3xEkBU015zWlri4VEBrpICIlwZ7Eso2mgSVKs8GLeJN5YsLnmn7Lh7/45KS6ncSg5I/Por8NcaWi7UW27Te2JeyTGPqPg3VS9j2CzJyeznjn1qaGXCrpsq8ro655n7+1zi3WwkBRkGuRl5e3eMyi6L0TvDJcnYwTnM14fWG5Xyh5nXVLya56BmNJRUi25oYoiGRJBGXdaO+Rb1Y9R861mlZYzodsf21K8/wZ1mC8I75Hr9viTsF+fsW5BzxTSO1IFQNz6DJvnC/lPv9L6Ab4KcvfJU6gC94y9NfMP31s7i5XY5RIn6LJqKRxjAKDuOVppiQA65ycUhaEvVeQya8dVuF6uCYKClVFADVGd5FyGt9RTWAAgg50ahiNFm2YkcCarHv3QTW/6Jna0TY0VA0FEpnMkbciKJ0RGSrrMN/XzzKfy7p3saOsq21cUl7FVQ2Dboqxg8D38S4hnxooL2bGRU1qurqAtP1Q1M7xzd3Sd4MKlx9aN7cxtWq/1OQAi25ohrK0s0ilVHwbgmKVNGWD1T/IMmcmd2u68h5MhPsLpW6Mf7ZEUPfceC+0zfhdXy9uTm5cQffujnZrMQFzmZdv+n0HyDOnl33Z4RjOcFoIL338N50IIpBxBEd9+2+7fV+vGGHQ5Y18NCTDw1EwkITYRu/JwZe9fPMI+IfxFUsyjbSqvKhAcwt168pdedsTBbTzZxTnRzRxQyV/if8uggP8y2VcpqWw7iyTmgJOy3GuEu5oK35P5xC0L6GZFag308hopD9/6r3KyoE7rKG5Tqi3D9z8s6TM/3+7mEeeCxiPDanxdWDjxmRxwKIeebmVFVePajGtTl5VaWLcGDdLdMVpbTvxD0n9pWUyvQtew1RfioQFOU/1vU/Lotg4KmyMEz9nnuM2OINTVu8ETPuuUeXPuNZUcFYEmd9rFRbYSxfVUjLiN9dFerqyvd2yKWFBEEB548Fup3m1PWnBQHUERnjyKYur0O1v1pBfvl30u2Hnj4EwydOw/CBOyd23vd4+YefpuUbvHb84elmO9HXD1P3Tq1f48YM5VZ17msH5/d1fPtmWQndeOwTd1EnZNeXbtwsoBRbcbJ29T3T0GbGDO+3J95aen6KxViWDVCHL8i5wsPAxPLfE1FDb55RmQnmCYgrEoijOyX+6KeDoE66Tt5ONjkSgheKBA9LqL6qpqchU0E7QaSYtJ3+irSVimrrmpLJU3ej0gsK6vTRXbdlEXtnb9u17Z9B+Un9m9Hg5rmoE93YF4zCPwZ31H9b/6f6b3cEgzvAgAIYO4IwfMe64Q03nOX3fXzD8Lo7brzrLtiCz85tCkajwb6N0b9LJD738MOfSxTs2x7mj3yGsEgjzzBYB9Xw2hGCYAZOzYWG2uR6nFlvxlJeEZfO732ziNsX84be4ffMGz7/gRmQb1dyTX8Q/dtArU8Hb8Wybmgod53NBlQOilxbg9mPCIstK3sTAzE7O5BMJuTKkvJgwfulBskXM0CBMymXLQrpkSoDMVmJ6aA2QjGG4SJkRk38g5sd61dtYGoQ4St+jHY+U23r4aVWOEjtseoMnDgvfwCEm2+hp6r/X91AK4zYkU3HMVEaxnR3qBfqPzn+/wHPnsOreJxjYGRgYABi1vIsoXh+m68M3MwvgCIMt5YoxkDp2P9f/2exVDAHAbkcDEwgUQAz1Qu/AHicY2BkYGAO+p/FwMBS9v/r/68sFQxAERQQDACh8QbyeJxdT0sVwzAMy49AkAxAkbT3UQiAITGAISmAYQiA9th4ttUs7Q568UeSlVidiwSkB3PUPg+ESd6ZD/+8v7HyrtzwghY89ZB6BcyrYqc6RZhw48YhaA1Wc/v1PQtdeXJ/HppUmFM597nvBVK7D+Z+E8/uQZLBgDyaz3Llvxx02S3c/Hv813JrznryZP4F+6lSfQAAAAAAAAAAUAC2ATABaAGyAfoCJAKwAzYDmgQSBFwExgUyBbQF/AZOBvwHRAe2B/YISgigCPIJGglCCWQJignACgAKQAp2CroLAAtGC4oL8gxcDPINng5iDuYPag/6EF4RIBGGEeQSShKYEyQTbhOyFAoUYhS+FVoVphYoFooXHBeGGFoYnhjGGOwZChlOGXgZrBneGhwaWhqgGtIbLhvyHHQc2B1QHZ4d/wABAAAAUwBtAAYAAAAAAAIAIAAwAHMAAAB2C3AAAAAAeJx1kN9q2zAUh39q0441YxcbjN3tXJWWEcc1lEGvWkLbXZeSu8JUV/6T2VKQlY48w95ifYa9zt6jd/vFESUUYiP5O5/O8ZEE4AP+QWH9nHKsWeEdozXv4A0uIu/Sf488IN9G3sMQPyLv0/+MfICv+BV5iI/4wz+owVtGM/yNrPBZfYm8g/fqW+Rd+svIA/Jd5D18UovI+/S/Ix9gqp4iD3GoniduvvR1WQU5mhxLlmap3C/FUdVWN6IXoXK+k3MpnA2maVySuza0ZlToUZ07292YctFov6k2eWp8VzsrJ0m6qa+NNV4H87Dq1j2WWQiFFN61chX7yNy7mclDUoUwPxuPN/tjAoc5lvCoUaJCgOCI9pjfDGk/BPfMEGaus2pYaDQ0GgtWVP1Kx/ico2BkaQ0zGnKCnHNL09KNuK451721rLqhLfmfht5vzdrmp7Sr3nUfC07YL92afU1r+wrd7/Dh5WwdHrmLjDawanUK3+9acPXqPML7Wq3NaHL6pL+1QHuGMd8t5/8PvPGO3QAAAHicbZLnlpswEIV9DRiwvZtseu89Ib333vvmBWRZYMVC0pHEEufpg8BO/kTncOfTaLgMOtPr97o17P1/baKPACEiDBAjQYohRhhjDevYhu3YwA7sxC7sxh7sxT7sxwEcxCEcxhEcxTEcxwmcxCmcxhmcxTmcxwVcxCVkuIwruIpruI4buIlbuI07uIt7uI8HeIhHeIwneIpneI4XeIlXeI03eIt3eI8P+IhP+Iwv+Ipv+I5N/OiF1hEz9JKxUrtFrDl1lWF9NR9QIikToRaVjUouKxvOmNBjLxnlhgo2DbnM1djLKrNGnGPScSUzItzGv93yPP2bSQSX84z9cqFQdJ56yZRmMhW8mLlJJSaBI0XYPDaZKDUviZmvr6DrNjJMi0WcK1MTM02mqpbZlJtEsNx5SI238jSodJtoS7qv+BpPw67IY9xU+dg5TXjROTWwdGrIOzWhT+uA0jolxqjaZrSOnCF2Nmq16651EYpMm1fakAul9SJQeR5QVYQlk1VkZ8SwoVNFIVjWnKQrlBGdMToftdoZjrs77DajqXKrS02YEFxbbtdWkG0x44JJVUS5aBqKSlJwmhDrmOF2Hv9Wqsy4TNqoKhfmSrrQKuNSL5nvPG6p0s0AkEWkSWVZMy1Kx3ljk03qLuZ14lTmB8gNGmByGrGfjLrhlhJV2f7SaIneNF1ypQNbybBUSgZswQaWEUNngeay1/sD4l/60HicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=') format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0\00a0"}[data-icon-after]:after{content:"\00a0\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}@media (prefers-reduced-motion:reduce){.passage{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-core-macro" type="text/css">@-webkit-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}.macro-type-cursor:after{-webkit-animation:cursor-blink 1s infinite;-o-animation:cursor-blink 1s infinite;animation:cursor-blink 1s infinite;content:"\2590";opacity:1}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}@media (prefers-reduced-motion:reduce){#ui-overlay.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-overlay:not(.open){-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-dialog.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}@media (prefers-reduced-motion:reduce){#story{-webkit-transition:margin-left 0s;-o-transition:margin-left 0s;transition:margin-left 0s}#ui-bar{-webkit-transition:left 0s;-o-transition:left 0s;transition:left 0s}}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-ui-debug" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript must be enabled to play.</noscript></div>
		<div id="init-lacking"><p>Browser lacks capabilities required to play.</p><p>Upgrade or switch to another browser.</p></div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="A Red Winter" startnode="1" creator="Twine" creator-version="2.3.16" ifid="F53396EC-114E-4028-83C9-B6E276731AE6" zoom="0.6" format="SugarCube" format-version="2.36.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">@import url('https://fonts.googleapis.com/css?family=PT+Sans&display=swap');
html { 
  background: url(img/background1.jpg) no-repeat center center fixed; 
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
  letter-spacing: 1px;
}

tw-story {
}
a {
  color: #ff9900;
}

#collarZap {
  color: #ff3300;
}
#collarGood {
  color: #3FBF3F;
}

#collarWarning {
  color:#E1E10E;
}

#saves-list {
  color: white;
}

#juneEyes {
  color: #9cc2ff;
}

#rouveEyes {
  color: #a572db;
}

#scarfColor {
  color: #bb0e0e;
}

#summerEyes {
  color: #66ff33;
}

#jamesEyes {
  color: #ccccb3;
}

#story-title {
  color: white;
}

#ui-bar-toggle {
  color: white;
}

#menu li a {
  color: white;
  border: 0px;
}

#ui-bar {
  background-color: #75aacc00;
  border-right: 0px solid #444;
  color: white;
}

#game-tool-tip {
  color: #c81a1a;
}

.passage {
  background-color: rgb(0.25,0.25,0.25,0.8);
  border: 3px white solid;
  padding: 15px 25px 25px 25px;
  border-radius: 25px;
  color: white;
}

#history-backward {
  color: white;
}

#history-forward {
  color: white;
}

#ui-bar-history {
color: #fff;
background-color: transparent;
border-color: #fff;
border: 0px;
}

body {
  font-size:120%;
  font-weight: 400;
  font-family: 'PT Sans', sans-serif;
  background-color: rgb(0.25,0.25,0.25,0.0);
  /*background-size: cover;
  background-attachment: fixed;
  align: center;
  max-width: 99%;
  height: auto;
  background-image: url("img/background1.jpg");
  background-repeat: no-repeat;*/
  color: black;
}

#centerMe{
  text-align: center;
}

#warning{
  color: red;
}

.slowfade .macro-repeat-insert,
.slowfade .macro-timed-insert {
	-webkit-transition-duration: 3s;
	-o-transition-duration: 3ms;
	transition-duration: 3ms;
}

/* hovertip code - Start */
.hoverTip {
	display: inline-block;
	top: 0px;
	border-width: 0px;
    border-bottom: 2px dotted white;  /* If you want dots under the hoverable text */
}
.hoverTipTxt {
	position: relative;
	vertical-align: text-bottom;
	line-height: 20px;
}
.hoverTipTxt span {
	position: absolute;
	visibility: hidden;
}
.hoverTipTxt:hover span, .hoverTipTxt:focus span {
	visibility: visible;
}
.hoverBox {
	color: white;
	background-color: black;
	text-align: left;
	width: intrinsic;  /* Safari/WebKit uses a non-standard name */
	width: -webkit-max-content;  /* Chrome */
	width: -moz-max-content;  /* Firefox/Gecko */
	width: max-content;
	line-height: initial;
	padding: 3px 10px;
	border: #7f7f7f solid 2px;
	border-radius: 6px;
	box-shadow: 0px 0px 12px 2px rgba(0, 0, 0, 0.75);
	z-index: 100;
}
.hoverTail::after {
	content: "";
	position: absolute;
	top: 100%;  /* At the bottom of the tooltip */
	left: 50%;
	margin-left: -5px;
	border-width: 8px;
	border-style: solid;
	border-color: #7f7f7f transparent transparent transparent;
}
.hoverBox a {
	transition-duration: unset;
}
/* hovertip code - End */

/* Drunk Text - Start */
.drunk {
	animation: drunkCam 10s infinite alternate;
	color: white;
}
@keyframes drunkCam {
	0%  { filter: blur(0px); text-shadow: 0 0 0 grey; }
	20% { filter: blur(1px); text-shadow: 8px 0 0 grey; }
	24% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	26% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	28% { filter: blur(1px); text-shadow: 10px 0 0 grey; }
	30% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	60% { filter: blur(1px); text-shadow: 5px 0 0 grey; }
	62% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	65% { filter: blur(2px); text-shadow: 8px 0 0 grey; }
	67% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	80% { filter: blur(0px); text-shadow: 8px 0 0 grey; }
	85% { filter: blur(2px); text-shadow: 10px 0 0 grey; }
	88% { filter: blur(1px); text-shadow: 5px 0 0 grey; }
	90% { filter: blur(0px); text-shadow: 0 0 0 grey; }
}
/* Drunk Text - End */

#passage-header {
  font-size: 150%;
}

.charPortraitBox {
  
}

.charBox {
  width: 65%;
  height: auto;
}
</style><script role="script" id="twine-user-script" type="text/twine-javascript">config.history.controls = false;

/* hovertip - Start */
function UpdateHoverTipTxt(Container) {
	if (typeof Container === "undefined") {
		Container = document;
	}
	if (Engine.isIdle()) {
		clearInterval(HTTIntervalID);
		var i = 0, positionInfo, sum, element = Container.getElementById("hoverTipTxt" + (++i));
		while (element !== null) {
			positionInfo = element.getBoundingClientRect();
			element.style.left = (Math.round((positionInfo.width - parseInt(element.parentElement.getBoundingClientRect().width)) / 2) * -1) + "px";  /* Center hoverTipTxt horizontally over parent. */
			element.style.top = Math.round(-1 * positionInfo.height - 5) + "px";  /* Position bottom of hoverTipTxt just above the parent. */
			positionInfo = element.getBoundingClientRect();  /* Refresh rect */
			sum = Math.round(positionInfo.top + positionInfo.height + 5);
			if (sum > window.innerHeight) {  /* Make sure the text isn't outside the bottom of the screen. */
				element.style.top = (parseInt(element.style.top) + window.innerHeight - sum) + "px";
				positionInfo = element.getBoundingClientRect();  /* Refresh rect */
			}
			if (positionInfo.top < 5) {  /* Make sure the text isn't outside the top of the screen. */
				element.style.top = (parseInt(element.style.top) - positionInfo.top + 5) + "px";
			}
			sum = Math.round(positionInfo.left + positionInfo.width + 26);
			if (sum > window.innerWidth) {  /* Make sure the text isn't outside the right of the screen. */
				element.style.left = (parseInt(element.style.left) + window.innerWidth - sum) + "px";
				positionInfo = element.getBoundingClientRect();  /* Refresh rect */
			}
			if (positionInfo.left + window.pageXOffset < 10) {  /* Make sure the text isn't outside the left of the screen. */
				element.style.left = (parseInt(element.style.left) - positionInfo.left - window.pageXOffset + 10) + "px";
			}
			element = document.getElementById("hoverTipTxt" + (++i));
		}
	} else {
		clearInterval(HTTIntervalID);
		HTTIntervalID = setInterval(UpdateHoverTipTxt, 300);
	}
}
/*  Waits for passage to be fully rendered before doing anything.  */
var HTTIntervalID = 0;
$(document).on(":passagerender", function (ev) {
	UpdateHoverTipTxt(ev.content);
});
$(window).on("resize scroll", function (ev) {
	clearInterval(HTTIntervalID);
	HTTIntervalID = setInterval(UpdateHoverTipTxt, 300);
});
$("#ui-bar-toggle").on("click", function (ev) {
	clearInterval(HTTIntervalID);
	HTTIntervalID = setInterval(UpdateHoverTipTxt, 300);
});
/* <<hovertip>> macro */
Macro.add("hovertip", {
	tags     : null,
	handler  : function () {
		if (this.args.length > 0) {
			var width = 330, left;
			if (this.args.length > 1) {
				width = this.args[1];
			}
			left = Math.trunc(width / 2) - 11;
			if (State.temporary.HoverTipTxtCount == undefined) {
				State.temporary.HoverTipTxtCount = 1;
			} else {
				State.temporary.HoverTipTxtCount++;
			}
			var output = '<span class="hoverTipTxt hoverTip" tabindex="0">' + this.payload[0].contents + '<span id="hoverTipTxt' + State.temporary.HoverTipTxtCount +
						'" class="hoverBox hoverTail" style="left: -' + left + 'px; max-width: ' + width + 'px;">' + this.args[0] + '</span></span>';
			$(this.output).wiki(output);
		} else {
			$(this.output).wiki(this.payload[0].contents);
		}
	}
});
/* hovertip - End */

$(document).on(':passagestart', function (ev) {
	if (!ev.passage.tags.includes('noreturn')) {
		State.variables.return = ev.passage.title;
	}
});

// volume slider, by chapel; for sugarcube 2
// version 1.1.0

/*
    Changelog:
    v1.1.0:
      - Fixed compatiblity issues with SugarCube version 2.28 (still compatible with older versions, too).
      - Added settings API integration for SugarCube 2.26.
      - Internal improvements and greater style consistency with my other work.
      - Added a pre-minified version.
      - By default, the slider is now more granual than before (101 possible positions vs 11).
        Change the `current` and `rangemax` options to 10 to restore the old feel.
*/

(function () {

    var vol = {};

    // options object
    var options = {
        current  : 100,
        rangeMax : 100,
        step     : 1,
        setting  : true
    };

    vol.last = options.current;
    vol.start = vol.last / options.rangeMax;

    function setVolume (val) {
        // fix for SugarCube 2.28 and higher
        if (typeof val !== 'number') {
            val = Number(val);
        }
        if (Number.isNaN(val) || val < 0) {
            val = 0;
        }
        if (val > 1) {
            val = 1;
        }

        try {
            if (SimpleAudio) {
                if (typeof SimpleAudio.volume === 'function') {
                    SimpleAudio.volume(val);
                } else {
                    SimpleAudio.volume = val;
                }
            } else {
                throw new Error('Cannot access audio API.');
            }
        } catch (err) {
            // fall back to the wikifier if we have to
            console.error(err.message, err);
            $.wiki('<<masteraudio volume ' + val + '>>');
        } finally {
            return val;
        }
    }

    postdisplay['volume-task'] = function (taskName) {
        delete postdisplay[taskName];
        setVolume(vol.start.toFixed(2));
    }

    $(document).on('input', 'input[name=volume]', function() {
        // grab new volume from input
        var change      = $('input[name=volume]').val();
        var newVol      = change / options.rangeMax;
        options.current = newVol.toFixed(2);

        // change volume; set slider position
        setVolume(options.current);
        vol.last = change;
    });

    Macro.add('volume', {
        handler : function () {
            
            // set up variables
            var $wrapper  = $(document.createElement('span'));
            var $slider   = $(document.createElement('input'));
            var className = 'macro-' + this.name;
            
            // create range input
            $slider
                .attr({
                    id    : 'volume-control',
                    type  : 'range',
                    name  : 'volume',
                    min   : '0',
                    max   : options.rangeMax,
                    step  : options.step,
                    value : vol.last
                });
            // class '.macro-volume' and id '#volume-control' for styling
                
            // output
            $wrapper
                .append($slider)
                .addClass(className)
                .appendTo(this.output);
        }
    });

    if (options.setting) {
        // settings API integration, for SugarCube 2.26 and higher
        if (Setting && Setting.addRange && typeof Setting.addRange === 'function') {
            
            function settingsVol () {
                var newVol = settings.volume / options.rangeMax;
                options.current = newVol.toFixed(2);
                setVolume(options.current);
            }

            Setting.addRange('volume', {
                label : 'Volume: ',
                min : 0,
                max : options.rangeMax,
                step : options.step,
                default : options.current,
                onInit : settingsVol,
                onChange : settingsVol
            });
        } else {
            console.error('This version of SugarCube does not include the `Settings.addRange()` method; please try updating to the latest version of SugarCube.')
        }
    }

}());

// fading-macro-set.min.js, for SugarCube 2, by Chapel
// v1.1.0, 2021-04-20, 53d1a20e9321b3782a303cf7dbe00f5c51e947db
;Macro.add("fadein",{tags:null,handler:function(){var t,a,s=$(document.createElement("span")),e=this.payload[0].contents;if(0===this.args.length)return this.error("no arguments given");t=Util.fromCssTime(this.args[0]),a=this.args.length>1?Util.fromCssTime(this.args[1]):0,s.wiki(e).addClass("macro-"+this.name).appendTo(this.output).hide().delay(a).fadeIn(t)}}),Macro.add("fadeout",{tags:null,handler:function(){var t,a,s=$(document.createElement("span")),e=this.payload[0].contents;if(0===this.args.length)return this.error("no arguments given");t=Util.fromCssTime(this.args[0]),a=this.args.length>1?Util.fromCssTime(this.args[1]):0,s.wiki(e).addClass("macro-"+this.name).appendTo(this.output).delay(a).fadeOut(t)}});
// end fading-macro-set.min.js

</script><tw-tag name="Changed-to-&quot;I&quot;" color="green"></tw-tag>,<tw-tag name="Frostburn" color="blue"></tw-tag>,<tw-tag name="Ship" color="green"></tw-tag>,<tw-tag name="failure" color="red"></tw-tag>,<tw-tag name="good" color="green"></tw-tag>,<tw-tag name="incomplete" color="red"></tw-tag>,<tw-tag name="menu" color="blue"></tw-tag>,<tw-tag name="new-content-flag" color="gray"></tw-tag>,<tw-tag name="noreturn" color="gray"></tw-tag>,<tw-tag name="ship" color="green"></tw-tag><tw-passagedata pid="1" name="Title" tags="title" position="455,0" size="100,100">Welcome to A Red Winter v 0.1.9

Please know that this game makes use of sound. &lt;span id=&quot;warning&quot;&gt;If you do not wish to use sound, please utilize the volume controls located in the &quot;SETTINGS&quot; panel on the left.&lt;/span&gt;

All saves are stored in-browser. &lt;strong&gt;CLEARING YOUR BROWSER HISTORY AND CACHE WILL CLEAR YOUR SAVE!&lt;/strong&gt; 

Save often and to use the &quot;save to disk&quot; feature at least once to store an offline copy of your save. Please report bugs to oliverhart774@gmail.com (or the /hmofa/ thread).

&lt;span id=&quot;warning&quot;&gt;This story contains adult content&lt;/span&gt;

- Oliver

[[Continue |Approach The Fire0]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audo &quot;Akva&quot; stop&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="2" name="StoryInit" tags="" position="1,0" size="100,100">&lt;&lt;cacheaudio &quot;fireCrackle&quot; &quot;sounds/fireCrackle.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;citySounds&quot; &quot;sounds/citySounds.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;crumplingPaper&quot; &quot;sounds/crumplingPaper.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;officeAmbiance&quot; &quot;sounds/officeAmbiance.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;windHowl&quot; &quot;sounds/windHowl.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;bootsSnow&quot; &quot;sounds/bootsSnow.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Akva&quot; &quot;music/Akva.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;seedsOfTheCrown&quot; &quot;music/seedsOfTheCrown.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;summersTheme&quot; &quot;music/summersTheme.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;doorOpen&quot; &quot;sounds/doorOpen.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;chaosMind&quot; &quot;music/chaosMind.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;junesTheme&quot; &quot;music/junesTheme.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;snowMobilePass&quot; &quot;sounds/snowMobilePass.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;snowMobileIdle&quot; &quot;sounds/snowMobileIdle.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;dogYelp&quot; &quot;sounds/dogYelp.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;collarZap&quot; &quot;sounds/collarZap.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;rummaging&quot; &quot;sounds/rummaging.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;gunshot&quot; &quot;sounds/gunshot.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;bellDing&quot; &quot;sounds/bellDing.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Dirtmouth&quot; &quot;music/dirtmouth.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;fabricTear&quot; &quot;sounds/fabricTear.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;eau&quot; &quot;music/eau.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;knifeStab&quot; &quot;sounds/knifeStab.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;rouveSlowSong&quot; &quot;music/rouveSlowSong.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;rouveTheme&quot; &quot;music/rouveTheme.mp3&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="3" name="Approach The Fire0" tags="" position="455,195" size="100,100">He could find them only by the thin blazes of fire light that shot between their huddled bodies. Around them loomed a maze of sleeping buildings and quiet, condemned homes. Finding these people had been a struggle to begin with.

He approached them slowly, cautiously, treading as the thief in the night treads.

A young voice spoke, clear as glass. &quot;There&#39;s no need to be so cautious, stranger. We&#39;re harmless. Most of us, that is.&quot;

&quot;I believe you, but my shotgun don&#39;t,&quot; he said. He steadied the leaden pipe in his hands. With any luck they&#39;d believe he had a gun of some kind with him.

The young voice shuddered with a chill. &quot;If you&#39;re going to be skulking around at least bring up some more wood for us. And drop that pipe.&quot;

&#39;Harmless,&#39; he thought. He had no reason to believe this. None at all. Still, he dropped the length of pipe he&#39;d been carrying. It clattered against the stillness of the night, broken only by the ocassional sound of baying wolves. 

Disarming himself was an involuntary action, but he hadn&#39;t gotten this far in his stories by listening to reason. Sometimes it took blowing the kneecaps off common sense to really look your story in the eyes.

&quot;Come a little closer. Warm yourself by the fire,&quot; the young voice beckoned.

He felt magnetically pulled towards the voice and the warm glow of the fire.

[[Continue |Approach The Fire1]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;Akva&quot; volume 0.7 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="4" name="Approach The Fire1" tags="" position="445,313" size="100,100">&quot;Which story would you like to hear?&quot;

[[A Red Winter-&gt;Frostburn Start Screen1]]</tw-passagedata><tw-passagedata pid="5" name="Frostburn Failure" tags="failure" position="216,0" size="100,100">Everything is white and glowing, like staring into a bright flashlight.</tw-passagedata><tw-passagedata pid="6" name="Frostburn Start Screen1" tags="" position="441,431" size="100,100">All noise came to a halt, except for the sudden rush of wind, billowing like a storm in his mind&#39;s eye. And then there was the young man&#39;s voice, booming in the chasms of his skull.

&quot;Very well.&quot; His voice was slow, his tone even and familiar. &quot;You will hear the story of Hunter Gibbs, a northern ranger, a frost punk, a man at odds with the universe, seeking warmth in a frigid place.&quot;

[[Continue-&gt;Frostburn Title]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="7" name="Frostburn1" tags="ship" position="428,1039" size="100,100">Even with the fire it was cold. For the first time, I understood the feeling of a chill ‘seeping into your bones.&#39; The wind didn&#39;t help either. Waiting at that bus stop, it raked across my pale, shivering human flesh, gliding and diving beneath my new woolen peacoat.

&quot;You mind sharing your coat?&quot; I said sarcastically to the polar bear nearby the fire. He wore two thermal jackets, all glossy and bright orange. The bear was staring off into the setting sun, uninterested in me. I lit a fire in an empty trash can and was huddled over it, under the assumption thtat if I strayed too far I&#39;d die of hypothermia. To tell the truth, I envied the bear&#39;s thick coat of fur, jackets, and layer of insulating fat. Not to mention he was seven feet tall and built like a tank. I was sure that a literal furnace couldn&#39;t outdo this guy.

Without skipping a beat, the polar bear answered. &quot;Humies aren&#39;t made for the North. Should have brought two coats. And maybe a scarf.&quot;

&quot;I&#39;ll get my &lt;&lt;hovertip &quot;Northern rangers are presented with bright red scarves as a means of keeping warm and remaining visible in inclement weather. They have come to be recognized as a symbol of the northern rangers.&quot;&gt;&gt;scarf&lt;&lt;/hovertip&gt;&gt; when I get there,&quot; I replied, absolutely certain of the ease of the task.

&quot;Where are you headed again?&quot; The bear asked in a bored voice.

&lt;&lt;hovertip &quot;North Station, sometimes called ‘the Northern Station,&#39; is a town located in the Northern Wastes. It&#39;s a hub for rangers, merchants, and those seeking fortune. It maintains an active population of 1,528 permanent residents.&quot;&gt;&gt;&quot;North Station,&quot;&lt;&lt;/hovertip&gt;&gt; I replied, my teeth ramming together and clipping my syllables.

The polar bear turned his head. Never had a mammal looked so uninterested in someone. &quot;Ranger?&quot; He asked, his voice as flat as his expression.

&quot;I plan on it. I hear the pay&#39;s good, depending on how good you are.&quot;

&quot;The pay&#39;s good but the work sure ain&#39;t. You really think you&#39;re good enough?&quot; He eyed me up and down. &quot;Because you look like you&#39;re two snowflakes shy of a snowball. Not to mention the frostbite.&quot;

&quot;W-Why don&#39;t you just mind your own business? Sure I&#39;m cold, but the bus&#39;ll be here any minute.&quot; I was starting to feel a worrying numbness creeping into my extremities. It would start first with the blunting of my senses and nerves in my fingers and toes — they&#39;d be the first to go. Then, like ruthless vines, that chill would crawl over my body, ensnaring my arms, legs, then chest, before squeezing tight, one last time.

Or I was just being dramatic.

&quot;Go home, pinkie,&quot; the bear said. &quot;Your kind isn&#39;t built for ranger work. You won&#39;t last more than three weeks if you don&#39;t freeze to death before then.&quot;

I snuck a quick glance at the polar bear&#39;s neckline. Bears were predators, so he should have a &lt;&lt;hovertip &quot;A device affixed to a predator&#39;s neckline to illicit electrical shocks based on heart rate, cortisol and serotonin levels. Unauthorized removal of the device is a serious crime.&quot;&gt;&gt; shock collar&lt;&lt;/hovertip&gt;&gt; on, but I couldn&#39;t see it underneath the thick of his scarf. I might be able to [[provoke the polar bear]], and with a large predator&#39;s shock collar, one zap would be plenty to stun him for a minute or two. 

&lt;em&gt;That&#39;d teach that snapjaw a lesson for mocking him.&lt;/em&gt;

Another icy gale ripped through me. The wind howled like the tundra was laughing at me, not an unfamiliar feeling. I could also just [[tough it out]]. The bus could show up any minute, and it would definitely be warm.
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked a new character in the sidebar!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerMetCale to true&gt;&gt;
&lt;&lt;audio &quot;bootsSnow&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;Akva&quot; stop&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="8" name="tough it out" tags="ship" position="289,1189" size="100,100">It was colder than hell out there, but I decided it was time to toughen  up a bit. If not here, then where else?

The bus would probably have heating anyway.

[[Continue-&gt;On The Bus]]</tw-passagedata><tw-passagedata pid="9" name="Frostburn Title" tags="" position="441,566" size="100,100">&lt;&lt;fadein 6s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
Oliver_Hart presents:
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;
&lt;&lt;fadein 6s 6s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
&lt;h1&gt;&lt;span id=&quot;scarfColor&quot;&gt;A Red Winter&lt;/span&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;
&lt;&lt;fadein 6s 9s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
A /hmofa/ game
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;
&lt;&lt;fadein 6s 12s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
[[Continue-&gt;Frostburn Punks]]
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="10" name="provoke the polar bear" tags="ship" position="592,1105" size="100,100">I thought to myself, what was the worst thing that I could say to the bear to get his attention? I had a few ideas that I threw around casually among other &#39;pinkies.&#39; I had no particular love for anthros. They were animalistic, primitive, territorial, and generally conceited. To tell the truth, I hadn&#39;t yet met one that I cared for, and I wasn&#39;t about to start with this fucking bear.

&quot;&lt;&lt;hovertip &quot;A derogatory term for predators.&quot;&gt;&gt;Snapjaw,&quot;&lt;&lt;/hovertip&gt;&gt; I said, plainly, calmly, as evenly as he could despite the shuddering cold.

The bear turned his head. &quot;What did you just say?&quot;

&quot;I called you a &#39;snapjaw,&#39; you retarded animal.&quot;

The bear started forward, eyes narrowed. He looked like a gigantic lumbering coat. &quot;Listen to me, humie. I know what you&#39;re trying to do, but it ain&#39;t gonna work. You think you can get me all worked up and give me a jolt. I know this game — used to play it myself all the time. Unlucky for you though,&quot; the bear concluded, looming over me. I felt even colder in the bear&#39;s shadow.

I had counted on his ploy working. It should have been stupid easy — predators were nothing but savages. Now I just felt cold and stupid, death on its third rooster cry. &quot;Why&#39;s that?&quot;

The bear tugged down his light blue scarf to show the metal ring around his neck, its luminous green lights burnt out and dark. &quot;Because my collar ain&#39;t worked for the past six months.&quot; He tugged the scarf back up. &quot;So, watch your fucking mouth &#39;round these parts before you run into a mammal less patient than me.&quot;

He even snarled a little for effect, just to show that he still could. &quot;What are you, six foot?&quot; The bear asked. 

&quot;Six even, why&#39;s it matter?&quot; I answered. I had begun to regret my comment even before I saw that his collar was deactivated, but it didn&#39;t look like there was a way out of this without submitting.

&quot;Cause I&#39;m a foot taller and 200 pounds heavier than you are. You got a death wish or something, picking a fight with a polar bear?&quot;

[[&quot;Yes&quot; (Fight the bear)-&gt;Fight the bear]]

[[&quot;No&quot; (Apologize)-&gt;Apologize to the bear]]</tw-passagedata><tw-passagedata pid="11" name="Fight the bear" tags="ship" position="679,1293" size="100,100">&quot;I didn&#39;t come out here to take shit from a snapjaw,&quot; I replied, squaring my shoulders and raising my fists like tiny hammers. I didn&#39;t know how to box, let alone fight, but I thought if I could act like it, I might be imbued with some of the courage and strength, a drunken swagger, an alley scrappers jaw.

The bear just laughed. &quot;Put your arms down before someone sees you-&quot;

I threw a punch and managed to catch the polar bear across the jaw. I felt my gloved knuckles collide — and harmlessly bounce off — dense jaw bone. 

&lt;em&gt;That was a good hit&lt;/em&gt;, or so I thought, until the bear dropped its jaw, angled its fanged mouth over my wrist, and clamped down with what felt like 10,000 pounds of compressive force.

The my arm snapped like a brittle twig. I rolled backwards, clutching the now ruined and crooked appendage. The bear was on me quickly plunging into my soft neck with fervor.

[[You died. Try again.-&gt;Frostburn Start Screen1]] </tw-passagedata><tw-passagedata pid="12" name="Apologize to the bear" tags="ship" position="490,1249" size="100,100">&quot;S-Sorry, it just kind of slipped out, I guess,&quot; I answered, shamefully digging my nails into my gloved palms. I looked up again into the face of the bear, wearing strength on his face like a loose mask. &quot;It was an honest mistake.&quot;

The polar bear let out a low, rolling growl. Guess he wasn&#39;t kidding — that shock collar was broken.

&quot;I&#39;ll let it slide, ape. But you only get one with me, you understand? Only one. Watch your fucking mouth before I claw it off.&quot; 

&quot;Understood.&quot; I put his hand over his heart. &quot;On my mother&#39;s honor.&quot;

The bear cocked his head a bit. &quot;That some kinda humie thing? Swearing on your mother? I heard it before. Few of the rangers in Rojas used to do that over cards. Buncha cheating ape shits.&quot;

I didn&#39;t quite know how to answer. I&#39;d never seen or heard an anthro do that — but to be fair, the cumulative time I&#39;d spent working with anthros was about three days. &quot;I guess so?&quot; I answered sheepishly. &quot;Just... I&#39;m sorry, alright?&quot;

&quot;Sorry sorry sorry,&quot; the bear wormed a ciggarette out of his coat pocket. &quot;Everyone&#39;s sorry but never truly apologizes. Just keep your pink mouth shut.&quot;

&quot;Sure-&quot;

The bear flashed a deadly expression at the me. &quot;Keep. Your. Mouth. Shut.&quot;

He turned his head back towards the setting sun, which was just falling behind the horizon. The way the orange light glanced off the snow struck me right in the eyes. I swore he wasn&#39;t crying.

[[Continue-&gt;On The Bus]]</tw-passagedata><tw-passagedata pid="13" name="On The Bus" tags="ship" position="341,1300" size="100,100">The bus at last snored into the covered stop, brushing up drifts of snow as it moved. It was a long, plain metal affair, with a bright yellow plow christening the front bumper.

I tried to move in first, but the polar bear, being much larger, quickly muscled in front of me like a wall of flesh and fur, boxing me out.

The driver, also a polar bear — bundled up from snout to foot — exchanged glances with the other polar bear waiting at the bus stop. He shrugged and motioned for me to come aboard.

The first thing I noticed was how cold the bus felt, as if the whole thing had been vacuumed clean of any particle of warmth. Shaking in my thick woolen peacoat, I turned to the driver. &quot;Doesn&#39;t this bus have heat? I&#39;m freezing my fucking balls off here.&quot;

&quot;Heat&#39;s broken. But we got some blankets in the way back you might want to use.&quot; The driver jabbed a gloved finger over his shoulder. There indeed was a heap of old blankets — mostly woolen and thick, but looking like they&#39;d taken a trip through a landfill. &quot;And I suggest you use them. It&#39;s almost an hour to North Station, so get comfy, son.&quot;

&quot;No fucking heat for an hour? Are you kidding me?&quot; I blurted out. It was more intended to be a personal thought than a vocalization, but the cold and the ice seemed to bring out a type of honesty, like a loaded gun to the temple can make most men suddenly speak the truth.

The driver turned in his seat. &quot;What&#39;s a human out here for, anyway?&quot;

&quot;R-Ranger work,&quot; I replied, the cold shaking the words out of me.

&quot;Ranger work, huh?&quot; The driver said, raising an eyebrow. &quot;You got more balls than brains, son. Best get used to the cold. It&#39;s more common than air, depending on the type of ranger work you&#39;re doing. You&#39;re... You&#39;re not doing ice fish ranching, are you?&quot;

&quot;I... I don&#39;t know yet. Once we get to North Station I can find out more.&quot;

The driver simply shook his head. &quot;Just remember, this bus only runs once a week. Hope you can wait. Or even last that long.&quot;

I trundled past the driver and the other polar bear, to the back of the bus, where I heaped on blankets.

It would be pitch black before I got to North Station.

[[Continue-&gt;North Station Entry]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="14" name="North Station Entry" tags="ship menu" position="469,1350" size="200,200">North Station reminded me of a lot of the cheesy old westerns I&#39;d seen. I&#39;d spent a lot of time visiting my grandparents out in Wyoming who, for all intents and purposes, kept the &#39;Spirit of the West&#39; alive. In all those western books and movies I&#39;d seen, the intrepid hero (always a human) arrives at a dusty, wooden shithole, usually a town with one long road striping down its center, flanked on all sides by saloons, general stores, blacksmiths and, of course, the town jail. And there&#39;d be life of all kind walking this strip of dirt running down the center of town — fancy tigers with paper umbrellas and billowing dresses, bulky looking oxen with six-shooters strapped to their hips, human mothers and fathers hauling children, and, of course, shady coyotes scheming for their next big heist.

It was all very juvenile — the cowboy fantasy — and yet I couldn&#39;t help but see that same dusty shithole just beneath the surface of this cold, snowy shithole.

Leaving me at the outskirts of town, I had a clear image of North Station. The town itself was all bundled up, by low, one-story buildings with metal siding to shield them from the icy gales and ripping winds. Warm light slanted out small windows, forming steady pools of gold on the dirty snow of a town that was just starting to close up for the night. 

These stooped little houses and stores were spread somewhat haphazardly, like they were dropped from the sky without purpose, save for the ones clustered around the main street. Like in my grandparent&#39;s old westerns, they ran straight down the center of town, flanked on all sides by well-to-do businesses, all lit up with signs that read &quot;Jumping Jack&#39;s Saloon&quot;, &quot;Ranger Station&quot;, &quot;Provisions&quot;, &quot;Igloo Inn&quot;, and &quot;Mechanic.&quot; 

There were a few mammals out on the boulevard, shuffling from building to building. The steady hum of electric furnaces and heaters was like a swarm of locust in my ear. And even in the darkness, I could see clouds of black smoke climbing into the sky from furnaces and chimneys.

Instead of western-wear, most of the mammals I saw were wearing black peacoats or heavy woolen jackets, dressed down to their paws in thick fabrics and reflective materials. I squinted, looking for a familiar ranger &lt;span id=&quot;scarfColor&quot;&gt;red scarf&lt;/span&gt; among the mammals plodding from business to business. A few snowmobiles eased down the center boulevard.

My traveling &#39;companion&#39;, the polar bear I&#39;d met at the bus stop, wordlessly shoved on past me. The bear made straight for Jumping Jack&#39;s, his boots crunching heavily in the unbroken snow. He knew where he was going, but did I?

[[Jumping Jack&#39;s Saloon-&gt;Jumping Jack&#39;s Night 1]]

[[The Ranger Station-&gt;The Ranger Station Night 1]]

[[Provisions-&gt;Provisions Night 1]]

[[Igloo Inn-&gt;Igloo Inn Night 1]]

[[Mechanic-&gt;Mechanic Night 1]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="15" name="Frostburn Punks" tags="" position="446,711" size="100,100">&lt;&lt;fadein 5s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
&lt;h1&gt;&quot;Northern Rangers&quot;&lt;/h1&gt;
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;
&lt;&lt;fadein 7s 3s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
&lt;p&gt;A loose organization of freelancers, mercenaries, and hired-hands that make a living working the increasingly lucrative agricultural boom in the frozen wastelands of the north. They serve as guards, shepherds for arctic flocks, fishermen, and peace officers. They are often known as &#39;frost punks&#39; by northern natives due to their tendency to drift from station to station.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;centerMe&quot;&gt;
[[Continue-&gt;Frostburn Info]]
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;</tw-passagedata><tw-passagedata pid="16" name="Jumping Jack&#39;s Night 1" tags="ship" position="183,1579" size="100,100">A hungry fire crackled and snapped in the center of what appeared to be a sleepy drifter&#39;s bar. There were a few stocked tables with some reindeer just tucking into a meal (iceberg lettuce, dressing, and bright red holly), an arctic hare behind a polished bar, and at the very far end of the bar sat that polar bear I had met at the bus stop.

Somewhere, a radio was playing something in French.

Unlike in the westerns I&#39;d seen, nobody turned to stare at me when I pried open the frosted metal doors. Beyond a few uninterested glances from the bloodshot eyes of the reindeer, I was as special as a snowflake in a blizzard.

Despite the warmth of the bar which struck me like a gentle tsunami, the feeling from the patrons was cold.

[[Order a drink-&gt;Order a drink]]

or

[[Go directly to the Igloo Inn for the night-&gt;Igloo Inn Night 1]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerMetTress to true&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; volume 0.3 play&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.7 loop play&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
</tw-passagedata><tw-passagedata pid="17" name="The Ranger Station Night 1" tags="ship" position="333,1586" size="100,100">The ranger station was by far the largest building out in North Station. To me, it looked like hope. Sure, it wasn&#39;t anything impressive based on what they had back in the states, but the double-wide doors set into the side looked like they could swing open at any minute, and out would tumble a few scantily clad human women with bags full of cash. The garage door could open up and there&#39;d be a free snowmobile on the inside, gassed up and waiting with keys in the ignition. The windows would blaze with light and choirs of rangers would sing my name.

But the door was locked. And nobody came when I pressed on the buzzer. Or knocked. Hard enough to shake the station itself, I imagined.

I paced to the darkened windows and tried to look in, but they were frosted over.

So I hopelessly punched keys into the &#39;listings&#39; terminal, muttering expletives. The plain, wired together screen repeated the same error message over and over again in a nauseatingly familiar terminal font: &lt;em&gt;This station is not in service. Please contact the station administrator &lt;strong&gt;Summer Keaton&lt;/strong&gt; for more information.&lt;/em&gt;

The ranger station was looming over me like it might fall and crush me at any second. I took a step back, breathing hard, panic sinking into my guts like I&#39;d swallowed a handful of lead marbles.

&quot;Okay. So maybe it&#39;s closed up for the night? Maybe I just need to get in touch with this Summer Keaton person. Yeah. I&#39;ll get in touch with this person tomorrow and everything will be fine.&quot; I repeated this as I retreated back into the darkness of the streets, lit only by the distant glow of cold, burning stars.

The panic never settled.

[[Go to the bar-&gt;Jumping Jack&#39;s Night 1]]
[[Go to the inn-&gt;Igloo Inn Night 1]]
[[Go to the mechanic-&gt;Mechanic Night 1]]
[[Go to provisions-&gt;Provisions Night 1]]</tw-passagedata><tw-passagedata pid="18" name="Provisions Night 1" tags="ship" position="483,1589" size="100,100">Provisions could not have been more uninteresting to me. It was a small, closed building crushed between two large-ish fabricated shelters. Through the two rectangular windows that were set in on either side of the door, I could see shelves upon shelves of winter gear — boxes of hand warmers, a set of heavy boots, lengths of rope, preserved rations, face masks, gloves and assorted foodstuffs, mostly.

Behind the register, a few small pistols were pinned to the wall. I eyed them with envy. I&#39;d need a weapon anyway, so I considered this &#39;window shopping&#39; in the most literal sense of the word. I&#39;d also need ammo, both for my new pistol and the flare gun I&#39;d been told to purchase.

It was spitting rain at the airport when a young ranger, an arctic squirrel gussied up in full ranger regalia (mostly just a &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt; and a heavy woolen coat) had warned me to buy what he called a &#39;rescue pistol&#39; if I was going to the wastes.

&lt;em&gt;&quot;Mammals can see two things in a blizzard: your scarf and a flare. You can get the rescue pistol now, but you&#39;ll have to earn your scarf,&quot; the squirrel had said to me after I had questioned him about the north.&lt;/em&gt;

I wondered where that squirrel was now. Probably getting fat off his pay.

&quot;One day, I&#39;ll be able to buy everything in this store,&quot; I said, tracing my gloved fingers over what I wanted, circling them as if I were picking them out of a police lineup.

I read the sign on the door: &quot;Closed&quot;. And a little beneath that was another taped on sign. &quot;All orders will be processed during business hours only.&quot;

I sauntered away, digging my hands into my pockets. I was the only one out on the street, and for good reason. It was late, and the cold had fallen on North Station like a heavy wet blanket. I thought about warming up, however that might look. Jumping Jack&#39;s or The Igloo Inn — they&#39;d both do. But I also was looking for something more: someone to bump into and talk to. I even thought about going out and finding that polar bear I&#39;d ridden in with, even if it meant more casual degredation.

I shucked a glove and scratched at the back of my neck, squinting and scanning for anyone nearby. It was only me, and the stars above, and the steady pools of golden light cascading out of warmly lit windows onto the virgin snow beneath my feet.

[[Go to the bar-&gt;Jumping Jack&#39;s Night 1]]
[[Go to the inn-&gt;Igloo Inn Night 1]]
[[Go to the mechanic-&gt;Mechanic Night 1]] 
[[Go to the ranger station-&gt;The Ranger Station Night 1]]</tw-passagedata><tw-passagedata pid="19" name="Igloo Inn Night 1" tags="ship" position="636,1570" size="100,100">The Igloo Inn wasn&#39;t a bad place to stay, but the penguin at the front desk tried to upsell me on my room and told me in no uncertain words to fuck off.

It was $36 a night, the sign read, not $50. I suspected he was paying a ‘human tax&#39; of some kind, but with a little haggling and threatening, the price dropped back down to honest numbers. I ended up paying $42 a night, but with the cash I had saved up, I&#39;d be alright for awhile.

The room wasn&#39;t anything special, despite what the plastic igloo out front advertising the place would have one think. It was an entirely separate unit, like the rest of the &#39;rooms.&#39; A small metal box with thick, plain walls that looked riveted and bolted together rather than assembled, a fireplace cut into the wall with a pile of chopped wood ($1 per-log). Sitting next to the fireplace, a bed, dresser, nightstand, and an integrated bathroom. 

The room was cheap, and it was also cold. I lit the fire up before I even unpacked my bags on the hard, wooden floors. The blazing light threw strange, dancing shadows on the metal walls. They moved like something ancient and old before the hunt. Fire, to all mammals, was a primal thing. It quieted and soothed the mind, but it also invoked something else — a sense of spirituality. That something greater than oneself tugged at the flames, cast out cold shadows. To a human, fire meant safety and antiquity. To another mammal, it might mean peace, or war, or love. The respite would live as long I fed the fire.

From the lone window cut above my bed, I watched snow fall on North Station. 

[[Continue-&gt;North Station Town]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; stop&gt;&gt;
&lt;&lt;audio &quot;bellDing&quot; volume 0.2 play&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="20" name="Mechanic Night 1" tags="ship" position="830,1575" size="100,100">The building stood alone, one street over from the main road running directly through town. I could tell I was close to the garage by the trampled, dirty snow and the smell of gasoline and oil suffused throughout the air. I leaned in close and peered through one of the darkened garage doors. I could see a grimy snowmobile up on a lift, its inner workings wholly gutted and lying around the shop, along with enough tools to properly build a rig from scratch, if one were so inclined.

In the next garage bay there was a snow-dusted &lt;&lt;hovertip &quot;Trawlers are large, amphibious vehicles that are primarily used by rangers and ranchers for extended drives across hazardous terrain. They come equipped with several amenities, depending on the model. These include a small galley, bunk, workbench, cargo bay, and auxiliary snowmobile. Trawlers bear a slight resemblance to contemporary armored personnel carriers.&quot;&gt;&gt; trawler&lt;&lt;/hovertip&gt;&gt;. It likely rolled in to North Station just before I arrived. Its clean, white paint and freshly powdered treads would have suggested that it was a newer model, made specifically for the northern wastes. The trawler and garage held my interest for a few more seconds until it occurred to me that I should check the attached office. I went around the side and saw the little hoveled building attached to the two massive garages like a small wart on a fat belly.

My breath fogged the windows as I tried to peer into the office. The small, cluttered room was also dark as night, save for the insomniac glow of old shop and maintenance terminals etched into the metal walls. On a desk, pushed up against the wall, there was a large CRT computer screen, and the shape of someone slumped over in a chair. Too dark to get a good look at who, or what, was passed out in that chair, dozing away the night.

I&#39;d have to check back in the morning.
[[Go to the bar-&gt;Jumping Jack&#39;s Night 1]]
[[Go to the inn-&gt;Igloo Inn Night 1]]
[[Go to provisions-&gt;Provisions Night 1]]
[[Go to the ranger station-&gt;The Ranger Station Night 1]]</tw-passagedata><tw-passagedata pid="21" name="Order a drink" tags="ship" position="134,1719.3333333333333" size="100,100">&quot;What do you have on tap?&quot; I said, resting an elbow on the bar. I brushed some snow off my peacoat.

The barkeep shrugged and motioned towards a few taps which all read the same thing: ‘Mullners.&#39;

The hare behind the bar spoke with a slight lisp, and a weak French accent. &quot;Sorry, I do not have much else besides beer and whiskey up here — and what we do have isn&#39;t much.&quot; He leaned an elbow on the freshly polished wood of the bar. &quot;But before I get you your drink, I must ask: are you here for ranger work?&quot;

I frowned. It seemed like everyone already knew what I was up to before I even told them my name. That annoyed me. &quot;What gave it away?&quot;

A coy smile spread across the hare&#39;s lips, which were peach-pink against his gorgeous white fur. &quot;Because you and James are the only humans left in town. Now, I offer whiskey or beer. First one ‘on the house.&#39;&quot; His ‘on the house&#39; came off as practiced, but not ill-willed.

&quot;Beer. And what&#39;s me being human have to do with it?&quot;

&quot;We just don&#39;t get many humans in North Station, and the ones we do are &lt;em&gt;all&lt;/em&gt; here for ranger work. They do not last long. Humans aren&#39;t... well...&quot; the hare motioned towards my bulky peacoat, still dusted with flakes of snow. &quot;You are not made for the weather like we are,&quot; he said, extremely proud of how his winter coat had grown in. He looked practically feminine with his glossy brown eyes and fitted long sleeve thermal shirt underneath his insulated black overalls.

I said nothing. I watched as the hare easily grabbed a mug from the rack behind him, drew some dark brown beer from the tap, and set it down on the bar.

&quot;So, got a name, bunny? Mine is Tress. From Montreal, Canada. Down south?&quot; The hare extended a hand. 

I nodded at Tress&#39;s hand as I brought the mug of beer to my thirsty mouth. It was certainly cold, colder than I could get it in the states, that was sure. My throat had been scored and dry for a few hours, so the drink was welcome.

&quot;Well, Tress, my name&#39;s Hunter Gibbs,&quot; I said, taking another swallow. &quot;And I&#39;m from Maryland, United States. I hear the ranger work is good out here?&quot;

The hare let out an exaggerated sigh. &quot;I was hoping for a fellow canuck. But I guess you must do,&quot; he added with a quick, friendly wink. &quot;And to answer your question, yes. There&#39;s ‘tons&#39; of ranger work here. Guarding arctic cattle and fish ranching, if that ‘tickles your fancy.&#39;&quot;

&quot;So, who do I talk to to get started?&quot; I asked.

Tress put on a wide, shit-eating grin. &quot;Nobunny, buddy.&quot;

I set down my beer. I was starting to feel warm from the fire, my coat, the alcohol, and my rising temper. I swallowed hard, imagining my anger dropping down into the roiling pit of my stomach. &quot;What do you mean?&quot;

&quot;Well it is... not the best time for you to have come here? The ranger station has been closed for a week. And you will need a snowmobile to do either the fish ranching or cattle driving, and June, the mechanic, is... she is not so nice to humans, you know? She has a bit of a ‘temper&#39; if you are to understand me? I am not so sure she is fond of your kind.&quot;

&quot;So what do I care if some dumpy mechanic likes me or not? All she has to do is fix my &lt;&lt;hovertip &quot;Slang term used to describe a snowmobile.&quot;&gt;&gt;rig.&quot;&lt;&lt;/hovertip&gt;&gt;

&quot;Ah, that is the problem. She is also the one who ‘sells&#39; if you understand? You want to buy a rig, you must buy from her.&quot;

It was just beginning to dawn on me: my situation was fucked from the start. I had money, yes, about $600 cash in my boots and $100 in my back pocket, but without work that&#39;d dry up fast. And it didn&#39;t sound like it was going to be possible for me to get work without a snowmobile. And if this hare was telling the truth, ‘June&#39; wasn&#39;t going to sell to me to begin with. Lack of fur and or fangs and all that.

I slumped in my chair like a balloon slowly deflating. &quot;So you&#39;re telling me I&#39;m fucked because this bitch June won&#39;t sell me a snowmobile?&quot;

&quot;Yes, I think.&quot;

&quot;You think?&quot; I repeated, eager to keep the ember of hope burning. &quot;What do you mean ‘you think&#39;?&quot;

Tress shrugged. &quot;You might be able to speak sense to her. She is closed now, but tomorrow? I would not go alone-&quot;

&quot;Tomorrow.&quot; I raised my glass. &quot;Tomorrow I&#39;ll talk some sense into her. Show her us hairless bastards aren&#39;t so bad.&quot;

This made Tress nod. &quot;Agreed, my friend, agreed. Though a word of advice: perhaps it is best to not cause trouble while you are here?&quot;

&quot;I didn&#39;t plan on it, but thanks anyway.&quot; I was starting to like Tress a bit. The other anthros I&#39;d met so far had been dicks.

&quot;It is best not to start trouble, no. Frost punks are an important part of life here in the north, but that does not make them well liked? Especially the human ones.&quot;

&quot;Gah, what do I look like, a fucking fox or something?&quot; I stiffened up my spine and set my beer down. &quot;I&#39;m not here to start trouble or anything. I&#39;m here to do honest work.&quot;

Tress began idly polishing a mug. &quot;I am saying, be careful. There is a... group, shall we say here. They cause much trouble.&quot; The hare leaned in and dropped his voice to a soft whisper. &quot;That bear, sitting at the end of the bar?&quot; He nodded towards the end of the bar where a polar bear sat, separated from the rest of the bar by his sheer size and presence. &quot;He is one of them, and James is the other. You do not want to be mistaken for one of those drug slinging bastards. Always I say this?&quot;

&quot;So they don&#39;t like me because I&#39;m a human, like one of these dealers?&quot;

&quot;Among other reasons, yes. Just mind yourself while you are here, bunny, and we will not have troubles.&quot;

&lt;em&gt;Bunny&lt;/em&gt;. He hadn&#39;t called me ‘humie&#39; or ‘skinnie&#39; or ‘ape&#39; or anything like that. Tress was alright. He was even letting me have a free beer.

&quot;On my mother&#39;s honor,&quot; I said, dramatically pressing my open palm to my breast. &quot;I shan&#39;t fuck with the order of things around here.&quot;

The hare cocked his head a bit. &quot;I have heard James say that before. It is a human expression?&quot;

&quot;On my mother&#39;s honor it is.&quot; I replied with a smirk. Alcohol made me somewhat charismatic. Maybe I&#39;d have a drink before talking to June tomorrow? Really charm her, whatever species she is. That&#39;d help.

&lt;em&gt;Tomorrow.&lt;/em&gt;

There was the matter of finding a place to sleep, or I&#39;d never make it to tomorrow. I checked my watch. It was minutes to midnight. &quot;Think I can find a place to sleep this time of night?&quot; I said to Tress.

&quot;You may lay your head on this bar, but I will close up here in an hour or two myself. The Igloo Inn will still be open awhile longer?&quot;

I drained the last of my beer. It tasted malty and rich and cold, but the fire it washed into my belly was enough to really warm me up. &quot;Alright, thanks again, Tress. I&#39;ll stop by tomorrow if I get a chance.&quot;

&quot;Goodnight, bunny.&quot; Tress said with a smile. &quot;Stay warm and come to see me again soon?&quot;

The bar stool squealed as I rose from it. &quot;You got it. Here, in America, we have these things called ‘tips.&#39;&quot; I peeled a wrinkled $1 from the wad in my back pocket and slapped it onto the bar. &quot;It&#39;s like a gift for good service.&quot;

The hare inspected the dollar. &quot;This is a gift?&quot;

&quot;Sure is. What&#39;s a U.S. dollar good for up here?&quot;

Tress slipped the dollar into the front pocket of his insulated overalls. &quot;Maybe less than one Canadian dollar, but I will accept it. Thank you for the ‘tip.&#39;&quot; The hare winked and added a coy smile to boot.

[[Go to the inn-&gt;Igloo Inn Night 1]]
or
[[Talk to the bear at the end of the bar-&gt;Go talk to Cale]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked a new character in the sidebar!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerMetTress to true&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="22" name="Go talk to Cale" tags="ship" position="276.6666666666667,1732" size="100,100">I slid up next to the polar bear. &quot;Christ, you didn&#39;t get far.&quot;

The bear grunted off my introductory gambit. This only stoked the flames of my determination. 

&quot;The name&#39;s Hunter Gibbs by the way. I don&#39;t think I ever got yours. Buy you a drink...?&quot; I held the last syllable out like a worm on a hook, teasing the bear to reveal his name.

&quot;Cale. My name&#39;s Cale. And I&#39;m having whiskey,&quot; the bear replied shortly.

&lt;em&gt;Hook, line, and sinker.&lt;/em&gt;

I motioned for the arctic hare behind the bar to come over. &quot;A whiskey for me and my fuzzy white friend here.&quot;

The bear turned in his seat to face me. 

&quot;Just to be clear: I&#39;m not your friend.&quot; His breath already stunk with the sour, burning odor of whiskey. His heavy brown eyes were tinged at the corner with a hot-blooded red. Something wasn&#39;t right about Cale.

The hare slid two amber glasses down the bar. One of them sloshed up next to Cale&#39;s resting arm, who drew it to his lips and sipped on it without taking his eyes off me.

&quot;What do you want?&quot; Cale asked. &quot;Drink up and get out of my face, humie.&quot;

I stirred the ice in his glass a bit with an extended middle finger. I tried to ignore Cale&#39;s not-so-subtle request for solitude. I wanted information from the bear. Maybe he was a native of North Station? He might be able to tell me what to do next. But it might take a bit of amber persuasion.

[[&quot;A little gratitude might be nice.&quot;-&gt;Anger Cale]]

Or

[[&quot;Where are you from?&quot;-&gt;Where are you from?]]</tw-passagedata><tw-passagedata pid="23" name="Frostburn Info" tags="" position="427.6666666666667,890.3333333333334" size="100,100">&lt;div id=&quot;centerMe&quot;&gt;
Location: The Arctic Circle — south of North Station
Year: 2099
Time: 18:00 (6 p.m.)
Current temperature: unknown
&lt;/div&gt;

&lt;&lt;fadein 8s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
&lt;em&gt;Eyelashes bitten by frost
The wind of winter beating against the window
A train is rushing, slicing through the night
At its rear, the echo of songs&lt;/em&gt;
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;

&lt;&lt;fadein 11s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
&lt;em&gt;Chanted by ten souls
They move towards the mountains
Through the frostbitten lands
Traveling along forgotten, impossible pathways&lt;/em&gt;
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;

&lt;&lt;fadein 15s&gt;&gt;
&lt;div id=&quot;centerMe&quot;&gt;
[[Begin the story-&gt;Frostburn1]]
&lt;/div&gt;
&lt;&lt;/fadein&gt;&gt;</tw-passagedata><tw-passagedata pid="24" name="Anger Cale" tags="ship" position="195,1895" size="100,100">&quot;A little gratitude might be nice.&quot; I threw back my drink. Something about an arrogant carnivore made me see red. &quot;Bet you&#39;d love a fat, juicy bite out of my neck right now, wouldn&#39;t you?&quot; I stood up quickly, the chair squealing in protest beneath me. &quot;But you can&#39;t. You&#39;ve got the state right around your throat, don&#39;t you, jagged jaw?&quot; in my foolishness, I motioned towards the &lt;&lt;hovertip &quot;A device affixed to a predator&#39;s neckline to illicit electrical shocks based on heart rate, cortisol and serotonin levels. Unauthorized removal of the device is a serious crime.&quot;&gt;&gt; shock collar&lt;&lt;/hovertip&gt;&gt; affixed to Cale&#39;s neck. &quot;They&#39;ve got you by the balls, pred.&quot;

The bear smiled a grim, toothy smile. &quot;It&#39;s not your day, pal. This thing around my neck&#39;s been busted for six months. My balls are fine. Can&#39;t say the same about yours though.&quot; Cale slid out of his chair.

I took a small step backwards, nearly tripping on a raised nailhead sticking out of the wooden floors. What I&#39;d give, in that moment, for a gun right about now. Any kind of gun, really. Crossbow, flare gun, shotgun, pistol, paintball gun. They&#39;d all work.

&quot;You&#39;re really starting to piss me off, you know that? I was willing to be nice, leave you alone until you froze your ass off and ran home, but I&#39;m done. I&#39;m going to tear your throat ou-&quot;

The metal click of a rifle being cocked drew both our focuses towards the barkeep, who was sighting down a steel-gray .30-30. His aim shifted between the two of us, but lingered especially long on Cale. 

&quot;Both of you get the hell out of my bar.&quot; The hare&#39;s voice boomed in the near-empty room. The reindeer had both stopped eating and were watching with sudden interest. The hare pressed the butt of the rifle into his shoulder. &quot;I did not fucking stutter, did I?&quot;

&quot;Nope. Loud and clear,&quot; Cale replied. He dropped his shoulders and closed his quivering lower jaw. He turned towards me. &quot;Listen to me, and listen carefully, human. You were spared only because the bunny over there.&quot; Cale nodded towards the barkeep, who kept his rifle trained on the polar bear. &quot;And because there are too many witnesses. Let me make something clear as glacial ice: you only fuck with me once. Same with my friends.&quot;

&quot;Friends? Can&#39;t imagine you&#39;ve got many of those,&quot; I said, feeling either foolish our courageous — I wasn&#39;t sure which.

&quot;A few. You&#39;ll meet them all soon, I promise you that. And next time I will not be so fucking polite.&quot; He turned to the hare. &quot;You can lower that little peashooter now. I&#39;m leaving.&quot; Cale then doled out nearly $50 U.S. dollars onto the bar from a banded wad of cash kept in his coat pocket. &quot;That&#39;s for the drink. The human&#39;s too. Keep the change.&quot; The polar bear strolled past me without so much as a glance downward, which was the least he could do.

The doors to Jumping Jack&#39;s flew open, the bear ducked his head to fit through the frame, and disappeared into the darkness and snow flurries.

&quot;Your turn, bunny.&quot; The hare motioned towards the back door with the barrel of his rifle, his finger never leaving the trigger. &quot;But leave out the back? I do not want to clean up a mess in the cold tonight.&quot;

[[Leave the bar-&gt;Leaving the bar in the cold]]
&lt;&lt;nobr&gt;&gt;
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked new story content!&lt;/span&gt;
&lt;&lt;set $tressThreatensHunter to true&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="25" name="Where are you from?" tags="ship" position="358,1905" size="100,100">&quot;Where are you from, Cale my boy?&quot; I leaned on the bar.

Cale slowly turned to face the human accosting him. &quot;Are you going to do this all fucking night?&quot;

&quot;Do what?&quot;

&quot;Bother me. First it was the bus stop, now this.&quot;

&quot;Relax,&quot; I took a mild sip of my drink and nearly choked. The whiskey seared my throat going down. This shit was indeed strong. &quot;I&#39;m just trying to learn a little about North Station. Not asking for your life stor-&quot;

&quot;Wait.&quot; The bear scowled. &quot;Didn&#39;t you say earlier that you&#39;re here for ranger work?&quot; He set his glass down.

I cocked my head. I could see the deactivated &lt;&lt;hovertip &quot;A device affixed to a predator&#39;s neckline to illicit electrical shocks based on heart rate, cortisol and serotonin levels. Unauthorized removal of the device is a serious crime.&quot;&gt;&gt; shock collar&lt;&lt;/hovertip&gt;&gt; affixed to Cale&#39;s neck. &quot;I am,&quot; I answered. &quot;Why? Is that a bad thing? Are we competing for the same job?&quot;

&quot;No, but we&#39;re competing… in a way.&quot; The bear took another slug of his gratis drink. &quot;Well, we would be. But I doubt June&#39;ll sell to you. And nobody seen Summer in days. You&#39;re no threat to me.&quot;

&quot;Summer? It&#39;s the dead of winter. ‘course nobody seen Summer. And who&#39;s June?&quot;

The bear let out a thick gale of laughter, deep from his padded belly. &quot;Summer and June are mammals, new fish. June runs the garage ‘round here. She fixes &lt;em&gt;everyone&#39;s&lt;/em&gt;&lt;&lt;hovertip &quot;Slang term used to describe a snowmobile.&quot;&gt;&gt;rig.&lt;&lt;/hovertip&gt;&gt; And summer? That annoying cunt disappeared into the tundra days ago, ain&#39;t nobody seen her since.&quot; He raised his glass. &quot;They all said she&#39;d been having problems, but I didn&#39;t think she&#39;d off herself like that. That&#39;s cold, no pun intended.&quot;

I took a templetive sip. &quot;She killed herself?&quot;

&quot;Hopefully,&quot; Cale side-mouthed. He took a large gulp and raised his paw for another round. He didn&#39;t even ask me.

&quot;You&#39;re buying still, right humie?&quot;

[[&quot;Yeah, I&#39;ve got the next round.&quot; -&gt;Buy another round]]

I didn&#39;t like his tone, and I certainly didn&#39;t like feeling used. Money was tight, but this bear didn&#39;t seem to care.

[[&quot;Fuck no. A little gratitude might be nice.&quot; -&gt;Anger Cale]]

Though it was starting to get late, and my eyes were starting to feel heavy. With a little encouragement from the whiskey, I could slip on over to the inn and end my night.

[[&quot;I should be going.&quot;-&gt;Igloo Inn Night 1]]</tw-passagedata><tw-passagedata pid="26" name="Leaving the bar in the cold" tags="ship" position="188,2125" size="100,100">The wind nipped and bit me, and heavy snowflakes hurled themselves against my face.

Behind Jumping Jack&#39;s was just more stooped over metal buildings, already dusted with snow. Once the door shut behind me, and the warmth at my back snapped off, the darkness of the night practically swallowed me whole.

It was &lt;em&gt;dark&lt;/em&gt;. With no polluting city lights to warm the sky, I could see the expansive canvas of the sky, spangled with its signs and stars, clearer than ever before. But everything else — the buildings, stores, and parked snowmobiles — were draped in heavy shadows.

Darkness was a good place to get attacked by a pissed off polar bear and his ‘friends.&#39;

The lighter. 

I threw down my gloves into the dirty snow and snuck a hand into my pants pocket. He found the familiar, oblong-square shape of his lighter, drew it out, flicked the lid, and pulled down hard on the flint wheel. The lighter threw bright orange sparks once, twice, and then a rounded head of flame sprang up from the lighter.

I wandered my way back towards the main boulevard with only the light of my lighter to help me find my way. I was headed for the Igloo Inn.

[[Continue-&gt;Igloo Inn Night 1]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; volume 0.6 loop play&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="27" name="Buy another round" tags="ship new-content-flag" position="344,2100" size="100,100">I groaned internally and reached for the roll of cash in my back pocket. &quot;Yeah, sure. I got the next round. So this ‘Summer&#39; person,&quot; I continued, &quot;killed herself?&quot;

&quot;Probably. She closed down the ranger station a few weeks ago after everyone lost their comms. Blamed herself and... others... but then a few days ago she loads up a big ass rig, you know, the kind with enough room for you to move around in, and guns it out into the tundra. Nobody seen her since.&quot;

Cale&#39;s second round arrived. The bear sucked it down, a warm blush of red scouring his cheeks. Good. The more I could get out of this guy, the better, so I signaled for a third round. I hadn&#39;t even knocked back my first.

&quot;So the ranger station is closed down?&quot;

&quot;Closed,&quot; Cale answered back shortly, impatiently waiting for another drink. The hare busied himself with the reindeer, who were just putting away their salads and paying their bill.

&quot;Shit, I really gotta talk to her to get some work.&quot;

The bear laughed, which sounded more like a hollow roar echoing in the chasms of his chest. It filled the whole bar. 

&quot;You can still get ranger work at the &lt;&lt;hovertip &quot;All ranger stations are equipped with terminals, usually attached to the outside of the station itself. These terminals serve a number of functions, including hosting job listings, displaying important messages, and establishing communications with other ranger stations.&quot;&gt;&gt; terminal&lt;&lt;/hovertip&gt;&gt;, newblood.&quot;

&quot;Right, the terminal,&quot; I said with a slight air of confusion. &quot;I knew that.&quot; I took a nervous sip on my whiskey. It carved a trail of fire down my throat and nearly made me cough it all back up. 

&lt;em&gt;Christ, I&#39;m about to have three rounds of this swill.&lt;/em&gt;

I wasn&#39;t sure I could make it.

&quot;You really are wet behind the ears, aren&#39;t you? Well, let me give you some advice, humie: you either ship the fuck off to another station, or you keep your nose clean around here, you understand?&quot;

&quot;I ain&#39;t no fox.&quot; I answered sternly. I took another long slug of the whiskey, grateful for the way it made the room sway. Liquid courage, right? &quot;I know humans ain&#39;t popular, especially in the northern wastes, but I&#39;m not here to cause trouble. Hell, I&#39;m not even armed.&quot;

This made Cale smile a grim, toothy smile. &quot;Good. As long as you stay out of trouble and don&#39;t ask too many questions, then I think you&#39;ll walk away from this town on both legs. We won&#39;t have to see much of each other.&quot; He reached over me and plucked both of my untouched drinks. Cale tossed them back, still keeping eye contact with me. Like trickles of water down a deep well.

When the bear was finished with no less than five drinks, he stood up with only a slight wobble. He clapped me on the back. I nearly coughed out a mouthful of whiskey. 

&quot;You&#39;re going to be just fine, human. Come talk to me if you&#39;re looking for anything to ‘perk you up.&#39;&quot;

&quot;Perk me up?&quot; I replied, still choking on the fiery swill that had gone down the wrong pipe. &quot;What do you mean?&quot;

&quot;You&#39;ll find out soon enough. You talk to me or James and we&#39;ll get you up-to-speed on things around here.&quot; Cale threw open the front door, letting it bang off the metal walls. Outside I could see heavy, wet snowflakes falling in the darkness.

The bear disappeared, only the crunching of his boots in the ice and snow could be heard before the door slammed shut.

The barkeep — Tress — paced over to me. I was still working on my own whiskey. He set down a freshly polished glass in front of me. &quot;Friend, listen: you don&#39;t want to get involved with that bear.&quot; Tress said in low voice.

&quot;Well he seems friendly enough,&quot; I added with an air of sarcasm. I looked steadily at Tress. &quot;But you&#39;ve got me curious, Thumper. What&#39;s his deal?&quot; 

The hare scowled. &quot;Do not call me Thumper, okay? I am a proud hare, not some common bunny. And what do you mean ‘his deal&#39;?&quot;

&quot;That&#39;s right, you&#39;re French-Canadian.&quot; I stirred my whiskey. Tress wouldn&#39;t understand a good deal of American idioms. 

&quot;Et fier!&quot; Tress added, slapping his paw over his heart.

I ignored the hare&#39;s theatrics. &quot;By ‘his deal,&#39; I mean ‘what does he do around town? Why is he such a prick all the time?&#39; I&#39;ve met some bears before and they weren&#39;t one tenth the asshole that this guy is.&quot; 

&quot;Cale does odd jobs around the town? Him and James and his... ‘group&#39; always cause much trouble for the people here and the neighboring towns.&quot; The hare leaned in close. &quot;You did not hear this from me, friend, but I believe that this mammal is the one who sells &lt;&lt;hovertip &quot;‘Shard&#39; is slang for a highly addictive central nervous system stimulant that is sold primarily in the northern wastes. Shard got its name from its crystalline form that has been known to cut its users. Its popularity rose during the northern agricultural boom as a way for rangers and other workers to stay warm and productive for days on end.&quot;&gt;&gt; shard&lt;&lt;/hovertip&gt;&gt;. He is also the one who I think sells &lt;&lt;hovertip &quot;‘Frost honey&#39; is a slang term for a highly addictive, naturally occurring opiate that can be harvested from northern gray fins. It became popular among predators as a way to soothe stress, anxiety, and anger, in order to prevent shock collar activation. It derives its name from the yellow, sap-like compound that is consumed by the user. It has also found use as a warming agent, as it tends to raise the user&#39;s overall body temperature.&quot;&gt;&gt; frost honey&lt;&lt;/hovertip&gt;&gt; around North Station.&quot;

The conversation died just as the fire sputtered its last tongues of flame. Embers glowed at the base of the charred logs, begging to be stoked. Both me and Tress watched the embers dwindle until they disappeared into the dark hands of soot and ash.

[[Go to the inn-&gt;Igloo Inn Night 1]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked new story content!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerSpeaksToTress to true&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="28" name="North Station Town" tags="ship" position="650,1690" size="100,100">I rose with the sun, which was low and pink in the sky, balanced out against the black of the receding clouds. The snow stopped sometime in the night, but I knew it&#39;d start again later in the afternoon. Few things are as certain as snow in the northern wastes.

I heaped up blankets on my bed, forming a cocoon of warmth that had carried me off to an easy sleep, but made for a difficult morning. Getting out of bed was like trying to move mountains. My eyes blinked shut a few times, the pinks of my eyelids sucking me back into a dreamless doze. 

Then the last embers of the fire snapped like a primitive alarm clock, drawing me up and out of the covers and into a sitting position. I threw a glance over to the fireplace set into the wall. The logs were an ashen black, tempered white at the edges by exposure to intense heat. 

I stared long at that crumbling heap of burnt wood, and all of the sudden, I felt very sorry for it. I had let it burn hot and lonely all throughout the night.

I threw on my white, long sleeve thermal shirt, black snow pants, black boots, and my peacoat, and made for the door which I had to force open. Snow had piled up overnight and then had frozen into a blisteringly cold lump of ice that served as a kind of doorstop.

Even under all my layers, I could still feel the cold stealing in beneath the careful folds of my coat. 

&lt;em&gt;At least the wind is dead.&lt;/em&gt; 

I sucked in a lung full of air and coughed it back up when it stung my throat. Sunlight fell down on me, glancing off the accumulated snow and into my pale eyes. I walked towards the frost way with my arm up over his eyes, broadcasting to every mammal I passed that I was, indeed, new fish.

Before I even realized what had happened, an unhealthy spray of dirty gray snow blasted me in the face, rendering me blind, wet, and stumbling. The sound of a passing snowmobile buzzed past me.

&quot;How rude!&quot; a disembodied voice said. It was a female&#39;s voice, high and bright, lush with affection, and yet at the same time, as smooth and as sweet as caramel. &quot;Are you alright, hun?&quot; 

I lowered my arm and blinked a few times against the saturated glint of sun off the snow. Everything was red for a moment, and then my vision went dark, like someone had turned off the sun. 

I felt something soft against my face, wiping away the snow.

&quot;Oh, he got you good, didn&#39;t he? Let me clean you up,&quot; the disembodied voice said.

The warm feel of cotton cloth against my wind-scarred cheeks wasn&#39;t what I expected, so instinct took hold. I grabbed at the cloth and ripped it off my face, cutting loose vocally, voice tempered with frustration and shock. &quot;What the hell!?&quot;

When I blinked away the last of the wet snow, I had to look down a fair bit to see who was assailing my face. When I saw the &lt;span id=&quot;scarfColor&quot;&gt; torn ranger scarf&lt;/span&gt; in the pembroke corgi&#39;s paws, I gasped.

[[Continue-&gt;Meeting Summer]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="29" name="Meeting Summer" tags="ship" position="654,1796" size="100,100">&quot;Are you alright? I didn&#39;t scare you, did I?&quot; The corgi standing before me recoiled a bit and wrapped her &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt; around her exposed shock collar. 

&quot;Christ.&quot; I smothered my face in my gloves in a bid to wipe away any leftover snow. &quot;At least warn me before you go touching me.&quot;

The corgi&#39;s empathetic smile had become a worried frown. &quot;I just wanted to wipe some schmutz off your face, is all.&quot; Her frown, as the expression goes, quickly turned upside down, as she tried on another friendly smile. The pink edge of her tongue poked past her lips. 

I already couldn&#39;t take someone so short seriously, but now it would be even harder seeing that she was wearing a torn &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt;. I continued wiping my face while the corgi loudly cleared her throat to cut the sudden awkward silence.

&quot;I haven&#39;t seen you around before, so I guess that means you&#39;re new here!&quot; The took a small step backwards and folded her hands behind her back. &quot;My name is Summer Keaton.&quot; She added with a curt, formal bow. Even slightly distressed, her cheery voice never faltered.

I felt pumped full of a heavy glue, body summoned to an unnatural halt. &quot;You said your name is Summer?&quot; Something about her name struck me as being ‘off&#39;, like a bear being named Tiny Tim.

The corgi then snapped her elbow at a tight angle and brought her gloved paw up to her brow for a friendly salute. &quot;That&#39;s right!&quot; Her salute collapsed against her cheerful smile, which her whole being seemed centered around. She was the mammalian equivalent of a bouquet of daisies. She was daylight. &quot;And you must be new in town, mister...?&quot;

I shook some wet clumps of snow out of my long, dark hair. &quot;Hunter Gibbs. How&#39;d you guess I was new? Is it because I&#39;m the only other human?&quot; I said with an air of sarcasm.

Summer&#39;s long, golden tail fanned behind her like a rudder that only steered a ship towards warm harbors. Her pink tongue slipped out happily between her lips. &quot;Oh, not just because you&#39;re human!&quot; She leaned up on her toes. Summer was short — even at her tallest, her wrinkling black nose only came up to my waist. She was a thorough-bred pembroke corgi, temperament and all. Her bright &lt;span id=&quot;summerEyes&quot;&gt;green eyes&lt;/span&gt; — like clovers growing boldly in a barren tundra — beamed up at me. They were so sharp, so clear, so bright, that I swore they contained the total sum of the world&#39;s joy and shed it only when she cried. 

&quot;I know everyone in town. I&#39;m a ranger, and station administrator. Well, I&#39;m not much of a ranger, I guess. I&#39;ve lived here for almost seven years now, and rangers are much more prone to drifting from station to station, right? I do a lot more administrating than I do ranging.&quot;

She was almost uncomfortably close to me, leaning on the ends of her paws to gain a few inches more in height. 

&quot;Right...&quot; I said, taking a large step backwards, if only to gain a semblance of personal space. &quot;Anyway, you&#39;re the station administrator?&quot;

When summer nodded in affirmation, the pair of snow goggles she wore atop her skull flopped down over her eyes. I suffocated the urge to laugh. &quot;Sure am. In fact, I was just about to go get some breakfast at Jumping Jack&#39;s and then head to the station. Why don&#39;t you tag along?&quot;

[[&quot;Sure, I&#39;d love to go!&quot;-&gt;Breakfast with Summer]]

[[&quot;Actually, I think I need to see about getting some supplies first. But thanks anyway.&quot;-&gt;Summer insists]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked a new character in the sidebar, as well as new story content!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerMetSummer to true&gt;&gt;
&lt;&lt;audio &quot;summersTheme&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="30" name="Breakfast with Summer" tags="ship" position="562,1933" size="100,100">Without any strain or effort, Summer threw open the door to Jumping Jack&#39;s. Her eyes adjusted to the sudden change in light with ease. By comparison, it took my own a steady few seconds for the room to flood with color.

Jumping Jack&#39;s was a nice place in the morning. The outside was cold and riveted metal, but the interior had a nice, homey sort of feeling, with genuine wooden walls and wooden floors. There was a large fire pit in the center of the room, pipping smoke into an overhead chimney and throwing its amber light against the walls. Somewhere, a radio was playing something in French.

Behind the bar was an arctic hare. He was dressed in a white thermal long sleeve, a pair of black snow pants, and boots, which seemed to be the de facto uniform around North Station. The hare&#39;s glassy black eyes flicked smoothly over to Summer, who was just waddling through the doorway and into the bar.

The hare&#39;s eyes lit up when they passed over the corgi. &quot;Mon Dieu, Summer!&quot; he shouted, rounding the bar, dashing across the floor and throwing himself at the corgi. I seized up and braced for collateral damage. Summer easily held her ground against the overly affectionate hare. It was like water breaking upon stone. She was the dam plugging up the river, and I was the helpless town beneath, one crack in the foundation away from drowning.

Corgis were stout. Like most of her species, Summer wasn&#39;t tall or broad-shouldered or barrel chested. She was solid all around, with a good center of gravity and just a little layer of fat on top of a layer of muscle and hardened bone. Despite her fur&#39;s out-of-place coloring, she made a ready addition to the arctic climate. I was silently curious about what she might look like without the big orange thermal jacket on. I mean, with a display of strength like that, she had to be at least a &lt;em&gt;little&lt;/em&gt; yoked.

&quot;Hi Tress, long time no see!&quot; she said, looking up into the eyes of the hare who towered over her. Her tail slapped against my legs, happy and unmanaged.

&quot;Ah, you Americans with your idioms. Are you alright? Have you eaten well? Bathed? Are you sick? Hurt? I have missed you, bunny. Missed you like a fish misses the water.&quot; He hugged her tighter. &quot;And you are friends with Summer?&quot; Tress was addressing me, wearing a slight, easy-going smile. Anyone who knew Summer was a friend of his, apparently.

&quot;Of course Hunter&#39;s my friend, otherwise I would have left his pale butt out on the frost way.&quot; Summer disengaged from the hare. &quot;This is Mr. Hunter Gibbs. I was taking him to breakfast and then to the station. Hunter,&quot; she turned to me. &quot;This is Tress. He&#39;s a friend of mine. He runs Jumping Jack&#39;s Saloon.&quot; 

&quot;Right. Hunter...&quot; Tress said, as if he was testing out the name on his own tongue. &quot;Oh!&quot; The hare&#39;s ears jumped up, already forgetting about me in the conversation. I tried to shrug it off. Tress seemed friendly enough to warrant a little grace. 

&quot;Did you not say you were here for breakfast?&quot; Tress said.

Summer nodded hard, knocking her snow goggles down over her eyes again. &quot;I haven&#39;t eaten since I got in last night. Some breakfast would be... lovely.&quot; She flashed a warm, albeit hungry smile, her polished teeth shining like little ivory spears. Tress didn&#39;t even flinch like most prey species did when they come face-to-face with a pair of pearly whites. Something in their ancestry makes them flighty around potential death.

&quot;Today, breakfast is ‘in the house&#39; as you say,&quot; Tress said as he flew behind the bar.

Summer pushed her snow goggles up over her forehead again. &quot;It&#39;s ‘on the house,&#39;&quot; she said called after the speeding hare. &quot;But I appreciate you trying!&quot; 

God, her personality was infectious. Something about her was uplifting, like a warm, spiced wind had blown through North Station bringing with it a summer joy carried on airs.

We sat down to two plates of eggs and bacon, coffee and oatmeal, and even just sitting next to the short mammal, I felt... happy. Contented. At peace. I had to resist the urge to stroke the top of her head.

Summer undid her ranger scarf and folded it neatly across the empty bar stool. Her stubby legs didn&#39;t touch the floor, so she just happily kicked them in the air, deeply inhaling the salty scent of smoked meats and fried eggs, dusted over with a bit of salt and pepper. Her nose, like a lump of coal in a Maine hayfield, wrinkled and twitched happily.

I watched her with some mild fascination. I&#39;d never cared about anthros much besides learning about them in school. What interested me most was the thing around her Summer&#39;s neck. Was it inappropriate to [[ask about the shock collar?-&gt;Ask about the collar]] Summer may be bottled up sunshine, but she was technically a predator — gnashing teeth, frenzied anger, heightened aggression, senses, and agility. I wanted to know more. Not just about the collar, but about her.

Or I could keep to myself, and [[steer the conversation in safer directions and go to the mechanics-&gt;Go to the garage]]
&lt;&lt;if $playerMetTress is true&gt;&gt;
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked a new character in the sidebar!&lt;/span&gt;
&lt;&lt;else&gt;&gt;
&lt;&lt;set $playerMetTress to true&gt;&gt;
&lt;&lt;endif&gt;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.6 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="31" name="Summer insists" tags="ship" position="708,1935" size="100,100">&quot;Actually, I think I need to see about getting some supplies first. But thanks anyway.&quot; I had decided when he first met this boisterous little corgi that I&#39;d need frequent breaks from her if I was to be working with her at the station. It was break time already.

I got about three steps in the other direction when I felt Summer tugging hard against the back of my coat. 

She giggled, like she was playing a game. &quot;Oh no ya&#39; don&#39;t. C&#39;mon Hunter, let&#39;s get you some breakfast. I&#39;m buying.&quot;

I tried to shake free. &quot;No, really, I need to get some supplies and see about talking to this ‘June&#39; person about getting a rig.&quot; Mammals passing by were starting throw me odd looks like they were tossing loose rocks. An otter and her children were flat-out staring at me from across the road.

&quot;Oh, June?&quot; Summer released her vise-grip on my coat. I spun around, expecting the bundled up corgi to deflate in front of me like a balloon with its air let out. Instead, she cast her eyes towards the cloudless skies and rubbed at her fuzzy chin, deep in thought. &quot;You probably don&#39;t want to talk to June without someone there...&quot; she pondered aloud. &quot;And I can smell that you haven&#39;t eaten anything yet...&quot;

I sniffed myself aggressively, unaware of how strange I looked. 

&lt;em&gt;How the hell can she tell?&lt;/em&gt;

I opened my mouth to insist that it was fine, already frustrated with Summer&#39;s aggressive kindness. As if on cue, the corgi tried snapping her fingers through her gloves, cutting him off, resulting in a dull &lt;strong&gt;piff&lt;/strong&gt;. &quot;Perfect! How about this: you come eat breakfast with me, and I&#39;ll introduce you to June. How&#39;s that for a plan?&quot;

I was about to say something, but Summer was already dragging me towards Jumping Jack&#39;s. At this point, I&#39;d given up the fight. Yeah, I was a solid six-foot, and she looked like she barely cleared my waist, but she was a lot stronger than me was, and I wasn&#39;t afraid to admit it. Beneath her fur — the color of golden wheat and fresh snow drifts — there was a solid mass of tightly corded muscle. And despite her formidable curves, her tail was as dainty and gentle as any mammal&#39;s tail. As she pulled me across the street, it swished and fanned in my face, swatting at my nose, unaware of my presence.

Guess I was having breakfast.

[[Continue-&gt;Breakfast with Summer]]</tw-passagedata><tw-passagedata pid="32" name="Ask about the collar" tags="ship" position="506,2056" size="100,100">&quot;Does that thing ever go off?&quot; I motioned towards Summer&#39;s neck while spewing a mouthful of bacon.

She looked up from her meal. &quot;Does what ever go off?&quot;

&quot;You know, the collar.&quot; I tugged at my own shirt collar to demonstrate. &quot;You don&#39;t seem like the type of person to set it off.&quot;

&quot;Oh...&quot; Summer placed her fork and knife neatly beside her half-demolished plate. She shut her eyes for a quick second and gathered herself up with a deep breath. &quot;Not often, but it does go off... sometimes...&quot; She forced on a weak smile and tried her hardest to look composed. &quot;But I promise, it&#39;s only gone off a few times in my life.&quot;

&quot;Like when?&quot; I asked with all the grace of a rhino. &quot;Seems like it&#39;d make ranger work hard, wouldn&#39;t it?&quot;

The corgi&#39;s face flushed with color. &quot;I-I don&#39;t know... I&#39;ve never had problems during ranger work.&quot; Her legs fluttered uselessly beneath her as her ears folded back tight against her skull. &quot;Like I said, its only gone off a few times, but that has nothing to do with work. Mostly.&quot; She whispered her last syllables.

Tress, from behind the bar, cleared his throat. It was like a machine gun report. I met the hare&#39;s disapproving gaze and realized, all too late, that I was, with no background or even tact, broaching a sensitive topic for most predators.

&quot;SO,&quot; I started again after an awkward silence, spinning my verbal tires in the mud. &quot;[[How about we go to the garage?-&gt;Go to the garage]]&quot;

Or, I could [[pursue the question further]], just with more tact this time.</tw-passagedata><tw-passagedata pid="33" name="Go to the garage" tags="ship" position="656,2162" size="100,100">Blue skies and sunshine. Light glinting off snow like spears of gold. I checked my watch as I followed Summer outside of Jumping Jack&#39;s. The big hand on my watch was edging towards seven. I threw my arm up over my face to shield my eyes, while Summer dropped her googles over her own.

And, halfway to the frost way, the main street that cut through North Station like a butcher&#39;s knife, we stopped. Standing before us, with their backs to the sun,  blocking the freshly shoveled road back into town, was a polar bear and a human. I recognized the polar bear as soon as I saw him — he was the one from the bus stop yesterday, the one Tress had called ‘Cale&#39;. 

The human didn&#39;t seem familiar. He stood at shoulder-height to Cale, making him at least 6&#39;5&quot; or taller. Despite his height, he was stringy and thin. He looked like a badly dressed puppet, wearing a dark blue thermal jacket that was clearly a size too big for him, thin pants and heavy brown boots. &lt;em&gt;But his eyes&lt;/em&gt;… They reminded me of sharks. Cold. &lt;span id=&quot;jamesEyes&quot;&gt;Gray.&lt;/span&gt; Tempered at the edges with bright red, as if he&#39;d been walking through smoke.

&quot;Hey, Summer! Welcome back!&quot; The human&#39;s voice came out in an excited burst. His &lt;span id=&quot;jamesEyes&quot;&gt;eyes&lt;/span&gt; may have been like cold, glassy marbles, but his excitement almost reminded Hunter of a tweaked up Summer. He waved. &quot;We almost thought we wouldn&#39;t see you again, but it&#39;s great to have you back. Nobody could get into the station, but now that you&#39;re here, we can come and go as we please, right?&quot; His accent was Canadian, tone as perfect as his pale skin — not even the rosy blush that only cold can bring out. &quot;Did you have a nice time out on the tundra?&quot;

&quot;Thank you, James,&quot; Summer said, donning a sweet smile, letting her tongue poke between her lips. She ignored the human&#39;s inane question. &quot;I had a good time out there in the wastes. I think I really found out a lot about myself.&quot;

&quot;Well, that&#39;s good, that&#39;s good. When did you get in? You haven&#39;t been hiding from us, have you, ‘ya hoser?&quot; He even ended the whole schtick with a gale of dumb laughter. He was awfully entertaining if he was his own audience.

Summer, on the other hand, was growing increasingly distressed. 

&quot;Be seeing you soon?&quot; Cale rumbled. He stuck his formidable paws into his coat pockets, but not before he tugged his beanie down over his skull. James and Cale couldn&#39;t have been further apart as far as personalities go.

Only after James had zipped and unzipped his coat twice did I notice that the human had a pistol strapped to his hip. All at once I felt helpless, the hair on the back of my neck striking a pose. With as much subtlety as I could, I nudged Summer on the shoulder.

&quot;Oh, not today hun,&quot; the corgi responded, ignoring my silent plea. She took my gloved hand in her own and began stroking it slowly. &quot;I&#39;m showing my new friend around town. Have you met mister Hunter Gibbs yet?&quot;

The polar bear shifted his weight, his expression as flat and as cold as a sheet of ice. &quot;Yeah, I met your boy already. New ranger, right?&quot;

&quot;Where&#39;s your &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt; then?&quot; James unfurled his own &lt;span id=&quot;scarfColor&quot;&gt;red scarf&lt;/span&gt; from beneath his gawky coat.

&lt;em&gt;He was a ranger too?!&lt;/em&gt;

Summer&#39;s collar began to emit a low, electronic beep — not loud enough for anyone but me to hear it though. I looked down at the Corgi, who had fixed her gaze on the pair in front of them. Her smile was pink and toothless, accented with a slight bit of happy tongue poking between her lips. But her tail had stopped wagging. Her ears were flat against her skull. Her collar&#39;s indicator light was pulsing &lt;span id=&quot;collarWarning&quot;&gt;an urgent yellow&lt;/span&gt;.

&quot;He&#39;s fresh off the boat, so no scarf yet. We were just on our way to the garage, actually. Sorry we can&#39;t stick around any longer.&quot; Summer started forward, pulling me with her. My feet became unstuck, and I quickly shook my hand free of the corgi&#39;s soft grip. I&#39;d rather be ready to defend myself.

As Summer and I passed between Cale and James, James put his hand on the corgi&#39;s shoulder. &quot;You know where to find us, if you ever need anything, right? We&#39;re always here for you.&quot;

She nodded, and gentle as a mother, removed James&#39;s hand from her shoulder. It dropped limp against his side. &quot;Thank you for the offer,&quot; she replied, starting forward. &quot;but I think I&#39;ll be alright from now on.&quot;

James stopped me with a look, trying his best smile on. From this distance, I could see the peach fuzz on his youthful, pale face. James might have been a fruitful 22 or 23, so a bit younger than my own 25. &quot;Listen, guy,&quot; James started, shuddering from the cold. He unzipped his jacket again. &quot;Come talk to us sometime. We like getting to know the new fish around here. Show them around. You know how it is.&quot;

I didn&#39;t respond.

&quot;Thanks for saying ‘howdy&#39;, you two!&quot; Summer said, moving forward, past the two. I followed in her footsteps.

Cale allowed me and Summer to pass by him, offering only a cold stare and an unhappy grunt.

I didn&#39;t look back. Summer pointed her nose straight ahead, walking with a smooth and even gait. She walked like she was invincible, unperturbed, and unoffended by anything, warm forever in her coat.

Her collar winked a &lt;span id=&quot;collarWarning&quot;&gt;soft yellow&lt;/span&gt; and then melted away into a &lt;span id=&quot;collarGood&quot;&gt;smooth green.&lt;/span&gt;

[[Continue-&gt;Meeting June Before]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;bootsSnow&quot; volume 0.2 play&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;summersTheme&quot; stop&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="34" name="Summer char notes" tags="" position="344,0" size="100,100">Major theme: depression and addiction
Personality: warm and bubbly to try and mask a deep pain and sadness, which she further hides with addiction and working

Back story: she came to North Station to try and get away from her addictions and to &#39;start over&#39;

Major character climax: Hunter can convince her not to kill herself after she comes down from her shard high. But she&#39;d be living for another person, and not for herself. 


Character defining phrase: &quot;How&#39;s that for a plan?&quot;

&gt;&gt;&gt;There&#39;s a house out in the wastes that Summer has the key to.

</tw-passagedata><tw-passagedata pid="35" name="pursue the question further" tags="ship" position="508,2187" size="100,100">&quot;Sorry, sorry, that came out wrong. I&#39;m just not around anthros very much, so if I step on anyone&#39;s tails, I apologize. On my mother&#39;s honor.&quot;

Summer giggled, and I felt instantly relieved. &quot;‘On my mother&#39;s honor&#39; I haven&#39;t heard that since I was a pup. It&#39;s alright, dear.&quot; The corgi put on a brave smile. &quot;It&#39;s a good question if you haven&#39;t been around many predators&quot; Her tail beat softly in air, just enough for me to know I wasn&#39;t treading on thin ice anymore. 

No, I liked both Summer and Tress almost as soon as I&#39;d met them. I was unsure at first, but was feeling increasingly drawn to the little doggie.

&quot;Ranger work is usually very labor intensive, at least for me it always is. Doing everything when you&#39;re half the size of everyone else... you really learn to appreciate the help of a good machine-&quot;

&quot;Or a strong man.&quot; Tress nudged at me playfully.

&quot;...Or a strong man with good equipment,&quot; Summer continued, flashing a wink at Tress. &quot;Speaking of, bunny, when am I going to see you out on the tundra or in the lake?&quot;

&quot;Me? You would like me to become a ranger? Bah, I am not made for it. And the wife would not be so happy? And the bar-&quot;

&quot;Relax, dear. I was only teasing,&quot; Summer added with a slight giggle. She took a meager sip of her coffee and turned to face me again, all sunshine and smiles. &quot;As I was saying, good equipment helps me manage some of the stress and aggravation that comes with the job. That, and just learning to control your emotions a little more than usual.&quot;

I substituted eating for coffee. I wasn&#39;t that hungry, anyway. I was more content to watch the rising sun drain itself through the small windows set into the walls, glowing pink but bronzing over with every minute. I&#39;d partially forgotten about Summer&#39;s promise to show me the station and to go with me to talk to June.

The fire snapped and crackled, and somewhere during Summer&#39;s story about growing up in Colorado, Tress brought in a few logs from outside and heaped them on the fire.

&quot;You two shall be leaving soon? I mean this kindly, of course,&quot; Tress said, dusting himself off. He flashed a hard look at Summer, who was lapping at her coffee. &quot;I have seen Cale and James outside?&quot;

As if a switch had been flipped, the corgi set her coffee down slowly, wiped her wrinkling muzzle on a napkin and thanked the barkeep who was drumming his fingers impatiently on the polished bar. 

Summer put her paw on my shoulder and looked up at me with kindness, an easy smile, and something else. I was about to say something before Summer cut me off. &quot;How about I show you the garage now? I&#39;ll take you to meet June.&quot;

&quot;What&#39;s wrong with Cale and James?&quot; I replied, pulling on my coat. Summer hopped off the stool and landed with a solid thump.

&quot;Oh, nothing at all, dear. Cale and James are... wonderful people...&quot; The sudden worry on her face gave me some pause. &quot;And June will get busy quickly. I think it&#39;s best to go visit her as soon as possible so you two can get to know each other. Now-&quot; she carefully knotted her crimson scarf around her short neck and shoved it beneath the collar of her bright orange thermal coat. It reminded me of Florida oranges. &quot;-Are you ready to go?&quot;

I nodded, and as quietly as possible, I tossed a confused look over my shoulder at Tress, whose eyes remained steely and hard. I knew those eyes weren&#39;t for myself or Summer.

I couldn&#39;t help but notice that the steady, unblinking light on Summer&#39;s collar — ordinarily a &lt;span id=&quot;collarGood&quot;&gt;clorophyllic green&lt;/span&gt; — had begun to blink an &lt;span id=&quot;collarWarning&quot;&gt;urgent yellow&lt;/span&gt;.

[[Continue-&gt;Go to the garage]]</tw-passagedata><tw-passagedata pid="36" name="June Char Notes" tags="" position="339,105" size="100,100">June = Reindeer
&lt;span id=&quot;juneEyes&quot;&gt;Blue eyes&lt;/span&gt;. Small antlers that she&#39;s very self conscious about
Major themes are predjudice and redemption, as well as loneliness.

She doesn&#39;t like humans due to upbringing and James hitting on her all the time.

Mechanic. Owns the garage.

James owes June a lot of money, but the real story is this: When James first arrived at North Station, June fell in love with him. But when she found out that he got Summer hooked on drugs she became enraged with him.</tw-passagedata><tw-passagedata pid="37" name="Story notes" tags="" position="116,140" size="100,100">By keeping Summer addictied to frost honey, Cale and James can exert control over North Station and the rangers.

In  the safe in Summer&#39;s room: a long time ago, she and June bought a lot of Frost Honey from James and Cale -- enough to dry up the supply -- and then stored it in the safe.</tw-passagedata><tw-passagedata pid="38" name="Meeting June Before" tags="ship" position="690,2301" size="100,100">&quot;Now I should warn you: June is a friendly, sweet girl, but she has to warm up to you at first,&quot; Summer said as we hobbled across the frost way, dodging snowmobiles and pedestrians as they hummed by. More than me, they focused on Summer. A few even waved to the corgi who issued a polite, almost professional wave back. &quot;She has a... ‘strong personality&#39; as some would say. It&#39;s best you also make a strong first impression with her. How&#39;s that for a plan?&quot;

&quot;Plan?&quot; I repeated. &quot;We need to have a &lt;em&gt;plan&lt;/em&gt; before talking to her?&quot;

&quot;Well, no. But also yes.&quot; Summer stopped on the other side of the street and waited for me to catch up. How the little Corgi always got ahead of me was a mystery. I was well over a foot taller than her and had the stride to match. 

&quot;She&#39;s not exactly friendly towards humans. Her and James, that tall guy we saw outside Jumping Jack&#39;s? They don&#39;t quite get along,&quot; Summer replied in a loud voice, drawing us plenty of attention. &quot;I think he kind of spoiled humans for her.&quot;

I finally caught up, sucking down frosted air into my chest. I was &lt;em&gt;far&lt;/em&gt; too out of shape at the moment to be downing as much cold air as this. And the general altitude of North Station didn&#39;t do much for my lungs either. &quot;So what should I say to her?&quot; I said, puffing.

Summer smiled her usual sunny smile. I felt less winded almost instantly. &quot;I don&#39;t know exactly what you should say, but it would help to not let her push you around. She can come off strong, but I promise she&#39;s a very sweet young woman. And if anything happens, I&#39;ll be there to help.&quot;

&quot;What do you mean ‘if anything happens&#39;?&quot; I was starting to dread the thought of meeting June. She sounded horrible. To me, most anthros, maybe Summer and Tress aside, usually were. 

&quot;Nothing, nothing. C&#39;mon slowpoke, I&#39;ll race you to the garage!&quot; Summer said as she scampered off towards the stout, squared building down at the end of the frost way. I groaned and jogged after her, kicking up dirty snow as I went.

[[Continue-&gt;Meeting June The Garage]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;bootsSnow&quot; volume 0.2 play&gt;&gt;
&lt;&lt;audio &quot;snowMobilePass&quot; volume 0.3 play&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="39" name="Angry with June" tags="ship" position="513,2316" size="100,100">&quot;You almost killed me, you crazy bitch!&quot; I started forward, only to be stopped by the impenetrable mass of Summer sliding neatly between the two of us.

June was quick to fire back. She thumped her spare wrench against her palms. &quot;I only throw because you are smelling of James. Why do you smell of him?&quot;

&quot;James? You mean that weird Canadian guy?&quot;

&quot;Yes, the one who sells the &lt;&lt;hovertip &quot;‘Frost honey&#39; is a slang term for a highly addictive, naturally occurring opiate that can be harvested from northern gray fins. It became popular among predators as a way to soothe stress, anxiety, and anger, in order to prevent shock collar activation. It derives its name from the yellow, sap-like compound that is consumed by the user. It has also found use as a warming agent, as it tends to raise the users overall body temperature.&quot;&gt;&gt;frost honey&lt;&lt;/hovertip&gt;&gt; and the &lt;&lt;hovertip &quot;‘Shard&#39; is slang for a highly addictive central nervous system stimulant that is sold primarily in the northern wastes. Shard got its name from its crystalline form that has been known to cut its users. Its popularity rose during the northern agricultural boom as a way for rangers and other workers to stay warm and productive for days on end.&quot;&gt;&gt; shard&lt;&lt;/hovertip&gt;&gt; to mammals in North Station. He is not just Canadian, but also a bastard who destroys lives.&quot; She threw Summer a quick look.

&quot;June, wait,&quot; Summer said. &quot;We passed by Cale and James today outside of Jumping Jack&#39;s. Maybe he picked up the scent there?&quot;

&quot;Maybe, maybe.&quot; The reindeer kept her hard eyes on me. I was about one minute away from up and slugging her in the mouth. June continued, &quot;But that does not seem likely. You are not working with him, are you?&quot;

&quot;What? Of course not! I just met the guy!&quot; I fumed. I was already sick of both James and June, and James wasn&#39;t even here right now. &quot;And honestly, you&#39;re not making a great first impression either, &lt;&lt;hovertip &quot;A derogatory word for herbivores.&quot;&gt;&gt;flat tooth&lt;&lt;/hovertip&gt;&gt;.&quot;

&quot;June,&quot; Summer spoke in a hushed, calming voice. It reminded me of the way a mother might speak, but the Corgi couldn&#39;t be more than 27. She just didn&#39;t look it, with the youthful face and curvy body unblemished by the strains of carrying and birthing a litter of pups. &quot;How many humans have you been around in your life? Your whole life?&quot;

The reindeer dropped her wiry arms to her side. &quot;A handful, and they all remind me of James-&quot;

&quot;Right, and maybe that&#39;s just a human&#39;s scent. Did you ever think of that?&quot;

June flinched, as if wounded by the realization, or that it had to come from one so sweet. But almost as quick as the realization happened, it was gone again, transformed back to pointed brows and clenched fists. &quot;All the more reason to dislike them then.&quot; She looked up at me, who was still safely contained behind the corgi. &quot;Do you even know how to be a ranger? How to live this lifestyle? What it is like? Because I do. I work with Summer every day, and it is dangerous, dangerous work. You look like a pale twig. Like a little fawn. Do you even know how to ride a snowmobile?&quot;

I laughed. [[&quot;Give me a rig and I&#39;ll show you.&quot;-&gt;Race with June]]</tw-passagedata><tw-passagedata pid="40" name="Meeting June The Garage" tags="ship" position="698,2439.3333333333335" size="100,100">&quot;Remember,&quot; Summer said as we approached the cubed garage. &quot;Just don&#39;t let June push you around. She can be... very forward.&quot;

&quot;Christ,&quot; I said with a confident smirk. &quot;You act like I haven&#39;t handled my fair share of crazy bitches.&quot;

&quot;...I&#39;m just going to ignore that comment,&quot; Summer said.

The garage was open when we arrived, so we didn&#39;t bother trying the office first. From the ripping, chugging guitar chords, and warlike drums, I could tell that June was very much up and very much at work. We circled the building towards the garage doors, Summer&#39;s paws over her ears to in an attempt to blunt the music coming from the open garage doors.

We looked in to the disheveled garage, which looked like a hurricane had ripped through it, and scanned for June. 

She found me first.

A wrench shot directly over the top of my head like a metric-sized chrome bullet. It hummed as it sailed wide. Even though it passed by an imperial mile, I still ducked out of instinct.

&quot;I thought I said not to come back here, James!&quot; A light Scandinavian voice shrieked, almost as loud as the rock booming out of a pair of cheap speakers resting on a nearby tool chest. And that was how I met June: nearly getting brained by a wrench.

A reindeer appeared from behind the &lt;&lt;hovertip &quot;Trawlers are large, amphibious vehicles that are primarily used by rangers and ranchers for extended drives across hazardous terrain. They come equipped with several amenities, depending on the model. These include a small galley, bunk, workbench, cargo bay, and auxiliary snowmobile. Trawlers bear a slight resemblance to contemporary armored personnel carriers.&quot;&gt;&gt; trawler&lt;&lt;/hovertip&gt;&gt; on the far side of the garage, as if summoned up from the oily abyss that was the floor of the garage. She strode confidently at a sizable 5&#39;8&quot;, another wrench in her right paw. It glinted with malice in the warm light of the garage.

June was more petite (whereas Summer was curvy, I had noted) than I had expected. She was tall and relatively thin, wearing a pair of tight work shorts that rode up high on her fuzzy thighs (despite the cold), and a partially unbuttoned red, blue, and white flannel (again, despite the cold), coated in gasoline and oil stains like pimples on a perfect face. The shag of her fur was a light brown that had faded to a wintery white in some places. Her snout was pointed and forward, starting with a wrinkling black nose and ending with a pair of piercing, &lt;span id=&quot;juneEyes&quot;&gt;sapphire blue eyes&lt;/span&gt;, fixed on me.

Nothing but a devil&#39;s red and a Scandinavian blue set into her skull.

&quot;I say not to come back and yet here you are, standing in my garage! Not until what you owe me is paid do I even want to smell your scent around tow-&quot;

The reindeer was nearly upon me with her wrench when she stopped cold, her heavy work boots scraping against the concrete floor. &quot;You are not James.&quot; She didn&#39;t bother taking a step back, still frozen mid-swing, but instead she tightened her grip on the wrench. &quot;Who are you, and why do you smell of that bastard?&quot; The reindeer pointed her scowl towards Summer, who was now standing between me and a proper facial re-arranging, courtesy of the wrench. &quot;Summer, why is there a human in my garage? And why does he smell of James?&quot;

&quot;This is mister Hunter Gibbs. He&#39;s new in town and is looking to become a ranger. I told him I&#39;d introduce him to you. And I figured while I&#39;m here I could pay you for wintering my trawler last night. How&#39;s that for a plan?&quot; She answered with a shrug and a laugh. It seemed innocent enough — a gambit to defuse June&#39;s viking-like fury, maybe steer the conversation away from me, her human charge.

The reindeer scowled. &quot;And you knowing how I feel about humans, right doggy? I dislike working with apes.&quot;

&quot;Doggy? Ape?&quot; Summer repeated, tasting the words on her own tongue and finding incredulous. &quot;Come on now, June, there&#39;s no need to be so harsh. Hunter seems like a great guy-&quot; 

June bristled. &quot;I say I dislike working with them. They are cheaters and thieves, worse than the foxes!&quot; Despite the clenched teeth, she still had that Norwegian lilt — that bounce on certain syllables and words that made her sound like a furious Valkyrie. If her twiggish antlers were fully manifested and grown out, like the sails to a viking longboat, she might just be more terrifying than the polar bears in the wastes. But they were clipped, short, and had grown maybe a few pathetic inches. She raised an oily, accusatory finger at me.

&quot;You have not said a word since you intruded on me in my garage. Are you deaf or something?&quot;

[[&quot;You almost killed me, you crazy bitch!&quot;-&gt;Angry with June]]

Or

[[&quot;I&#39;ll try to stay out of your way from now on.&quot;-&gt;Submissive Garage]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked a new character in the sidebar!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerMetJune to true&gt;&gt;
&lt;&lt;audio &quot;junesTheme&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;audio &quot;snowMobilePass&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="41" name="Submissive Garage" tags="ship" position="524,2473" size="100,100">It was the music. Or the time of day. Or the promise of storms later. Either way, nothing went right for me, and, standing in the garage, being verbally assailed by a furious Norwegian reindeer, I melted into my own coat.

&quot;I&#39;ll try to stay out of your way from now on.&quot; I held up his hands defensively. &quot;I&#39;m not here to cause any trouble-&quot;

The doe folded her own arms close across her chest. &quot;I will believe it when I see it, humie.&quot;

An awkward silence fell. I shifted nervously in my boots and glanced around, hoping to evade June&#39;s deadly gaze. I chanced a pathetic cough, giving myself a point-of-entry for my humble request for a snowmobile. &quot;I&#39;m looking to buy a rig. I was hoping...&quot; I let the last few syllables trail out of my mouth and into the frigid air. 

The doe was crazy for more than one reason, and her choice of revealing attire in this climate was one of them.

June stamped that request with a gale of sharp laughter. &quot;You must be high on shard or drunk to think I will sellings to you.&quot; She leaned forward with a judgemental, displeased stare. &quot;You are not a junkie are you? Because after you cower in front of me like this, only a junkie would think to still ask to buy a rig from me.&quot;

&quot;Christ, no. I just want to buy a rig. I promise, I&#39;ll stay out of your way afterwards.&quot; I took a weak step back, hoping not to trip on anything and further embarrass myself.

Another cut of laughter from the doe. &quot;I say no. You are not fit for ranger work, pink boy. Now, I am going back to work. There is much to be done around here.&quot;

She turned and started walking away until Summer&#39;s hand grabbed at the back of her flannel, anchoring the doe in place. The little corgi was as sturdy as they came, and I was again grateful for her buffering presence.

&quot;I&#39;m partially responsible for the human, at least so long as he wants to become a ranger. You still want to become a ranger, right?&quot; She looked up at me, her &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; pleading with my own. 

I nodded. Summer paused for a heartbeat and then returned the gesture. She then released her grasp on a startled June, whose stubby little tail was sticking straight up through her tight work shorts. 

&quot;If you don&#39;t sell to him, you&#39;re not selling to me either,&quot; Summer said.

June spun in a panic, a whirlwind of flannel and fur. &quot;What? Why are you making this about you? You do not need to stick up for the human. He&#39;s an outsider.&quot;

&quot;He&#39;s a ranger, that&#39;s why I&#39;m responsible for him-&quot;

&quot;Ranger!?&quot; June stormed. &quot;He has not even his &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt;! He is no ranger, he is a fawn!&quot;

&quot;Then we&#39;ll get him his scarf at the station, &lt;em&gt;after&lt;/em&gt; he buys his snowmobile.&quot; 

For the first time since I&#39;d met the bubbly corgi, I thought I heard an edge to her voice. Time seemed to freeze as the two women glared at one another, trading looks.

Like a snowball put to a flamethrower, June&#39;s posture melted. Her shoulders fell forward, and her eyes rolled upwards in protest. &quot;Fine...&quot; she professed to the ceiling, like only God was listening to her plea. &quot;But only because it is you, doggy. If it were anyone else, I would have thrown a bigger wrench.&quot; 

She then snapped her body forward and met my eyes with her disapproving gaze. &quot;Shame on you for making Summer stand up for you. A first lesson in being a ranger for you: you must be tough and unwilling to make compromises, not cower like a child. I am not fond of weak children running around my town. They will get hurt.&quot;

Completely oblivious to June&#39;s sharp words, Summer&#39;s paws clapped together as her tail wound up for another hurricane-force demonstration of joy. &quot;Great! Why don&#39;t you bring it around the station so we can get Hunter started? How&#39;s that for a plan?&quot;

June groaned again, while I caught mouthfuls of Summer&#39;s tail, and this time I didn&#39;t mind so much.

[[Continue-&gt;Hunter, Summer and June at the Station (Submissive)]]</tw-passagedata><tw-passagedata pid="42" name="Race with June" tags="ship new-content-flag" position="397,2325" size="100,100">&quot;This isn&#39;t necessary!&quot; Summer cried. She was standing about 100 yards away, just an orange-yellow speck in the distance. We were outside of town on a flat plane, flanked on all sides by towering pines.

Beneath me, a snowmobile&#39;s engine growled and hummed, its belly full of gasoline. I tested the throttle once, earning an impotent &lt;strong&gt;VRRRM&lt;/strong&gt; from the engine. 

June pulled up next to me on a snowmobile of her own, still dressed like she was going back to work right after I smoked her.

&quot;If you ride away with my rig, there is nothing but tundra and forest and ice for many kilometers around. That is, if you can ride that thing properly.&quot; June threw me a knowing smirk, as if she already knew I wasn&#39;t up to racing North Station&#39;s lone grease monkey. She pulled a reflective pair of snow goggles over her eyes.

Racing a Norwegian reindeer was one of those things I never saw myself doing. Sure, an honest day&#39;s work on a fishing trawler I could see myself taking part in. Herding cattle? Absolutely. But not this. Not for the right to buy a snowmobile from a crazy reindeer.

Yet, I pulled back on the throttle again, drawing out another shriek from the engine, as if to signify that I was indeed ready to light this candle. The idea of leaving this bitch in my wake sounded more and more appealing.

&quot;READY?!&quot; Summer shouted, and even through distance and over the mechanical and octane-fueled din of the snowmobiles, her voice was sweet. She raised her stubby arms above her head. &quot;SET!?&quot;

June threw me one last confident smirk. &quot;Good luck, pink boy. You are going to be needing it.&quot;

&quot;GO!&quot; Summer dropped her arms to her side.

[[Continue-&gt;Race with June1]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;junesTheme&quot; stop&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; volume 0.8 loop play&gt;&gt;
&lt;&lt;set $snowmobileRace to true&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="43" name="Race with June1" tags="ship" position="280,2315" size="100,100">I switched off the brakes and ripped back again on the throttle. My entire body shot backwards as the snowmobile tore off, peeling up a layer of ice and snow. I held on for dear life.

Snowmobiles had come a long way since they were first invented in the 50s. They&#39;d gone from little chuggers putting out only a few pounds of torque, to something that could properly knock a rider off if he or she wasn&#39;t holding on tight enough. Imagine the difference between a bottle rocket and a proper, professional piece of pyrotechnic ordnance, and that was what rigs were in the year 2099. 

I was almost one of these poor sods who so often got left on their butts in the snow. Almost. I held on, just barely, and gunned the rig forward, flying off the handlebars like a kite struggling to gain wind.

Like any gas-fed vehicle, my snowmobile coughed out an unholy cloud of inky smoke as I surged down the ice and snow. Summer, a speck on the thin line of the horizon, was rapidly becoming a robust shape, with details and soon, facial features. I looked to my right. June was right next to me, hunched low on her own rig, cold air gliding over her sleek and aggressive white snowmobile.

And then she kicked my rig, sending me skittering, but not quite falling over. She took a slight lead over me, spraying me with wet snow.

[[&quot;Eat shit, Rudolph!&quot; (kick her back)-&gt;Kick The Doe]]

Or

[[Gun it forward-&gt;Gun it forward]]</tw-passagedata><tw-passagedata pid="44" name="Kick The Doe" tags="ship" position="160,2362" size="100,100">&lt;em&gt;If she&#39;s not going to fight fair, neither am I.&lt;/em&gt;

I pulled up alongside her and delivered a strong kick of my own to the side of the doe&#39;s rig, sending her swerving to the right. She corrected glanced over and wordlessly pounded against my snowmobile with her powerful legs. I could feel the recoil of her strikes like a dull bell ringing all throughout my body. &lt;em&gt;Note to future self: do &lt;strong&gt;NOT&lt;/strong&gt; get kicked in the balls by June.&lt;/em&gt;

I swerved left, corrected too hard, and slammed into June, an avalanche of metal and flesh toppling and spinning over itself.

Flung forward. Tossed. Hurled. Whatever you want to call it, we sailed through the air together, catapulted by our mutual lack of respect for the other&#39;s wellbeing. The snowmobiles did a tight couple barrel rolls of their own as we crashed and spun together, tangling and knotting our limbs, jostling on top of one another until we at last came to rest in a crater of snow and ice. Some feet away, the ‘finish line&#39; sat uncrossed, and Summer was in a dead, panicked sprint.

I became aware of two things first: how much snow had gotten under my pea coat, and how soft June&#39;s lips looked. I was barely keeping myself upright on top of June, held over her in the world&#39;s most perilous plank. It&#39;d take one muscle giving out for our lips to collide like two opposing stars crashing together in a vivid shock of light and primitive galactic forces.

June&#39;s &lt;span id=&quot;juneEyes&quot;&gt;eyes&lt;/span&gt; blinked open, her long doe lashes throwing snow. It was only after a few heartbeats did my spindly arms finally give out.

She spun her neck just enough so that my nose collided with her bony cheeks, my lips mashing against her coarse fur. It felt like rough velvet and smelled of oil and gasoline. I felt the hotness of her body and saw only the darkness behind my eyes, and all at once, felt a rush of serenity overtake me, like the blush of a drug coursing through my veins.

&quot;Get off me!&quot; June gave me a rough shove, which rolled me onto my back. I ended up beside her. The doe was on her feet in an instant. &quot;What is your problem? Why are you having to try to kiss me?!&quot; Her face was a bright scarlet, shining through her short, coarse fur like magma boiling beneath a glass surface.

&quot;Kiss you? I didn&#39;t try to kiss you, I just landed that way!&quot; I swiped a hand across my lips. &quot;As if I would even want to kiss you anyway.&quot;

&quot;W-What&#39;s that supposed to mean?&quot; The doe leaned forward. I could see Summer barreling towards us in the distance. She was fast for a corgi, especially as she leapt through over (and through) snow drifts.

Now it was my turn to blush. I threw my head to the side and pulled my black beanie down a little more over my face. &quot;I&#39;m just saying I didn&#39;t try to kiss you, is all.&quot; My voice came out in an unintended whisper.

June didn&#39;t seem to notice. She was too busy throwing snow off of her shivering body. &quot;At least you have balls. For a human, that is. I will giving you that.&quot;

&quot;Thanks, so do you.&quot; My jab was quick, short, and to the point. The doe ignored it as she brushed some snow off her shoulder.

&quot;I may not like humans, but at least you can handle yourself on a rig. The others I have met could not.&quot;

&quot;How many have you even met?&quot; I asked, wondering if there was a time when she was at the very least tolerant of my kind. 

June crossed her arms and scowled. &quot;I have met enough. Now, I will sell you that rig over there as it stands right now for $200.&quot; She jerked her chin towards the overturned snowmobiles. &quot;Think of this as your prize. Does this sound fair?&quot;

[[Continue-&gt;Summer Tackles Hunter; Hunter buys a snowmobile]] 
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="45" name="Gun it forward" tags="ship" position="153,2239" size="100,100">I didn&#39;t need to cheat to win, but I&#39;d remember that kick in bright, full flashes of anger. I&#39;d remind her who the superior species was when I crossed the ‘finish line.&#39;

I corrected with a hard right turn and then ripped back on the throttle. I tore off like a lightning bolt. Within a matter of seconds I&#39;d passed June, even making it a point to cut her off and kick up as much loose snow in her face as I could.

I sailed past Summer and came to a skittering halt. June pulled up next to me, dripping wet and frosted over like she&#39;d lost a snowball fight with God. She dismounted wordlessly and stormed past the human, towards Summer.

&quot;Guess we learned who the apex predator really is,&quot; I called after her. My face was chapped red by the wind, but shining with victory. I shook out the adrenaline and dusted snow off my coat. I blinked, and June was in my face, huffed up and scarlet with embarrassment.

The thing with June, I realized then, is that she was not a gracious loser. A fierce mechanic, headstrong, courageous, and could drink most polar bears under a table, but a gracious loser June was not.

&quot;You only win because you are lucky, you know?&quot; she stormed, throwing her fists down at her sides. &quot;I am letting you win because you are new in town and I feel bad for you.&quot;

&quot;You? Feel bad for me?&quot; I shot back, accenting my retort with a bit of laughter. &quot;What happened to the whole ‘haet humans&#39; schtick?&quot;

&quot;Is true! Hate them! Thieves! Scoundrels!&quot; She pushed the bulk of her forehead against my own. I surged back. And soon we were pushing against one another, digging our heavy boots into the ice-crusted snow. I could feel the density of her skull, the weight of her consciousness driving her forward like a drill set to bore through my cerebellum. She could hurt me if she wanted. She could ram me with her antlers like a male in a rut. As pathetic as they might be, they were still more than capable of goring a mammal. 

&lt;em&gt;So why hasn&#39;t she?&lt;/em&gt;

&quot;I don&#39;t like you either, flat tooth. I&#39;d be surprised if anyone did. Bet you got a &lt;em&gt;ton&lt;/em&gt; of friends, acting the way you do.&quot;

&quot;You try sarcasm with me, I see it. You thinkings because English is not my native tongue you can slip it by me?&quot; she said, teeth ramming together. Somewhere inside June, some carefully tied knot was coming undone. &quot;I have friends! Many!&quot; She threw her body backwards, stumbling in the ankle-deep snow. &quot;Look, here comes Summer. She is a friend of mine. She will tell you.&quot;

The corgi arrived right on cue. Before she could cut a word in, June overwhelmed her. &quot;Summer, doggy dearest, are we not friends?&quot;

Summer was barely winded from her sprint, but the question seemed to knock the air out of her. &quot;Well, of course we are, bu-&quot;

&quot;SEE!? You hear her? We are friends! The predator is my friend, and I have many friends that are not predators too.&quot;

&quot;What did you just call-&quot;

&quot;Summer dear I have many friends do I not? I am well liked around North Station?&quot;

&quot;June, are you alrig-&quot;

&quot;See?! I have many friends,&quot; June concluded, unwilling to hear the rest of what summer had to say.

And all I could do was stand there, my fists awkwardly balled up, staring with a crooked neck at the doe, watching her self-destruct.

Her chest was heaving, her shoulders forward, &lt;span id=&quot;juneEyes&quot;&gt;eyes&lt;/span&gt; defensive and fixed on mine. And nothing made the scene feel more complete than the furious blush of red scouring her high cheeks. 

&quot;That was, by far, one of the most pathetic things I&#39;ve ever seen a mammal do,&quot; I said after a brief silence.

&quot;Shut it, Ape,&quot; June seethed.

[[Continue-&gt;Hunter, Summer and June at the station (Hunter guns it forward)]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $hunterWinsAgainstJune to true&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="46" name="Summer Tackles Hunter; Hunter buys a snowmobile" tags="ship" position="14,2380" size="100,100">That was a markup. I was about to say something when Summer bounded between the two of us. She was frantic, covered in her own dusting of snow. She paused for only a fraction of a second.

Without thinking, she launched her tiny self towards me like a rocket flying off its launchpad, knocking me onto my ass. Summer&#39;s tongue was all over my face in rapid, near-frantic strokes. The heat of panic practically melted the corgi all over me. She machine-gunned apologies and questions at me. I lifted a defensive arm to shield myself from the concerned onslaught of her tongue. June, meanwhile, doubled over with loud, rib-sucking laughter. She sounded like she was gasping.

&quot;Summer stoppppp.&quot; I gave her a gentle shove. The corgi stumbled back, face still frozen with concern, ears flat against her skull. &quot;I&#39;m okay, I just took a spill,&quot; I said, preparing for another onslaught.

&quot;Are you sure?&quot; Summer wiped her mouth, looked at her gloved paw, then looked back up at me. &quot;Because I can-&quot;

I held up my hands to silence Summer. June was still bent over, sucking in frosted air, laughing almost painfully hard I pointed a finger at her. &quot;You shut the fuck up.&quot;

&quot;I am sorry, I-&quot; June looked up again, saw my scarlet face still glossed with dog saliva, and exploded with more laughter. I threw a handful of loose snow at her but she just kept on chortling. &quot;Humans, Summer,&quot; she said through gasps, &quot;do not lick one another on the face when they are worried or excited.&quot;

Summer looked more horrified than when we had crashed together. &quot;O-Oh God, I-I-I&#39;m so...&quot; she undid her scarf and started wiping my face. In the end, she had to leap and jump to reach me, which is something she did with near religious fervor and a face redder than a beet. &quot;See, look, there, how&#39;s this for a plan, we go back to the ranger station and drink some coffee and clean you two up?&quot; She said, still wiping my face of snow and spit. Anything to keep me from seeing how horribly red she was. &quot;And we forget this whole thing ever happened.&quot;

I was over it. All of it. I let Summer scrub my face down to the bone while June worked herself up into another fit of laughter. Once the corgi was done with me, I thanked her with clenched teeth, picked a clean $200 out of my snowy boots, and handed it over to the laughing reindeer.

&quot;What&#39;s that for?&quot; Summer asked, as she watched the money change hands.

&quot;Is nothing-&quot; June began, pocketing the bills. She coughed a few times and wiped the tears out of her &lt;span id=&quot;juneEyes&quot;&gt;eyes&lt;/span&gt;

&quot;It&#39;s for that snowmobile over there,&quot; I grumbled. 

&lt;em&gt;I&#39;d give anything to just hop on it and ride down to a new station.&lt;/em&gt; 

I&#39;d seen enough already.

Summer&#39;s ears shot back up. &quot;$200?! For the one you just crashed?&quot; She looked hurt. &quot;You&#39;re not really going to overcharge him like that, right?&quot;

The doe hesitated. Then her expression turned hard. &quot;He pays the human tax. Is $200-&quot;

&quot;June...&quot; Summer pointed her snout downward and folded her ears back against her skull. She looked up at the doe with her big &lt;span id=&quot;summerEyes&quot;&gt;green&lt;/span&gt; eyes.

&quot;Like I was saying-&quot; June pocketed the cash. &quot;He pays $200 and I also fix it up for him. Is what we agreed upon.&quot; She gave me a look that was somewhere between urgency and annoyance. I nodded back at her, speaking her silent language, where she seemed to say &lt;em&gt;I&#39;m only doing this for you because I feel bad for the doggy.&lt;/em&gt;

[[Continue-&gt;Hunter, Summer and June at the station (Hunter kicks June)]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $hunterWinsAgainstJune to true&gt;&gt;
&lt;&lt;audio &quot;junesTheme&quot; stop&gt;&gt;
&lt;&lt;audio &quot;summersTheme&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="47" name="Hunter, Summer and June at the station (Hunter kicks June)" tags="ship" position="39,2527" size="100,100">One for the other&#39;s sake. One more for my bruised body. I swallowed the pain killer with some coffee while June, leaning against Summer&#39;s desk, wormed a cigarette out of her pocket. I felt crammed into Summer&#39;s tiny office, drinking very stale, day-old coffee, all the cheer sucked out of it. I tried downing the swill with as little grimacing and choking as possible. It was more about getting the pills in me than anything else.

The ranger station — at least Summer&#39;s office — was a lot smaller than I thought it would be. Mostly the station looked like a lounge, paneled with high wooden walls and a bank of computers pressed against said walls. We&#39;d spent a whirlwind of a minute getting the ‘grand tour&#39; of the station before Summer had pulled us into her claustrophobic office.

Given the loose papers, fine layer of dust, loose blankets, and general chill in the room, Summer hadn&#39;t been back here in a few weeks. That is, until last night. Judging by the old coffee I was sipping, she had slept in her office. The blanket on the small couch next to her desk was a dead giveaway. I knew dogs were comfortable sleeping in most places, but to me it was like sleeping outside.

&quot;There, all better,&quot; Summer clapped her hands together. &quot;That&#39;ll help you with the bruises.&quot;

&quot;Good as new,&quot; I said with another swallow of coffee. For my efforts, I got a mouthful of grounds. I set down the coffee mug on a stack of papers, resolving to never touch it again. From what I could feel there were no bruises, but I thanked Summer anyway. She was a good girl, and I nearly said that, until June cut me off. I was quietly thankful that she did.

&quot;I do not understand why I am here,&quot; June moaned, speaking around the cigarette. She lit up and leant Summer&#39;s desk her full weight. The small, wooden piece of furniture groaned but held out against the doe&#39;s meager pressure.

&quot;You&#39;re here because we need to set Hunter up with work, and you&#39;re going to advise him on which jobs to take based on his current snowmobile situation. How&#39;s that for a plan?&quot; Summer said.

&quot;Yes, my advice is for the human to get on the next bus out of here,&quot; June sulked, staring holes into the wooden floor.

&quot;Be nice,&quot; Summer said, like a parent chastising a child.

&quot;What?&quot; The reindeer blew a cloud of smoke upwards. &quot;Is true. There are only a few jobs he can do with his gear, and both will take experience. Human-&quot; She rolled her head towards me. &quot;You say you are a novice?&quot;

I nodded.

&quot;Then there it is. He is not fit for ranger work. You should have come with experience and not testicles,&quot; she said, turning her eyes back towards the fire.

&lt;em&gt;Oh fuck off.&lt;/em&gt;

&quot;Like it or not, Rudolph, I&#39;m staying, and I&#39;m using my new rig to make some money while I&#39;m at it,&quot; I snapped. &quot;You just want me gone because I don&#39;t have fur.&quot;

&quot;Not untrue, but at least you have a pair of balls — for a human.&quot; The doe blew another cloud of smoke at me. I waved it away, dispersing it around the office. Summer, meanwhile, hacked away at a bulky desktop computer, completely ignoring our petty bickering.

&quot;It looks like we got a few listings for you here, Hunter.&quot; Summer&#39;s adorably feminine face was blue in the digital glow of the CRT as she smiled up at me. &quot;We&#39;ve got gray fin herding and arctic cattle driving positions open.&quot; She swiveled in her rolling chair to face June. &quot;He can do both of those can&#39;t he?&quot;

She nodded, leaning harder against the desk. &quot;With some minor modifications he can herd gray fin, and as his rig is now, it is fit for cattle driving.&quot;

For most predators, the shock collars made sense, I figured. But not for Summer. Too much generosity. Too much kindness. I wanted to reach out and stroke the top of her head, for whatever reason.

&quot;Your pick. Do you wanna herd fish around on the lake or drive cattle across the tundra?&quot;

The human opened his mouth to speak right as the door to Summer&#39;s office exploded inward. A snow leopard, his collar glowing red, stood in the doorway. He leaned against the frame for support. &quot;Thank God you are here,&quot; he wheezed in a Russian accent as thick as borscht. &quot;Please, come quick. Jesse has gone savag-&quot; His collar emitted a sharp beep, and then came the electric punch, that tangled sound of current running through metal and arcing off of already singed fur. The leopard yelped and dropped forward, paws tight around his own throat. 

He looked up at us. &quot;Please. Jesse has taken too much shard. He is near the docks. Go, [[see if you can control him before he hurts someone]].&quot; 
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;summersTheme&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="48" name="see if you can control him before he hurts someone" tags="ship" position="241,2586" size="100,100">&quot;I&#39;m going to the dock to get this guy under control,&quot; I replied. &quot;Time to earn my scarf.&quot;

&quot;Right.&quot; Summer hopped off her chair. &quot;If you think you&#39;re up for it, then I&#39;m tagging along. I&#39;ve gotta get myself back in the game, anyway.&quot;

Relief washed over the leopard&#39;s face. &quot;Thank you, God, thank you for your help. I knew I could count on rangers for this.&quot; He looked like he was about to fall over — either from pain, exhaustion, or relief. Maybe a cocktail of all three.

&quot;Did you not hear the predator?&quot; June said, stubbing her cigarette out in a nearby ashtray. &quot;The leopard said &lt;em&gt;shard.&lt;/em&gt; Not frost honey, not beer or wine or whiskey. You are not dealing with an angered mammal but a savaged beast, made wild by the drug.&quot; 

&quot;Jesse is a least weasel. Very slippery. Claws and fangs sharper than my own.&quot; The leopard held out his paws. His black claws looked like massive needles. &quot;More than once he has attacked someone, the collar makes no difference to him, especially when he has taken the drug.&quot;

&quot;And there you have it,&quot; June said. &quot;A least weasel is fierce on his own, but on shard? You better have a plan.&quot;

I clenched my fists. Glory was just across town, by the lake, and here I was, mulling over the idea of having my throat ripped out by a shard fiend. Then an idea hit me like a .30-30 cartridge.

&quot;Guns,&quot; I said, now frantically searching the room, pulling open drawers. &quot;We need something to defend ourselves with. Maybe we can get him to stand down.&quot;

&quot;Doubt it,&quot; June remarked.

&quot;Here, Hunter.&quot; Summer pulled open the top drawer to her desk. In it was a worn, scratched up revolver with a torn box of ammunition, and an orange flare gun with three shells. 

&quot;That&#39;s all you have?&quot; I said, turning with an incredulous look. I expected... more than flare gun and a suspiciously worn pistol. &quot;Where&#39;s the armory? Hell, where&#39;s the gun cabinet?&quot; 

&quot;A ranger works with what they have, and my station has pistols or snowballs. Now,&quot; her expression turned hard. &quot;Grab the gun. I&#39;ll take the flares.&quot;

I hesitated for a second, and it was just enough for Summer to take notice. &quot;You do what you have to do, Hunter. This is all part of the job.&quot;

June raised an eyebrow. &quot;And what, little doggie, are you going to do with a flare gun against a rabid least weasel?&quot;

The flare gun went into the back pocket of Summer&#39;s snow pants. &quot;Maybe I can distract him or something. I&#39;ll work on a plan on the way over there. How&#39;s that for a plan?&quot;

&quot;It&#39;s not-&quot; I began, but Summer was already a blur out the door, her red scarf trailing behind her like a crimson tail. 

[[Take the revolver-&gt;Take the revolver]]</tw-passagedata><tw-passagedata pid="49" name="Hunter, Summer and June at the Station (Submissive)" tags="ship" position="363,2503" size="100,100">The ranger station — at least Summer&#39;s office — was a lot smaller than I thought it would be. Mostly, the station looked like a lounge, paneled with high wooden walls and a bank of computers pressed against the walls. I&#39;d spent a whirlwind of a minute getting the ‘grand tour&#39; of the place before Summer had pulled us into her cramped office.

Given the loose papers, fine layer of dust, loose blankets, and general chill in the room, Summer hadn&#39;t been back here in a few weeks. That is, until last night. Judging by the stale old coffee I was sipping on and the freshly stoked fireplace, Summer had slept in her office. A chill still ran through me — the fire had yet to mature into anything worthwhile.

The blanket on the small couch tucked next to her desk was a dead giveaway of her standard of living. I was about to ask where she lived before the reindeer cut me off.

&quot;I do not understand why I am here still,&quot; June moaned, speaking around the cigarette in her mouth. She lit up and leant Summer&#39;s desk her full weight. The small, wooden piece of furniture groaned but held out against the doe&#39;s meager weight. &quot;There is nothing to do but smoke, tend the fire, and inhale the human&#39;s stink. I have work I must be doing, you know?&quot;

I shot her the bird.

We had all made the short journey to the ranger station together, Summer riding on my snowmobile, hooking her arms around my waist and pressing her body close against my own. It made my heart flutter just thinking about it. I had the urge to call Summer a ‘good girl&#39;, but I quashed that urge deep in my stomach.

&quot;You&#39;re here because we need to set Hunter up with work, and you&#39;re going to advise him on which jobs to take based on his current snowmobile situation. How&#39;s that for a plan?&quot; Summer said.

&quot;Yes, my advice is for the human to get on the next bus out of here,&quot; she sulked, staring holes into the wooden floor.

&quot;June, be nice,&quot; Summer said, as if she were a parent chastising a child.

&quot;What?&quot; June blew a cloud of smoke upwards. &quot;Is true. There are only a few jobs he can do with his gear, and both will take experience. Human-&quot; She rolled her head towards me. &quot;You say you are a novice?&quot;

I nodded.

&quot;Then there it is. He is not fit for ranger work. You should have come with experience and not testicles,&quot; she said, turning her eyes back towards the fire. 

I kind of liked the way the fire danced in her eyes. It felt… fitting… for her. Still, not to leave an insult unanswered, I shot back.

&quot;Like it or not, Rudolph, I&#39;m staying, and I&#39;m using my new rig to make some money while I&#39;m at it,&quot; I snapped. &quot;You just want me gone because I don&#39;t have fur.&quot;

&quot;Not untrue,&quot; the doe blew another cloud of smoke at me. &quot;And that rig is going to cost you $200, boy.&quot; 

I waved away the cloud of smoke, dispersing it around the office. I&#39;d deal with the costs later.

Summer, meanwhile, hacked away at her bulky desktop computer, utterly oblivious to the world around her.

&quot;It looks like we got a few listings for you here, Hunter.&quot; Her tail hurled air at me. Her adorably feminine face was washed in the digital glow of the CRT. &quot;We&#39;ve got gray fin herding and arctic cattle driving listings open. And the terminal outside should be functioning now.&quot; She swiveled in her rolling chair to face June. &quot;He can do both of those, can&#39;t he?&quot;

She nodded, leaning harder against the desk. &quot;With some minor modifications he can herd gray fin, and as his rig is now, it is fit for cattle driving.&quot;

A smile exploded across the corgi&#39;s face. Her pointed teeth were like a polished cage for her tongue. For most preds, the shock collars made sense. But not for Summer. Too much generosity. Too much kindness.

&quot;Your pick. Do you wanna herd fish around on the lake or drive cattle across the tundra?&quot;

I opened my mouth to speak right as the door to Summer&#39;s office exploded inward. A snow leopard, his collar glowing red, stood in the doorway, hunched over and breathing hard. &quot;Thank God you are here,&quot; he wheezed in a Russian accent as thick as borscht. &quot;Please, come quick. Jesse has gone savag-&quot; his collar emitted a sharp beep, and then came the electric punch, that tangled sound of current running through metal and arcing off of already singed fur. The leopard yelped and dropped forward, paws tight around his own throat. 

He looked up at Summer and I. &quot;Please. Jesse has taken too much shard. He is near the docks. Go, [[see if you can control him before he hurts someone]].&quot; 

&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;junesTheme&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="50" name="Take the revolver" tags="ship" position="250,2759" size="100,100">I grabbed the revolver, ripping it out of the drawer in a blur. I tested its weight in my grip. It felt heavier than I thought it would be, like a solid and shaped chunk of metal. 

&lt;em&gt;I&#39;ve never used a revolver before.&lt;/em&gt;

The pistol was definitely old. It looked like someone had taken some steel wool to it, given the scratches and scuffs imprinting the length of its snubbed barrel. Any potential shine or polish that the pistol once carried had been eroded by water and dust and time. Even back in its prime, it was certainly no looker. It would have looked at home in a trash can.

I loaded it with shells, pushing each brass round in until I hit six.

June was still leaning against the desk, pulling smoke out of her cigarette. She glanced between me and the pistol now balanced in my grip. &quot;You &lt;em&gt;have&lt;/em&gt; fired a gun before, yes, human?&quot; she said, all too casually. She took another drag.

I felt a rush of blood hit my cheeks. I turned my head away from the reindeer and down towards the pistol. I tested the hammer a bit. &quot;I&#39;ve shot a few before, yeah,&quot; I said, hoping it wasn&#39;t apparent that I was familiar with rifles and not pistols.

&quot;Let me guess, all rifles?&quot;

&lt;em&gt;Motherfucker.&lt;/em&gt;

&quot;Yeah. All rifles,&quot; I said, impatience pushing adrenaline into my veins. &quot;Used to go bird hunting at my uncle&#39;s cabin when I was a kid. I went out in the woods with a .22 and shot at anything with wings.&quot;

&quot;I am coming with you then,&quot; June said with finality, detaching from the desk. She snubbed out the last of her smoke into a nearby ashtray. &quot;I would like to see how this plays out.&quot;

&quot;Fine by me, just don&#39;t expect me to save your fuzzy ass when the weasel pounces,&quot; I said. I started for the door, shoving the pistol into my front pocket.

&quot;I am not worried. This is why I always carry &lt;strong&gt;this&lt;/strong&gt; with me.&quot; She pulled an ordinary crescent wrench out from one of her back pockets. It wasn&#39;t much, but it was enough to properly to concuss a mammal with a good swing.

Summer was already a good 20 feet ahead of us, on her way to the parked snowmobiles, bounding through the snow. Even from this distance, I could see the way her tongue trailed out of her mouth. It was adorable.

Not to be outdone,  June took my free hand, and before I could shake her loose, she said, &quot;Come with me, slow feet.&quot;

With open ground and distance to cover, June exploded forward, dragging me with her. I swear to God, I felt my feet leave the ground at some point, we were moving so fast. Corgis are surprisingly fast for their size, but a reindeer at a dead sprint is like a hurricane with antlers.

[[Continue-&gt;The Weasel at the lake (gun)]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; volume 0.5 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="51" name="The Weasel at the lake (gun)" tags="ship" position="253,2884" size="100,100">The lake was a short snowmobile ride away at the far edge of town, about 10 minutes across open tundra and a smattering of trees. As we cruised, the terrain began to slope downward, until I found myself pulling on the breaks more and more. June, laughing masochistically, tore off ahead of me, a flannel commet banking down hills and turns.

Because Summer&#39;s &lt;&lt;hovertip &quot;Trawlers are large, amphibious vehicles that are primarily used by rangers and ranchers for extended drives across hazardous terrain. They come equipped with several amenities, depending on the model. These include a small galley, bunk, workbench, cargo bay, and auxiliary snowmobile. Trawlers bear a slight resemblance to contemporary armored personnel carriers.&quot;&gt;&gt; trawler&lt;&lt;/hovertip&gt;&gt; was still at the garage, she rode with me, locking her arms around my chest and pressing her body up against my back. My heart thundered, but not because of her proximity to me, but out of throat-tightening anxiety. 

The pistol in my pocket felt like it weighed almost 50 pounds more now that it was loaded.

&lt;hr&gt;

The lake was like a massive crater set into the frosted landscape, flanked on all sides by deep pockets of forest. I looked and tried to find the other end of the shore, but the horizon only disappeared into a thin, watery line. The sun had already started to fall, and cold, gray clouds, the color of wet cement, gathered overhead like a flock of vultures. The weather mirrored the increasingly violent tides of the lake, as gusts of wind ripped against my exposed wrists.

Somewhere on the docks was a rabid weasel.

[[Continue-&gt;To shoot or not to shoot (gun)]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="52" name="Hunter, Summer and June at the station (Hunter guns it forward)" tags="ship" position="14,2247" size="100,100">&quot;I do not understand why I am here,&quot; June moaned, speaking around the cigarette in her mouth. She lit up and leaned on Summer&#39;s desk with her full weight. The small, wooden piece of furniture groaned, but held out against the doe. &quot;There is nothing here to do but smoke, tend the fire, and inhale the human&#39;s stink.&quot;

I shot her the bird. We had all made the brief journey to the ranger station together, Summer riding on my snowmobile, hooking her arms around my waist and pressing her body close against my own. The memory made my heart flutter a bit, but I pushed that feeling down, deep down, and promised to drown it later with a good slug of whiskey.

&quot;You&#39;re here because we need to set Hunter up with work, and you&#39;re going to advise him on which jobs to take based on his current snowmobile situation. How&#39;s that for a plan?&quot; Summer said, not bothering to take her eyes off the screen of her computer. A fired roared in the room&#39;s corner, piping black smoke up the chimney.

&quot;Yes, my advice is for the human to get on the next bus out of here,&quot; she sulked, staring holes into the wooden floor.

&quot;June, be nice,&quot; Summer said, like a parent chastising a child.

&quot;What?&quot; June blew a cloud of smoke upwards. &quot;Is true. There are only a few jobs he can do with his gear, and both will take experience. Human-&quot; She rolled her head towards me. &quot;You say you are a novice?&quot;

I nodded.

&quot;Then there it is. He is not fit for ranger work. You should have come with experience and not testicles,&quot; she said, turning her eyes back towards the fire. Pissed off or not, I kind of liked the way her eyes reflected the dancing flames. Still, I wasn&#39;t going to let her get away with talking like that.

&quot;Like it or not, Rudolph, I&#39;m staying, and I&#39;m using my new rig to make some money while I&#39;m at it,&quot; I snapped. &quot;You just want me gone because I don&#39;t have fur.&quot;

&quot;Not untrue.&quot; The doe blew another cloud of smoke at me. &quot;And that rig is going to cost you $200, human.&quot; 

I waved away the cloud of smoke, dispersing it around the office. Summer, meanwhile, hacked away at her bulky desktop computer.

&quot;It looks like we got a few listings for you here, Hunter. The terminal outside should have them now too.&quot; Her tail waved, hurling air at the human. Her adorably feminine face was washed in the digital glow of the CRT, but bright with more than just digital light. She seemed genuinely happy, as evidenced by her lax collar and wide smile. &quot;We&#39;ve got gray fin herding and arctic cattle driving.&quot; She swiveled in her rolling chair to face June. &quot;He can do both of those, can&#39;t he?&quot;

June nodded, leaning harder against the desk. &quot;With some minor modifications he can herd gray fin, and as his rig is now, it is fit for cattle driving.&quot;

A smile exploded across the corgi&#39;s face. Her pointed teeth were like a polished cage for her tongue. For most preds, the shock collars made sense, I thought. But not for Summer. Too much generosity. Too much kindness. &quot;Your pick. Do you wanna herd fish around on the lake or drive cattle across the tundra?&quot;

I opened my mouth to speak right as the door to Summer&#39;s office exploded inward. A snow leopard, his collar glowing red, stood in the doorway, hunched over and breathing hard. &quot;Thank God you are here,&quot; he wheezed in a Russian accent as thick as borscht. &quot;Please, come quick. Jesse has gone savag-&quot; His collar emitted a sharp beep, and then came the electric punch, that tangled sound of current running through metal and arcing off of already singed fur. The leopard yelped and dropped forward onto the floor, paws tight around his own throat. He looked up at Summer and I, &quot;Please. Jesse has taken too much shard. He is near the docks. Go, [[see if you can control him before he hurts someone]]&quot;.
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;junesTheme&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;audio &quot;junesTheme&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="53" name="To shoot or not to shoot (gun)" tags="ship" position="242,3007" size="100,100">The space between town and the shores of the lake was empty, save for a few hastily scrounged together buildings — fishing lodges and storage sheds, mostly. However, near docks, there was far more life and far more to see: boats and trawlers pressed against the wooden slats of the dock, silently rocking in the steel-gray water. Small buildings and houses had also been set up near the docks for the few semi-aquatic beavers, otters and weasels that lived near the water&#39;s edge.

&quot;There, I see a crowd.&quot; Summer pointed towards a dark mass of mammals gathered near one of the piers. I squinted. Unlike the corgi, I had no goggles, and so my eyes had gone teary and cold in the race over here.

Rubbing my eyes with a free hand, I swung the snowmobile down the hill, angled it between the houses, and pulled up on the outskirts of the crowd. June slid up next to us in her own rig a half-second later. 

&quot;Thought I saw you ahead of us?&quot; I asked, rising and stretching.

June undid her goggles. &quot;I was worried I had lost the two of you, so I held back a bit.&quot;

&quot;Cute,&quot; I replied. 

&quot;Don&#39;t get ahead of yourself. It is the doggie I am worried about; not you,&quot; June said with a smirk.

Summer wasn&#39;t paying attention. She moved with impressive speed towards the crowd, diving in, fording the river of mammals now funneling towards the docks.

The crowd was mostly reindeer, polar bears, wolves, foxes, moose, otters, and beavers, all dressed down in fishing gear. Summer split the crowd in two without having to say a word, her long &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt; dangling off of her like a second crimson tail.

Steeling myself, I dove into the crowd after Summer, earning some light resistance and a chorus of ‘fucking watch it!&#39;s. Behind me the crowd collapsed on any open space left, until June parted them again, stalking easily through the rows of mammals; a regular Norwegian Moses.

My eyes were on the corgi&#39;s orange, puffy thermal coat, &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt; and stiff tail, which acted like a rudder that steered her towards the commotion at the end of the pier.

I burst through the crowd at last, and found Summer standing alone, staring towards the end of the pier where a half-naked weasel — Jesse — had a beaver by the neck. Rivulets of blood ran between the weasel&#39;s dirty paws. It took only a few seconds of studying the least weasel for me to see the rivers of fresh beaver blood cascading down his wrists and spattering onto the wooden dock.

&quot;Oh good, the cavalry is here,&quot; Jesse snivelled.

[[Continue-&gt;To shoot or not to shoot 2]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="54" name="To shoot or not to shoot 2" tags="ship" position="231,3122" size="100,100">&quot;Christ, the leopard did not say that the predator had a hostage,&quot; June said aloud.

Summer, her attention focused purely on the shivering weasel at the end of the pier, slowly and carefully drew the flare gun out from her coat pocket. &quot;He must have grabbed him while we were on our way over here. Damnit,&quot; she hissed through her teeth. &quot;Nobody make any sudden movements. We need to talk him into letting the beaver go, first.&quot;

&quot;Talk? Do you see Jesse right now? How red his eyes are? He barely has any clothes on, and he looks as if he&#39;s been up for days. We have to take the shot,&quot; June replied in a whisper.

&quot;Let me try to talk to him first. I don&#39;t want anyone getting hurt if we can help it.&quot; Summer took a few bold steps forward onto the dock. The wood groaned beneath her boots. &quot;Jesse, are you listening to me?&quot; Summer&#39;s voice was dripping with concern, in the way that a parent might speak to a child.

Slowly, the weasel pulled himself backwards, eyes flicking between the three of us. &quot;Get back,&quot; he snarled. &quot;Get back. I have to do this. This buck-toothed cunt is working for James and Cale. They want my fucking pelt, is what they want! I swear, I&#39;ll claw his throat out, the little bastard!&quot; The weasel&#39;s collar blinked &lt;span id=&quot;collarZap&quot;&gt;red&lt;/span&gt; and gave the mammal a quick bite of electricity. Jesse briefly seized up with pain, but went back on the defensive within a heartbeat.

&quot;Jesus, I have no idea what he&#39;s talking about,&quot; the beaver yelled through his tears. &quot;I don&#39;t wanna die!&quot;

Summer&#39;s own collar had begun to blink &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt; as she approached the end of the docks. &quot;You don&#39;t want to hurt him, and you don&#39;t want to hurt us. You&#39;ve been through a lot, but we&#39;re here to help you. Does that make sense?&quot;

The weasel growled, his yellow fangs set against his disheveled white coat like thin, golden needles.

&quot;Now, if you let him go, we can take this up with James and Cale and put this whole thing to rest. I&#39;m sure it&#39;s not a problem we can&#39;t work out. Besides, you know we&#39;re your friends, right? Nobody here is trying to hurt you.&quot; She smiled brightly at Jesse. &quot;How&#39;s that for a plan?&quot;

Instead, the mammal at the end of the dock crept another few steps backwards. The beaver cried out in pain as the weasel&#39;s claws dug deeper into the tender flesh of his neck. &quot;I-I need to think. So just shut the fuck up for a second and stay the hell away from me. And- And- And put that GUN away.&quot;

&quot;This is just a flare gun,&quot; Summer said, voice dropping into a hush. &quot;I want to have it out to feel safe, because you&#39;re scaring people right now. You&#39;re scaring me. You don&#39;t want that, right?&quot;

The beaver instead cried out in pain as Jesse&#39;s needle-like claws dug a few precious centimeters deeper into his tough pelt.

Summer took another slight step forward. &quot;Please, just don&#39;t hurt the beaver. He hasn&#39;t done anything wro-&quot;

&quot;The fuck he hasn&#39;t!&quot; The weasel shrieked. &quot;He&#39;s been following me for three days trying to kill me. He&#39;s got a knife on him, and the minute I go to sleep he&#39;s going to gut me like a fish!&quot;

&quot;It&#39;s a fishing knife! I have no idea what the fuck he&#39;s talking about!&quot; The beaver tried reasoning, but was better off talking to a wall. Instead, Jesse edged backwards a bit more, boots playing at the edge of the dock. Another few centimeters back and they would both go plummeting off the edge and into the lake.

I drew the pistol out of my front pocket and pulled back on the hammer. The metallic snap of the revolver drew June&#39;s attention. The reindeer threw a glance over her shoulder at me and locked eyes. She nodded in affirmation.

&quot;You have to shoot him,&quot; she whispered. &quot;He is on enough shard to kill a mammal of his size, and that beaver will not last much longer in his grasp. Summer cannot talk him down, I&#39;ve seen this before. End this before he hurts someone.&quot;

I brough the pistol out in front of me, holding it with both hands, like I&#39;d seen in the movies. Jesse didn&#39;t seem to notice, but from this distance, I couldn&#39;t tell for sure. His facial features were so small already.

&quot;Quiet,&quot; I urged the reindeer. &quot;I need to think.&quot;

&lt;strong&gt;Two arctic foxes&lt;/strong&gt; had pushed their way to the front of the crowd, and were now standing directly behind me.

&quot;Well, whatever you&#39;re thinking, think quickly. You cannot reason with a rabid weasel, especially one who is on that much shard.&quot;

I could feel my muscles seize and tense up, swarming with lactic acid. I drew a heavy, ragged breath and allowed my fingers to stroke the trigger, as if the unconscious action could soothe my trembling nerves and steady my hands, could pull me out of me body and suspend me above the scene, an impassive spirit, waiting, watching, for sorrow to fire her poison arrow.

[[Shoot Jesse]]

Or

[[Fire a warning shot]]</tw-passagedata><tw-passagedata pid="55" name="Shoot Jesse" tags="ship" position="0,3306" size="100,100">The gun jumped in my grasp, its tip blossoming with orange light and a stroke of fire. I nearly dropped it off the dock and into the sloshing water below.

The slug hit Jesse right above his beady eyes, but not dead-center. It felt like seconds before the concussive report reached the weasel&#39;s ears. His face cracked open like a nut, spraying blood, fur and bone in a crimson arc against the gray skies. Jesse&#39;s body dropped like a sack of wrenches, releasing its manic grasp on the beaver, who stood shaking on the edge of the dock, baptized in blood not his own.

The gunshot rang out like a hammer clanging off in the distance. Somewhere, birds beat their wings into the sky, rising up from the surrounding forests like swarms of locust. And for a moment, nobody moved.

Until Summer turned around.

&quot;You shot him.&quot; Her expression was shock, at first, as if she didn&#39;t believe that Jesse was dead, or that half his face was cleaved off. That was all she said. &lt;em&gt;&quot;You shot him.&quot;&lt;/em&gt;

The matter-of-fact way that Summer put it made my mind scramble for a response. &quot;I- I- I did what I thought was right. He was going to hurt someone,&quot; I replied, feeling all at once exhausted, ashamed, and anxious. It&#39;s not often you end someone&#39;s life, and there&#39;s no prescription for how you&#39;re supposed to feel afterwards. I lowered the revolver and let it hang limp at my side. It felt noticeably heavier despite the spent round.

&quot;You shot him.&quot; Summer repeated. Her voice slumped into a whisper in tandem with her eyes, evasively finding the wooden planks. &quot;I can&#39;t believe...&quot; The corgi&#39;s tail folded between her trembling legs.

&quot;What did you want him to do?&quot; June said in one tremendous sigh. &quot;Is not like we had many options, right? The human made the right choice. You want to get hurt?&quot; She raised a finger toward&#39;s Jesse&#39;s body. &quot;That is how you get hurt. You try to talk a shard fiend down from his high.&quot;

&quot;I- &lt;em&gt;we&lt;/em&gt; could have talked to him... maybe gotten him to calm down a bit and let the beaver go. But now...&quot; She bit her bottom lip as she fought to swallow the lump in her throat. 

&quot;Fuck, it&#39;s not like you knew the guy, right?&quot; I said, gesturing towards the body at the end of the dock. &quot;I didn&#39;t want the pred to hurt the beaver. Or you.&quot;

&quot;Hurt me?&quot; Summer snapped back suddenly. &quot;I can handle myself. Last time I checked, you&#39;re still a godamned greenhorn. You don&#39;t have to look out for me, but I- I-&quot; Her collar winked an &lt;span id=&quot;collarZap&quot;&gt;angry red&lt;/span&gt; as she stammered out her last syllables.

That was when I heard a sound that would haunt me for the rest of his life.

[[Continue-&gt;Summer Shocked on Dock]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;gunshot&quot; volume 0.5 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="56" name="Fire a warning shot" tags="ship" position="203,3294" size="100,100">The gun jumped in my grasp, its tip blossoming with orange light and a stroke of fire. I nearly dropped it off the dock and into the sloshing water below.

The round sailed above Jesse&#39;s head, but just barely. If it had been an inch or two lower, the weasel would be missing a good chunk of his skull.

I stepped closer and took aim again, but Jesse had vanished… until he jumped up into my face, claws bared, collar shrieking with electric jolts.

&quot;You son of a bitch, you tried to kill me!&quot; Jesse screamed as he scrambled for my neck with frenzied swipes.

I fired again, but the short range and Jesse&#39;s schizophrenic movements sent the bullet flying wide, barely skirting past Summer&#39;s raised ears.

&quot;I&#39;m going to rip your filthy lungs out, human!&quot; Jesse&#39;s jaw dropped open and clamped around my neck. I instantly felt a hot jolt of adrenaline surge through me and course its way up to my now bloody and fragile neck.

I gripped the weasel by his undressed midsection and tried to push him off of me, but it was no use. The needle-like sting of Jesse&#39;s fangs punctured my skin and wrung a scream from me.

I probably would have died right then and there had June not stepped in and brought her wrench down hard on the back of the rabid weasel&#39;s skull. It was like flicking off a light switch. The minute that chromium tool connected, it made a terrific &lt;strong&gt;CLONK&lt;/strong&gt;, and that was the end of it. The weasel&#39;s body dropped onto my chest, limp and unconscious.

June&#39;s shadow eclipsed me. She lorded over me like she&#39;d just toppled a giant, as a smug smile warmed her face. &quot;You should have not picked pistol. Wrench is superior weapon.&quot;

[[Continue-&gt;June Saves Hunter From Weasel]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;gunshot&quot; volume 0.8 play&gt;&gt;
&lt;&lt;timed 12s&gt;&gt;&lt;&lt;audio &quot;collarZap&quot; volume 0.5 play&gt;&gt;&lt;&lt;/timed&gt;&gt;
&lt;&lt;timed 19s&gt;&gt;&lt;&lt;audio &quot;gunshot&quot; volume 0.8 play&gt;&gt;&lt;&lt;/timed&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="57" name="Let Summer talk" tags="" position="1921,2971" size="100,100">Summer took another cautious step forward. &quot;Easy now. Easy. We don&#39;t want to hurt anyone.&quot;

&quot;Easy for you to say, you don&#39;t have $700 worth of debt on your head. That&#39;s what &lt;strong&gt;this&lt;/strong&gt; pieceof shit was trying to do -- stick me in the guts for not paying Cale and James back.&quot; He shook the beaver as if to emphasize his crime. 

&quot;You&#39;re a fucking loon, man. I&#39;m not working with them, honest,&quot; the beaver said.

&quot;Then what&#39;s with the knife?!&quot; The weasel snarled back.

&quot;It&#39;s a fishing knife, you know that. Christ we work the same docks together.&quot;

&quot;I don&#39;t believe you, and I don&#39;t trust no fuckin&#39; rangers either.&quot; The weasel stepped closer to the edgeof the dock.

&quot;Come on human, take the shot,&quot; June hissed under her breath. &quot;You want to have innocent blood on your hands?&quot;

He briefly considered it.

&quot;Listen,&quot; Summer stepped forward. She held her arm up in the air. &quot;I think I have a compromise you might like.&quot;

[[Continue-&gt;The Compromise]]</tw-passagedata><tw-passagedata pid="58" name="Summer Shocked on Dock" tags="ship" position="1,3460" size="100,100">A tight band of electricity arced around summer&#39;s neck. It was only for a second — maybe even less than that — but it was enough to kneecap the corgi. Her hands jumped to her throat out of instinct, but upon realizing — maybe through conditioning — that the effort was futile, she let her arms hang limp at her side.

Her &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; unclenched, and the first thing they found was me, standing there, useless and slack.

&quot;I&#39;m sorry,&quot; Summer said. Her collar blinked back to &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt;. June joined the corgi at her side in a sprint.

&quot;Easy girl, easy.&quot; June hooked an arm under the corgi&#39;s shoulder. &quot;That one looked like it hurt.&quot;

&quot;It was just a small pinch is all. It doesn&#39;t hurt as bad as it probably looked,&quot; she said, wincing as June tried pulling her to her feet. Summer waved off the help. &quot;Besides, I probably deserved it. I was getting a little hot under the collar there.&quot;

&quot;The hell you were!&quot; someone from the crowd shouted. &quot;It was the human who shot Jesse, not you!&quot;

Summer rose to her two stout feet with a slight limp and waved off the heckler. &quot;All of you, go home now. There was no reason for any of you to be here in the first place. Show&#39;s over. This is ranger business now.&quot;

June stood at the corgi&#39;s side, her voice booming. &lt;strong&gt;&quot;YOU HEAR THE GIRL, ALL OF YOU MUST FUCK OFF NOW!&quot;&lt;/strong&gt;

&quot;I- I just did what I thought was right,&quot; I stammered at the corgi. I swallowed hard, like I understood what I was saying. &quot;I&#39;d never forgive myself if the pred hurt anyone else.&quot;

&quot;What&#39;s done is done,&quot; Summer said, wrapping her &lt;span id=&quot;scarfColor&quot;&gt;scarf &lt;/span&gt;back around her neck, burying her collar underneath the red fabric.

Divided and talking amongst themselves, the crowd dispersed. The beaver stood alone on the dock, still shivering, looking for chunks of Jesse&#39;s skull still clinging to him.

&quot;Are you alright, dear?&quot; Summer said, stepping over Jesse&#39;s body and dabbing the frayed end of her scarf on the beaver&#39;s still bleeding neck.

The beaver recoiled at her mothering touch. &quot;Doing better now that I&#39;m safe,&quot; he said. &quot;I can take care of my own wounds, pred. Please don&#39;t touch me.&quot;

Summer dropped her hands to her side with a look of shame. &lt;em&gt;Pred.&lt;/em&gt;&quot;S-Sorry, I didn&#39;t mean to-&quot;

&quot;No, no, it&#39;s alright.&quot; The beaver flattened his body as he snuck past the corgi who stood alone at the end of the dock like a sad, hurt statue. &quot;I was out of line. My mind is a bit fried right now, is all. Nearly having your throat ripped out will do that to you, right?&quot; He capped off their interaction with a nervous chuckle, but kept moving backwards until he had made it safely past me.

The beaver turned to face me. I was in the process of pocketing the revolver that had just saved his life.

&quot;You know, human, Jesse was my friend. We all but grew up together,&quot; Jesse said.

&lt;em&gt;Fuck.&lt;/em&gt;

I was never the diplomatic type. I fumbled for justification again, but the beaver beat me to the punch and just shook his head. 

&quot;That is, &lt;em&gt;was&lt;/em&gt; my friend. After he got addicted to shard, it was like... it was like I barely knew him anymore. He just up and stopped talking to me, worked more hours on the ice, made new friends. Last I heard he hadn&#39;t slept in days so he could herd fish and make ends meet.&quot;

June spat on the ground. &quot;I have heard this many times before. Pay becomes less, and hours become more demanding, so the only alternative is to become a fiend or homeless. Or their wills become weak. Or they are running from something that they cannot outpace.&quot;

The beaver took one last look over his shoulder at Jesse. At Summer. At the gray lake sloshing up on the sides of the dock, now diluted and red from a stream of blood trickling out of Jesse&#39;s shattered skull.

&quot;Thank you, anyway,&quot; he whispered, only to me, and walked on back into the throng of rapidly dispersing mammals.

I nodded, and then turned to Summer, who was watching with the burden of hope shrugging off her shoulders.

Her voice entered my head. 

&lt;em&gt;I&#39;m sorry.&lt;/em&gt;

[[Continue-&gt;Hunter shot Jesse next scene]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;dogYelp&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;collarZap&quot; volume 0.5 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="59" name="Hunter shot Jesse next scene" tags="ship" position="0,3588" size="100,100">Summer&#39;s &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; met with my own. I saw something there, beyond the hurt and the submission, like lightning striking a dry prairie. Now all that was left was the consuming brushfire. Then, whatever I had seen was gone in a flash. She nodded, and I dimly nodded back, unsure of myself or the status of my relationship with Summer.

The corgi walked past me and June without a word, and made for the snowmobiles.

&lt;hr&gt;

&quot;And you&#39;re sure you&#39;re okay to be on your own right now?&quot; June said asked. Her body was slack, posture relaxed, tone more puzzled than furious. 

Summer had just finished pulling her goggles down over her &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; when she turned her neck to face June and I. Beneath her, June&#39;s snowmobile shuddered to life. &quot;I&#39;m totally fine. I need to make some stops anyway — don&#39;t want to drag you along with me. Come to the station in an hour?&quot;

&quot;An hour?&quot; June raised an eyebrow. &quot;Where are you going for an hour after the human just shot someone?&quot;

&quot;I told you, I&#39;ve got some errands to run that are mostly related to the beaver and Jesse.&quot; Summer threw her stubby legs over the rig. She pointed her head forward. &quot;Just catch a ride with Hunter back over.&quot;

June started forward. &quot;But that&#39;s my rig-&quot;

&quot;ALRIGHT BYE!&quot; Summer called, before gunning up the hill, back towards North Station.

We watched the little corgi power up the hill, like a tiny yellow-orange comet, and said nothing to each other for a bit, until the wind really kicked up. Clouds had swarmed in overhead, dark gray, blotting out the already weak sunlight.

&quot;It&#39;s going to get cold soon,&quot; I said. Realizing how stupid that had sounded, I added, &quot;I mean, colder than it already is.&quot; Whatever I was doing, it wasn&#39;t helping.

June, who was still wearing a fitted flannel and tight work shorts, ignored my idle chatter about the weather. For the most part, of course. The minute that Summer was over the hill and out of sight, the statuesque doe came back to life with a deep sigh. 

&quot;God damnit, this again,&quot; She rumbled, turning her body to face me. &quot;I need to use your rig.&quot;

&quot;Hell no.&quot; I steeled himself for a fight over my keys. She was nearly my size, though a good deal thinner. It was the horns that gave me mortal pause.

&quot;Fine, then come with me,&quot; the doe said impatiently. &quot;But do not keep me waiting any longer.&quot;

&quot;Come with you? You want me to tag along?&quot; I said. I had expected a verbal thrashing, not an olive branch.

&quot;I just... I need...&quot; She let her words trail off. The doe forced her eyes away from my own confused stare. &quot;God damnit don&#39;t make me say it. I&#39;m concerned for Summer and I need...&quot;

&quot;Say it.&quot; I smirked, the realization now dawning on me that I held a minor, petty advantage over her.

&quot;Fuck you.&quot;

&quot;If you want my keys you can just apolo-&quot;

&quot;I need your help, okay?&quot; Her face was screwed up in a frustrated, awkward scowl, glowing red. &quot;Are you happy now? I am sorry for mistreating you.&quot;

&quot;Yes, I&#39;m quite satisfied. But I&#39;m not just going to give you my keys.&quot;

The doe&#39;s body relaxed, the tightness in her posture melting down to her hooves. &quot;Good. I want you to come with me. I am not so good with these types of things, and I am thinking what comes next is needing a more delicate touch than mine.&quot;

&quot;You know me,&quot; I said, waving the pistol plainly in the air. &quot;Mister delicate touch over here. But sure, I&#39;ll help. I figure I&#39;m going to need to be on good terms with Summer, anyway.&quot;

&quot;This is not about your work or the terms you are on with her, ape. This is about her safety.&quot;

&quot;Wait, you don&#39;t think she&#39;s a danger to herself right now, do you?&quot; I asked, a small skip in my heart urging the words from my mouth. I threw my head to the side and scanned for Summer&#39;s orange coat up on the hill, finding nothing but mammals returning home, looking like black specs against the white canvas hills.

&lt;em&gt;She really tore off.&lt;/em&gt;

&quot;I don&#39;t think so. Summer is too smart, too sturdy. But I need to find something out,&quot; June said, now holding out her waiting palm. &quot;Let me drive this time.&quot;

&quot;You can guide me there,&quot; I said, stalking past the anthro, moving swiftly towards my rig.

[[Continue-&gt;Investigating Summer]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; volume 0.6 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="60" name="June Saves Hunter From Weasel" tags="ship" position="202,3448" size="100,100">June was all smiles back at the station, doubled over on herself and belching out thick gales of satisfied laughter. We were in Summer&#39;s office again, that small room with the fireplace, desk and couch, and a million filing cabinets. Summer hopped on her ancient computer and began hacking away, entering what she called an ‘incident report.&#39;

June was sitting on the couch near Summer, busting a literal and metaphorical gut, explaining, in detail, the look on my face.

&quot;You do not &lt;em&gt;understand&lt;/em&gt;, human, the way he dropped on top of you. POW!&quot; June threw her arms up in the air. &quot;Like a sack of dead fish! LIGHTS OUT!&quot;

&quot;I had the situation under control,&quot; I responded, wearing an annoyed scowl. &quot;The pred was fucking dead the minute I got my hands on him.&quot;

&quot;I&#39;m sure he was, mister big, strong human. You are lucky you had me standing around-&quot;

&quot;Doing nothing, I might add,&quot; I cut in. &quot;You were just in the right place at the right time, nothing more to it than that. I could have done the same.&quot;

&quot;Oh?&quot; June raised an eyebrow. &quot;I would have thought that an aspiring ranger like you would understand the value of an excellent opportunity.&quot;

I opened my mouth to call her a flat tooth, but was cut off by a matter-of-fact response from Summer.

&quot;You mean &lt;em&gt;ranger&lt;/em&gt;. Not ‘aspiring ranger.&#39; Just &lt;em&gt;ranger&lt;/em&gt;.&quot; She flashed me a big, toothy smile, her tongue poking out from behind the porcelain cage of her teeth.

&quot;Wait.&quot; I paused. &quot;So that&#39;s it?&quot;

&quot;That&#39;s it. You&#39;re official now,&quot; Summer bubbled. She hopped off her chair and landed with a solid thump onto the wooden floors. &quot;Besides, there&#39;s no actual process, anyway. Anyone can call themselves a ranger if they want. Now, you need a &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt;.&quot;

The corgi dashed out of her office, her heavy feet pounding off the wooden floors.

On the other side of the room, still sitting in a pile of dirty blankets, her legs pressed close against her chest, June flashed a sullen look. &quot;Don&#39;t get too cocky. They hand those scarves out like they are candy. Just like the doggy says: anyone can call themselves a ranger.&quot;

And yet, there was a slight, shaking excitement to her voice, barely audible, like a distant earthquake shaking a glass of water. Maybe it was the adrenaline still working its way through her body?

&quot;You just don&#39;t like me, do you?&quot; I said with a tired sigh.

The reindeer drew her snout between her knees. &quot;I don&#39;t care for you much, no,&quot; she said, her words drowned in a muffle. To me, she looked and sounded like a pouting child. Nothing more than a fawn who didn&#39;t get her way.

&quot;If you don&#39;t care for me &lt;em&gt;that much&lt;/em&gt;, then why did you save me?&quot;

June didn&#39;t reply.

I pulled the office door shut. June gave me a sideways glance, but when our eyes met, it was like flint striking steel; bright sparks of anger, dangerous in a wooden building. She leaned back against the couch with a frustrated sigh. I whipped Summer&#39;s office chair around and planted myself in it, locking eyes with the doe.

&quot;Can you do me a favor?&quot; I said.

&quot;I&#39;ll do anything but that.&quot;

&quot;Cute. But listen to me.&quot;

The doe tightened her body up. &quot;I&#39;m listening.&quot;

&quot;Just tell me why you don&#39;t like me. Hell, I&#39;d even settle for why you don&#39;t like humans. I&#39;m nothing special.&quot;

[[Continue-&gt;Why I don&#39;t like humans]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="61" name="The Compromise" tags="" position="1955,3085" size="100,100">&quot;What are you talking about?&quot;

Summer kept her arm raised in the air. &quot;You think that your friend there has a knife on him, right? And that he wants to kill you?&quot;

&quot;I know he&#39;s got a knife! Why do you keep asking me that!?&quot;

&quot;Let&#39;s make a deal: you let him go and-&quot;

Jesse tightened his hold on the beaver, anger spiking his blood pressure. &quot;The minute I let him go, he&#39;s going to knife me. You want that, mutt?&quot;

&quot;-you let him go, and if he tries anything, my friend over there will shoot him dead.&quot; She motioned towards Hunter, who was now sighting down his pistol at the beaver.

Jesse stiffened his posture, fevered eyes scanning Hunter up and down. &quot;Your human friend there... is he a good shot?&quot; The weasel said.

&quot;I don&#39;t know, I might miss and hit you instead,&quot; Hunter said calmly.

&quot;...And you promise, right?&quot; Jesse said, his grip slackening.

Summer nodded and then smiled. &quot;Nobody has to get hurt today if you don&#39;t want them too. It&#39;s all in your hands.&quot;

[[Continue-&gt;The Compromise II]]</tw-passagedata><tw-passagedata pid="62" name="The Compromise II" tags="" position="1948,3221" size="100,100">Jesse let his grasp on the beaver weaken. 

&quot;I want you to step forward, slowly, to me.&quot; Summer said, addressing the near-frantic beaver. &quot;I&#39;m going to clear you of weapons.&quot;

Shaking and wide-eyed, the beaver stepped forward onto the creaking dock and into the arms Summer. She ran her paws around the beaver, first starting with his wet coat, checking every pocket, and then working her way down.

She jerked her head towards Hunter. &quot;Don&#39;t be afraid to get closer. If he tries to run, kill him.&quot; She added with a coy wink. The beaver stiffened up. He looked to Hunter, eyes silent and pleading. 

Hunter took a short few steps forward, never dropping his aim. Jesse waited impatiently at the end of the dock, sniveling and rusting over with psychosis.

&quot;He&#39;s clear.&quot; Summer took a step back. Her collar blinked back to &lt;span id=&quot;collarGood&quot;&gt;green&lt;/span&gt;, which she covered up with her knotted scarf. She smiled at the beaver, who was still shivering and shaking out the adrenaline. &quot;You can go now. Thanks for cooperating.&quot;

The beaver took Summer&#39;s permission as his chance to shuffle off into the assembled crowd.

&quot;He&#39;s clear? No knife? No gun? Not even a razor?&quot; Jesse&#39;s eyes snapped between Hunter and Summer. &quot;You&#39;re not lying to me, right?&quot;

Summer shook her head. &quot;Nope. Not even a pack of smokes.&quot;

A violent wind whipped across the lake, throwing gray water onto the dock, splashing Jesse&#39;s boots. For a moment he was silent as a similar hush descended upon the crowd. Summer&#39;s tail softly fanned back and forth while Hunter and June looked on in awe.

&quot;Come on, I think it&#39;s time you went home and ate something. You look hungry. How&#39;s that for a plan?&quot; The stout corgi said with a cheerful smile.

The crowd split in two as Jesse slowly plodded on home, eyes wide with shock and madness. Whispers went up, but he seemed to pay them no mind.

Summer paced back to Hunter and June. She gathered herself up, took a deep breath, and turned to Hunter. &quot;You did good today, Hunter. I&#39;m glad we didn&#39;t have to hurt anybody.&quot;

&quot;Human,&quot; June began, casting a look out towards the endless expanse of the lake, which was usually choked with floating trawlers, modified rigs and boats. Another gust of wind animated the water and churned up slate-gray waves. She then turned to Hunter, all fading daylight drawn up into her &lt;span id=&quot;juneEyes&quot;&gt;eyes&lt;/span&gt;. She set her jaw in a hard, serious line. &quot;Would you have done it? Would you have shot the beaver?&quot;

He hesitated for a second, locking eyes with June. In that moment, it was as if the world had gone quiet, all sensory data cascading down into the bottom of the lake in great neurochemical waterfalls. They spoke in silence and looks. At last Hunter answered.

&quot;Yes, if I had to, I would have shot him.&quot;

She nodded. &quot;And the weasel too? Would you have killed Jesse?&quot;

&quot;I- I don&#39;t know. If he attacked someone-&quot;

&quot;Are you prepared to take a life?&quot; She snapped. &quot;Because ranger work is not just herding fish, or driving cattle. It is guarding your keep. It is killing for peace. It is doing right for this town, however that may look. If you can say you are not ready for these things, you are not ready to wear the &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt;.&quot;

Hunter held out his pistol to Summer, who took it, unloaded it, and then pocketed it.

&quot;I know you don&#39;t like me, but I want you to know: I&#39;m prepared to do what it takes.&quot;

Not yet satisfied, June scanned him over. &quot;This town is our life, you know?&quot; She wrapped an arm around Summer, who leaned in close to June. &quot;We have not many resources except trust, and that is a precious resource.&quot;

[[Continue-&gt;The Compromise Continued]]</tw-passagedata><tw-passagedata pid="63" name="The Compromise Continued" tags="incomplete" position="1947,3371" size="100,100">&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;

JUNE DEMANDS THEY GO TALK TO JAMES</tw-passagedata><tw-passagedata pid="64" name="Why I don&#39;t like humans" tags="ship" position="216,3602" size="100,100">&quot;That&#39;s just it,&quot; June began. Her face twisted up with anger, as if she&#39;d eaten something bitter and choked on it. &quot;You say you are nothing special, but you act like you are invincible. You take the gun and not the flare gun from Summer, fine. But your petty pride won&#39;t even let you thank me for saving your life?&quot;

I cocked my head. &quot;Is that what this is about? That I didn&#39;t thank you?&quot;

&quot;NO, YOU STUPID HAIRLESS BASTARD!&quot; June was standing now, brought to her feet in an explosion of anger. The doe&#39;s eyes went wide.

&quot;Even the minute you arrive here, you have no respect for order. You are saying ‘Oh I am a ranger, I am tough, I am strong.&#39; But you are not. You are arrogant, just like the rest of your breed. It is only a matter of time, yes?&quot;

&quot;A matter of time until what?&quot; My heart was beating faster than I thought it could. She was just a simple doe. Angry, sure. She had none of the stature of a stag, but all the ferocity, and that&#39;s what worried me. My heart caught when she opened her mouth again after a few moments of ragged breathing.

&quot;A matter of time until you destroy this town, just as James has attempted to do.&quot;

&quot;Destroy the town?&quot; My words came out in a weak mumble, as if I couldn&#39;t believe what I was hearing. I really, really couldn&#39;t. She&#39;d lost her goddamned mind, and I&#39;d had enough of it.

&quot;Yes, that is what I say to you, is what you are meant to do. You must act according to instinct. Just as I must. Is why Summer likes you so much.&quot;

&quot;Instinct? What the hell do you think my instincts even are?&quot;

&quot;Summer is a dog, of course she instantly likes humans,&quot; the doe said through clenched teeth. &quot;You are taking advantage of her.&quot;

&quot;I am absolutely not taking advantage of her. And besides, what do you want me to do about her friendliness, anyway? You said that all creatures have to act according to instinct!&quot; I exclaimed. &quot;I can&#39;t help that her semi-retarded biology has conditioned her to be overly friendly with humans.&quot;

&quot;You take advantage of her kindness. You are like all humans — opportunistic thieves, wolves, and whores. That doggy is more fragile than you think she is.&quot;

&quot;Fuck off, you don&#39;t know what you&#39;re talking about. She seems tough as nails.&quot;

The doe let out a low, sniding chuckle, rife with hate. &quot;What you don&#39;t know about her is-&quot;

Right then the door opened with an archaic squeak. Summer, bereft of her poofy coat, wearing a simple brown woolen sweater, snow pants, and boots, trotted in with a spare &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt; in her hands. The corgi paused in the middle of the small room, placing herself between June and I either intentionally or unintentionally. Though she was small, she felt larger than either myself or June, in the way a shadow grows tall with the death of a day, and smothers everything it touches in darkness. Only for Summer, it&#39;s sunlight.

&quot;This is for you!&quot; She exclaimed happily, thrusting out the scarf towards me.

&lt;em&gt;There&#39;s no way she didn&#39;t hear all of that.&lt;/em&gt;

I didn&#39;t know what to do with my hands. I felt a great rush of blood to my cheeks. 

&lt;em&gt;Semi-retarded biology.&lt;/em&gt;

&quot;Take your scarf,&quot; June snarled as she made for the door. &quot;You earned it, ‘ranger.&#39;&quot;

The sound of the door slamming was enough to make Summer wince in pain. It also rocked some books off the shelves above Summer&#39;s computer.

Still holding the scarf out to me, she turned from the door, looked up to me, and said, &quot;What the heck was that all about?&quot;

I shook my head in two quick snaps, throwing off the shock of June&#39;s explosive outburst. &quot;Just June being... herself,&quot; I said. I reached out and gently lifted the scarf from Summer&#39;s hands. &quot;Thank you.&quot;

Her tail fanned happily. &quot;Glad I had a few lying around still!&quot;

As if it was as fragile as glass, I held the scarf out in front of me, balancing it on my two palms. I held it there for a bit, just examining it.

&quot;Aren&#39;t you going to try it on?&quot; Summer smiled up at me. She seemed overly proud of having just found a red scarf around the station.

I nodded with uncertainty. Something about the act felt... wrong.

I wrapped it around my neck, slowly, feeling the soft crimson fabric brush against my skin. It didn&#39;t make me feel any warmer.

The sound of Summer&#39;s paws clapping together was louder than gunshots. &quot;Gah, it looks so nice on you — especially against your coat!&quot;

Summer. The warm little center of this town. A mammal worthy of her name. I smiled in response and meant it, until that voice in my head came roaring back to me, like the push and pull of the tides, eventually swelling into a cresting wave. It was June&#39;s voice: 

&lt;em&gt;&quot;You earned it.&quot;&lt;/em&gt;

[[Continue-&gt;Find June in here garage after the night]]</tw-passagedata><tw-passagedata pid="65" name="Investigating Summer" tags="ship" position="29,3715" size="100,100">I wasn&#39;t used to the feeling of June&#39;s delicate, oil-stained hands around my waist as we rumbled up the hill. And I especially wasn&#39;t used to the pressure of her sizeable breasts pressed into my back.

Neither was June, and she made no secret of it.

&quot;You&#39;re picking the bumpiest path on purpose, aren&#39;t you?&quot; she shouted, above the roar of the snowmobile&#39;s engine.

&quot;You haven&#39;t given me any directions yet, I&#39;m just gunning it back into town,&quot; I replied. I pulled back on the throttle and tore across the tundra, blurring past lines of mammals on their way back to North Station from the lake.

June pressed her body harder against me and hunched low, digging her chin into my back. &quot;Enjoy this while you can, you freak.&quot;

I slouched forward, thankful that June couldn&#39;t see my bulging eyes, face scoured red, panic-stricken and quickly losing focus on my chosen route. The pressure from her chest and the disdain I held for her were vying for control of my brain.

After a few minutes of quiet travel, I spoke up. &quot;Some directions would be nice, at least.&quot; I had slowed the rig down to a modest clip by this point.

She never answered. June was humming something, maybe an old song that she knew from childhood. It sounded… whimsical. At peace. Maybe she hadn&#39;t heard me over the thrum of the engine, maybe she was ignoring me. I tossed a quick glance over my shoulder and found the doe with her eyes shut, a soft smile spread across her face, turning up the corners of her lips. Her deep vibrato hum seemed to drown out the engine, and for a second, that&#39;s all I could think about: June and the snowmobile humming in the same key, as if they were two parts of a single, living organism, vibrating at the same frequency.

[[Wake her up]]

Or

[[Continue on to town]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; volume 0.7 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="66" name="Wake her up" tags="ship" position="0,3871" size="100,100">I threw a sharp elbow back behind me, catching June right in the gut. I felt her jolt awake, as if ran through with a current.

&quot;Ouch!&quot; June squeaked, releasing her hold around my waist.

&quot;Oh good,&quot; I said, turning my head forward. &quot;Guess that woke you up.&quot;

&quot;I was not sleeping, you asshole. I was thinking.&quot;

&quot;About sleeping,&quot; I said, pulling back on the throttle a bit, ambling the rig back up to its original pace. I could see the shape of the town — a dark outline against darkening skies — come into view. Little lights burned hard against the encroaching night in windows, stubborn, rebellious against the icy darkness. Dusk was coming, and it was coming quick.

&quot;Do you know where my garage is from here?&quot; June asked, leaning her chin over my shoulder. &quot;We should be close.&quot;

&quot;I don&#39;t think so, at least not in the darkness,&quot; I responded.

&quot;Ah, that&#39;s right. Human eyes are so weak in the night. You may as well be blind. How did your species ever climb out from the mud?&quot;

I sighed. &quot;Don&#39;t be a bitch right now, okay? Just tell me where to go. It&#39;s cold as hell out here, and I&#39;m getting worried about Summer.&quot;

&quot;Me too,&quot; June said, her voice heavy as water, yet soft, as if dusted with snow.

It caught me off guard, so I set my eyes on the small, approaching lights in the darkness, and pulled back on the throttle while June gave me directions.

[[Continue -&gt;Hunt for Summer at the station]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="67" name="Continue on to town" tags="ship" position="123,3844" size="100,100">I figured I&#39;d let her hum a bit. After all, what&#39;s the harm in that? And besides, it was soothing to hear her so at peace for once. I enjoyed having the weight of someone against me, even if I hated that someone. She was a right royal bitch to be sure, but she was right earlier today — killing Jesse was the right move, no question about it. What we both didn&#39;t account for was Summer&#39;s reaction. Or overreaction, maybe. It was hard to piece together which. 

&lt;em&gt;Maybe she shouldn&#39;t be a ranger if she&#39;s trying to save everyone?&lt;/em&gt; I thought as I pulled further back on the throttle. Then I thought of what Summer had said to me shortly after getting shocked.

&lt;em&gt;I&#39;m sorry.&lt;/em&gt;

I pushed that memory down and promised to drown it with something warm and alcoholic the next time I got the chance. I needed to get back into town, anyway. Dusk was coming quick, frosting everything over in a blue-black glow. Ahead of me I could see the dark outline of North Station come into view, all its lights stubbornly burning against the darkness. Little flames burned in windows, and from this distance, it was like they were waving at me.

&quot;Sorry,&quot; June said in a daze, abruptly cutting her humming. &quot;I think I zoned out there for a second.&quot;

&quot;No kidding,&quot; I called over my shoulder, just loud enough to be heard over the engine&#39;s whine. &quot;You never answered me.&quot;

&quot;About what, have I never answered you?&quot;

&quot;Where the hell we&#39;re going?&quot; I replied. &quot;It&#39;s getting dark-&quot;

&quot;Bah, a little cold never killed anyone,&quot; June replied. &quot;Don&#39;t be such a softy. I&#39;ll tell you where to go.&quot; As if to test the my rigidity, she squeezed me hard, like she was trying to choke the air out of my midsection.

[[Continue -&gt;Hunt for Summer at the station]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="68" name="In June&#39;s Garage | Hunt For Summer" tags="new-content-flag ship" position="198,4325" size="100,100">&quot;I swear to God little doggie, it better still be here,&quot; June said, ass in the air as she rummaged through her own desk, throwing work orders and papers to the side and onto the floor. 

&quot;Where&#39;s what?&quot; I asked, flicking on the light switch. June didn&#39;t seem to notice.

We were in June&#39;s garage, or, more appropriately, her &quot;office&quot; if you could call it that. It was a simple room attached to the garage itself, hosting a desk, a couch, and a blacked-out window or two, and not much else. The only thing office-like about the place was the desk which reminded me of Summer&#39;s own: burdened with papers, parts, coffee mugs and dust. The room smelled of bitter cigarettes and stale coffee, a stench that burnt my nose. If I had to guess, the Doe was probably used to it.

&quot;A key,&quot; June breathed, now straightening her spine. &quot;I&#39;m looking for a key. Human, you are helping me look. You are being pressed into services now.&quot;

&quot;What&#39;s it for?&quot; I asked, ambling into the room and glancing about. The place looked like a disaster — everything had a fine sheen of dust, and what wasn&#39;t frosted over with dust and cold was covered in loose papers.

&quot;Not for you to know, that&#39;s what it&#39;s for,&quot; June replied in a quick breath, dropping onto her exposed knees and rummaging through a file cabinet.

&quot;This better somehow involve Summer somehow. I don&#39;t see why a key is so important, especially if you won&#39;t tell me what it does.&quot;

&quot;Of course it involves Summer,&quot; June hissed. &quot;I am not wanting her to know I am concerned for her safety again. After we find the key, we check around North Station, and if she is not in town-&quot;

I cut her off. &quot;What do you mean ‘if she is not in town&#39;? Where the hell else could she be?&quot;

The doe&#39;s voice became feeble — practically a whisper, even. &quot;I don&#39;t know where she might have gone.&quot; June rose to her two feet, holding above her a &lt;strong&gt;glinting metal key&lt;/strong&gt;, pinching it between her thumb and forefinger. &quot;Little doggie…&quot; she said under her breath. &quot;Why did you not take this from me?&quot;

&quot;June.&quot; The doe turned to face me. &quot;What does that key open?&quot; I said.

The reindeer locked eyes with me. She furrowed her brow and set her mouth into a hard, determined line. &quot;I will explains later. Come, we need to find her. And bring the gun.&quot;

[[Continue-&gt;Hunt For Summer Menu]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked new story content!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;rummaging&quot; volume 0.2 play&gt;&gt;
&lt;&lt;set $playerFoundSummerKey to true&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="69" name="Find June in here garage after the night" tags="ship" position="230,3734" size="100,100">Summer was jubilant. &quot;You look great, Hunter! Ahh, the &lt;span id=

&quot;scarfColor&quot;&gt;red&lt;/span&gt; looks so good against your peacoat. A true ranger now. You definitely earned it today.&quot;

I winced, but forced on a thankful smile. &quot;Well, I did what I could to help, at least.&quot;

&quot;Yeah, I&#39;m just glad nobody got seriously hurt,&quot; she said, tongue now lopping out of her mouth. Her eyes squeezed shut as she smiled. &quot;You showed serious trigger discipline. That&#39;s not something a lot of rangers have, especially new fish. If it were June behind the gun, she would have killed Jesse before we even got there.&quot;

&quot;It doesn&#39;t make sense,&quot; I said, abruptly.

The corgi cocked her head. &quot;What doesn&#39;t make sense?&quot;

&quot;How can a person like you can be such good friends with someone like June? She&#39;s such a human-hating bitch! And you? You&#39;re like a concentrated bundle of sunshine. Daylight. Birds over the beach.&quot;

&quot;C&#39;mon, she&#39;s not so bad!&quot; Summer said, tail wagging happily. &quot;I mean, yeah, she can be a little rough around the edges, but that&#39;s just who she is, you know? We were friends practically from the minute we met!&quot;

Somehow that didn&#39;t surprise me — she was friends with basically everyone. &quot;The very first time I met her, she tried to kill me,&quot; I reminded her. &quot;With a wrench.&quot;

&quot;Yeah,&quot; Summer said absentmindedly, maneuvering around her cramped office towards her coffee machine. &quot;She did the same thing to James, only she didn&#39;t miss. Knocked his lights out and then refused to help me drag him back to the station. You get used to it.&quot;

&quot;The first time she met him?&quot;

&quot;Oh! No, they had known each other for a while before all of this. And then it was like she just snapped overnight. Or he snapped — I don&#39;t remember which. This was a long time ago.&quot;

&quot;What the hell is her problem with that guy, anyway?&quot;

The corgi was pouring herself a cup of coffee, and though her ears twitched in my direction, like sonars picking up on their target. She did not immediately speak. She drove all of her focus into pouring that coffee into an oversized red mug, perhaps hoping that I would forget that he had asked.

I cleared my throat impatiently.

&quot;Oh, you know… they have a history,&quot; Summer whispered. She took a huge gulp of coffee, and right as I was about to ask about the history between June and James, the door to Summer&#39;s office flew open.

June stood in the doorway, her eyes bright with fury. &quot;Little doggie!&quot;

Summer leaned forward intently in her chair and slammed her mug of coffee down onto a stack of papers. &quot;What?&quot; her eyes bulged.

[[&quot;Come with me. Something has happened.&quot;]]</tw-passagedata><tw-passagedata pid="70" name="Hunt for Summer at the station" tags="ship" position="74,3949" size="100,100">&quot;What the fuck is this?&quot; June said, trying the knob again, finding the ranger station locked. Dusk had come and gone, and it was now night. The boulevard was damn near empty, save for a few hooded mammals ambling back to their lodgings, fighting against the frosted wind.

I looked up, trying to pierce the veil of dark clouds overhead, hoping I could see pinholes of starlight. &quot;You&#39;d have thought that if she wanted us to come by in an hour, she wouldn&#39;t have locked up and gone to bed,&quot; I said absently, with my hands buried in my pockets.

June&#39;s body went slack as she leaned her back against the door. &quot;This is because she was not expecting to be gone this long.&quot;

I tilted my head down at June. &quot;So she got tied up on some errand. No big deal.&quot;

&quot;You really are dense, aren&#39;t you, human? Are the females of your breed like this too?&quot; She sounded worn, deflated. She couldn&#39;t bother to take her eyes off the ground. &quot;I am saying this because she might be in danger.&quot;

&quot;What makes you think that?&quot;

Without a word, the doe looked up at me, her &lt;span id=&quot;juneEyes&quot;&gt;eyes&lt;/span&gt;, Scandinavian blue and so, so tired. &quot;Can you keep a secret?&quot;

&quot;Depends on the type of secret. I&#39;ve been known to keep a few myself. The only question is, who am I keeping it from?&quot;

&quot;From everyone in this town. Even from Summer.&quot;

I nodded, still unsure. I&#39;d never seen this doe so… vulnerable before. So downtrodden.

June gathered herself up with a deep, sighing breath, letting her muscles slacken against the frosted doorway. &quot;I am breaking my promise to myself, and I am breaking my promise to my friend. Summer is… not well. She is a strong, strong woman, and we are all flawed, but she is fighting her demons.&quot;

&lt;&lt;if $playerSpeaksToTress is true&gt;&gt;

My heart skipped, and I thought back to earlier today with James and Cale, and what Tress had said about frost honey. Summer… was she?&quot;

&lt;&lt;endif&gt;&gt;

&quot;Summer&#39;s demon is &lt;&lt;hovertip &quot;‘Frost honey&#39; is a slang term for a highly addictive, naturally occurring opiate that can be harvested from northern gray fins. It became popular among predators as a way to soothe stress, anxiety, and anger, in order to prevent shock collar activation. It derives its name from the yellow, sap-like compound that is consumed by the user. It has also found use as a warming agent, as it tends to raise the user&#39;s overall body temperature.&quot;&gt;&gt;frost honey&lt;&lt;/hovertip&gt;&gt;. I am figuring that after today at the dock, and having only just gotten back so soon after her last trip out to the wastes, she might looking for her fix from James or Cale. Something to soothe the panic and the pain.&quot;

An icy wind whipped through us, tussling June&#39;s short fur and playing at my own dark hair. All at once I was aware of the worn pistol in my pocket, sitting like a leaden stone against my body.

&quot;And here I was,&quot; June whispered, &quot;hoping to find our little doggie strung out on the couch in there. Now… I do not know where she might be. She may be hurt, she may be high. She may be both. I don&#39;t know any more.&quot;

&quot;Or she may be neither of those things. You really have that little faith in her?&quot; I said, feeling anger rise like bile to the top of my throat.

June shook her head. &quot;You do not know what this drug has put her through. What it still puts her through. I wish for nothing more than for her to quit ranger work and leave this place, but now I am not so sure which she is addicted to: the job, the frost honey, or North Station. So it is not that I have no faith in her — no, Summer is a strong woman — but that I have respect for the drug and what it is capable of. For it is capable of bringing the center of this town down to her knees.&quot;

&quot;Christ,&quot; I said, &quot;this doesn&#39;t sound like the Summer I know.&quot;

&quot;The summer you &lt;em&gt;barely&lt;/em&gt; know, human. I have been in this frozen shit hole longer than most people. I have known Summer since she first arrived here seven years ago. She is running from something that she cannot outpace or hide from, not even in the northern wastes.&quot; June rose to her full height, nearly as tall as me. &quot;I said earlier that I am worried for her safety, but I am not defeated. Will you help me find her?&quot;

[[&quot;I&#39;ll help you find her&quot;-&gt;Hunt For Summer Menu]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="71" name="Hunt For Summer Menu" tags="menu" position="3,4069" size="200,200">&lt;&lt;nobr&gt;&gt;
&lt;&lt;if not hasVisited(&quot;Hunt For Summer | Provisions&quot;)&gt;&gt;
[[Search Provisions-&gt;Hunt For Summer | Provisions]]
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;if not hasVisited(&quot;Hunt For Summer | Igloo Inn 2&quot;)&gt;&gt;
[[Search Igloo Inn-&gt;Hunt For Summer | Igloo Inn 2]]
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;if not hasVisited(&quot;In June&#39;s Garage | Hunt For Summer&quot;)&gt;&gt;
[[Search June&#39;s garage-&gt;In June&#39;s Garage | Hunt For Summer]]
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
[[Search Jumping Jack&#39;s-&gt;Hunt For Summer | Jumping Jack&#39;s]]</tw-passagedata><tw-passagedata pid="72" name="Hunt For Summer | Provisions" tags="ship" position="120,4341" size="100,100">A bell rung above us as we threw open the door to Provisions. The warmth of the shop slammed into us almost immediately, and within seconds, I had stripped down to my thermal sweater. June, wearing her flannel and work shorts, was fine, though I could see she was getting hot under all that fuzz. She puffed a hot gust of air out of her nostrils.

&quot;We&#39;re about to close,&quot; said a voice from somewhere within the store, clipping with a pubescent nasal. I turned to the sound of the voice and found, behind Provision&#39;s counter, an arctic wolf. Well, more of a pup, anyway. It was clear given his folded ears, whiny voice, pimples shining through his blinding white fur, that this was a whelp, likely no older than 14 or 15 in human years. The wolf shifted awkwardly. He found my eyes for a second, then flicked his attention to June. &quot;I said we&#39;re about to close.&quot;

&quot;Otto, have you seen Summer come by lately?&quot; June said, impatiently.

&quot;You mean the ranger? The little corgi?&quot; he said in a meek voice.

June nodded. &quot;You cannot miss her. Short, bright like the sun. Orange coat probably.&quot;

&quot;I- I don&#39;t know,&quot; Otto stammered back. &quot;I&#39;ve only been watching the shop for a few minutes. Rouve should be back any minute, though.&quot; He tried forcing his eyes back onto me, but could only hold his attention for a few seconds before turning back to something onto the counter. The boy&#39;s shock collar glowed a &lt;span id=&quot;collarWarning&quot;&gt;soft yellow&lt;/span&gt;.

More silence. I felt like he should say something. I was starting to feel &lt;em&gt;bad&lt;/em&gt; for the kid. &quot;I don&#39;t think we&#39;ve met.&quot; I approached the counter and held out my palm for a handshake. &quot;The name&#39;s-&quot;

&quot;I know who you are, James, and whatever you want, take it. You know the deal. I just need to let my parents know what you&#39;ve taken,&quot; the whelp said, still staring a nervous hole into the counter.

I narrowed my eyes. &quot;What? My name&#39;s not James. It&#39;s Hunter. Hunter Gibbs.&quot;

Otto studied me for a bit, his ears still folded flat against his skull, collar still winking &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt;. &quot;I guess you don&#39;t look like James… but you smell like him. Are you new in town?&quot;

&quot;Everyone says I smell like James. Even she thought I was him,&quot; I said, pointing at June. 

The doe shrugged, and said, &quot;I can&#39;t help it if all humans have the same musk.&quot;

&quot;The same &lt;em&gt;what?&lt;/em&gt;&quot; I replied, eyes narrowing at June.

June&#39;s eyes went wide. She didn&#39;t respond, frozen up like a deer caught in…

Otto, at last confirming he was not speaking with James, cautiously extended a paw towards my outstretched hand. &quot;Sorry,&quot; he said. &quot;You&#39;re the only other human out here besides James. I d-don&#39;t do handshakes very often.&quot;

&quot;Don&#39;t worry about it. I&#39;m more upset that you&#39;ve got me confused with that fuck than I am about the handshake,&quot; I said with a slight chuckle. I painted on a calm smile and tried to act candid. Otto, who could probably rip my arm off if he wanted to, took a quick step back.

&quot;S-sorry!&quot; he said, urgency ushering the words out of his fanged mouth. The indicator light on his collar began to blink faster. &quot;Like I said, we don&#39;t get many humans out h-here so I&#39;m not sure what to-&quot;

June cleared her throat and unfroze. Her annoyance and impatience were palpable in her tone. &quot;Listen, Otto,&quot; she began, &quot;we have not time to waste with you and the human exchanging cultures, so go get din søster.&quot;

&quot;My what?&quot; Otto cocked his head to the side.

June rammed her teeth together. &quot;Go get your sister.&quot;

There was a slight pause.

&quot;Please,&quot; June said with an exhausted sigh. &quot;When I get frustrated sometimes my mother tongue slips out from behind my teeth.&quot;

&quot;O-oh! Yeah, I&#39;ll go and s-s-see if she&#39;s on her way back. S-sorry,&quot; Otto said, scurrying off through an office door. He paused only for a second, his nervous eyes on me, before turning his back and shutting the door.

&quot;You okay?&quot; I asked, turning to June, resting my back against the counter.

She scowled back. &quot;He does not act like a predator — more like an abused rabbit — he is always apologizing and stuttering. I have no patience for him tonight. This should have been a simple ‘yes&#39; or ‘no&#39;, but now Rouve must get involved.&quot;

&quot;Anything wrong with that kid?&quot; I replied. &quot;He seems a bit ‘off&#39;, if you ask me.&quot;

&quot;What&#39;s wrong with my little brother?&quot; A voice — gruff, but not bereft of that glistening feminine lilt — boomed behind me. I spun around to face my fate, look it in the eye should it decide to rip me asunder.

[[Continue-&gt;Hunt For Summer | Provisions 2 | Meeting Rouve]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerMetOtto to true&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;bellDing&quot; volume 0.2 play&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="73" name="Hunt For Summer | Jumping Jack&#39;s" tags="ship" position="150,4490" size="100,100">I was afraid of finding her at Jumping Jack&#39;s. Those words of hers rang loud in the back of my head, clear as gunshots on a silent day:

&lt;em&gt;I&#39;m sorry&lt;/em&gt;

Wisps of smoke from the fireplace curled in the air like tendrils of some ruthless vine. June and I stood in the doorway to the saloon, trying to pierce the opiate haze of the room. There was some low chatter, two predators arctic — foxes between shifts on the ice — bent over their beers or whiskeys, throwing wary glances at us. Somewhere, Tress, the barkeep, had the radio cranked low and tuned in to a barely audible French station. It hissed and crackled with all the clarity of television static. He wasn&#39;t behind the bar.

And despite the haze, I saw her at the end of the bar, feet dangling from her chair, a half-empty bottle of vodka within reach of her stubby arms: Summer Keaton, the pembroke corgi; my lifeline out here in this frosted shithole. I watched as she struggled to lift the bottle and pour its contents out into a dry glass. Most of it ended up on the bar, but enough got into the cup for her to throw it back in one eye-squeezing gulp.

She wasn&#39;t alone.

James, sitting to the right of the corgi, lifted a shot glass in my direction with a cocky nod. June&#39;s face twisted up. I saw it first, probably before James did — the anger in the doe&#39;s eyes, brighter than lightning strikes. She stormed forward as my hands grasped at the empty space she once occupied.

[[Continue-&gt;Hunt For Summer | Jumping Jack&#39;s 2]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; stop&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="74" name="Hunt For Summer | Provisions 2 | Meeting Rouve" tags="new-content-flag ship" position="44,4496" size="100,100">There was no mistaking her as Otto&#39;s sister — both shared the same blisteringly white coat of fur and &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt;. Just like her brother, she had two sharp ears at the top of her skull, only hers were folded down flat in anger instead of submission. Her right ear was ringed with two golden piercings — small hoops that pinched tight against her raw skin.

Their faces and ages didn&#39;t match, that much was true. Rouve was clearly a good deal older than her brother and stood at an imposing 6&#39;6&quot;, with somewhat broad shoulders. She wore a cross expression, like, well, an outsider had just waltzed into her family store and insulted her kid brother. She towered over me.

A low, feminine growl simmered in her chest. &quot;James, I don&#39;t care what deal you and my dad have worked out — I&#39;ll tear your arm off if you keep picking on Otto. I&#39;m the only one allowed to do that. If you think I&#39;m afraid of your little crew or Cale, you&#39;re dead wrong.&quot;

I unconsciously felt for the pistol in my pocket and took a step back from the counter. &quot;Hang on, hang on,&quot; I stammered. &quot;I&#39;m not James. You and your brother got me confused for someone else.&quot;

To my surprise, June actually came to my defense for once. &quot;Is true. I thought he was James as well when I first met him. Turns out he&#39;s just some smelly ape.&quot;

I scowled at the doe and silently reminded myself of her &lt;em&gt;musk comment.&lt;/em&gt;

&quot;Well, are you working with James? Cale? You&#39;re not on shard, are you? Because if you&#39;re high you gotta leave.&quot; Rouve said, leaning forward, wolfish eyes narrowing at me like she could melt me where I stood.

&quot;Fuck no!&quot; I exclaimed. &quot;I&#39;m just here looking for Summer. My name&#39;s Hunter.&quot;

When I said my name, Rouve lit up. It was like someone threw a switch in her dumb canine brain. &quot;Wait… are you that new ranger in town people been talking up?&quot; she asked, eyes widening. &quot;I mean, if you&#39;re looking for Summer, you have to be.&quot;

That wasn&#39;t good. I didn&#39;t want people to ‘talk me up&#39; after today. &quot;Talking me up? People are talking about me?&quot;

&quot;Oh my God, you are, aren&#39;t you?!&quot; she squealed.

&lt;em&gt;Fuck.&lt;/em&gt;

&quot;I guess so?&quot;

&quot;Do you realize how long its been since we&#39;ve had someone come to North Station from the outside? Years! Probably! I think!&quot; she said. &quot;And you&#39;re a human! That&#39;s so cool! Hey, can we do a pinky shake?&quot;

I relaxed my grip on my pistol and breathed a quiet sigh of relief. She was no threat — at least not physically. The she-wolf&#39;s request still caught me off-guard, so I had to ask. &quot;You… you want to pinky shake?&quot;

&quot;I&#39;ve heard it&#39;s a human thing. I really want to try it out but James is a grade-A asshole, and it&#39;s not the same with other mammals.&quot;

I nervously held out my pinky.&quot;Sure, I- I guess. If it means a lot to you.&quot;

Her pinky dwarfed my own. We hooked digits, shook, and that was that. She was remarkably well-practiced in the minute of pinky swearing for an arctic wolf.

&quot;So that&#39;s what it feels like,&quot; she said, her pinky still extended. She held it up to the light. &quot;I think I expected more. But hey, thanks anyway, mister ranger.&quot; She then leaned on the counter with one elbow. &quot;Yeah, I&#39;m gonna become a ranger too,&quot; she said with confidence, now examining her claws in attempt to appear nonchalant. She seemed to forget June was there entirely, and instead, put all of her faculties to work in impressing me. &quot;Yep, got the money all saved up for a rig and everything. Summer says she&#39;s holding onto my scarf for me, but I don&#39;t see why she hasn&#39;t already given it to me — I&#39;ve been putting in hundreds hours herding arctic cattle out past the lake and I&#39;ve been doing lots of hunting too-&quot;

A voice came from the shop&#39;s back office. &quot;Hundreds of hours? No you haven-&quot;

Rouve slammed the door to the office shut, cutting off the last of her little brother&#39;s statement of protest. Her collar didn&#39;t change from a healthy green once, which lead me to believe that whatever anxiety problems ran in her family, they didn&#39;t run through Rouve.

&quot;Anyway, like I said, once my brother is old enough to run the shop on his own, I&#39;m going to become a ranger. It sounds so exciting, being out there on your own, drifting from town to town, helping people, having adventures…&quot; she sighed. &quot;Is it exciting?&quot;

&quot;Don&#39;t worry about asking him,&quot; June said, now stepping up to the counter with confidence. She leaned an easy elbow on the counter, not one to miss the opportunity to shoot me down. &quot;This frost punk is new to the game. Just sold him his first rig this morning, actually. So do not try to ask him too many questions, because he doesn&#39;t know shit from snow.&quot;

Whatever June&#39;s intentions were, they didn&#39;t seem to translate from mammal to mammal. Rouve let out a dreamy sigh. &quot;You&#39;re so lucky, then. I&#39;ve never even been outside of North Station. In fact, you and James are the only other humans I&#39;ve &lt;em&gt;ever&lt;/em&gt; met. Probably why I got you two mixed up.&quot;

It seemed impossible to me. I came from a world where humans and anthros were as plentiful and as diverse as fish in the sea. There was no way she hadn&#39;t seen more than one human in her entire life. &quot;How old are you?&quot; I asked, now wondering if she was younger than she looked.

&quot;Uhhhh,&quot; Rouve, surprised by the apparently invasive question, turned away from me. &quot;I&#39;m uhhhh twenty-five,&quot; she said in a slight mumble. &quot;Yeah, I&#39;m about to turn twenty-six.&quot;

&quot;Rouve you are not twenty-five — you just turned twenty last week. I was at your party, as was Summer. Why are you feeling the needs to lie to Hunter?&quot; June said, also not reading Rouve&#39;s confusing and obvious ploy at hiding her age. Neither Rouve nor June seemed to be able to read one another&#39;s subtext.

Rouve&#39;s ears shot up in a panic. She forced some nervous, wolfish laughter from her body. &quot;Oh, I meant I&#39;m 25 in…&quot; she looked at me in a final, desperate bid to salvage her position. &quot;…wolf years…?&quot;

Even my stupid ass could read the blush on Rouve&#39;s face as juvenile embarrassment. And I certainly hadn&#39;t heard about ‘wolf years&#39; before. She was so obviously trying to lie about how old she was, and at this point in the night, I didn&#39;t care why.

Silence lapsed and stretched on for seconds, but those seconds felt like minutes. Somewhere in the back office, Otto sneezed. Rouve never seemed to relax, her muscles and body frozen, and, if I had to guess, she was waging quite the war with herself in her head right now.

In a rare moment of pity, I coughed, and then said, &quot;Listen, we&#39;ll be quick. The reindeer and I are looking for Summer. Little corgi, pembroke. Orange coat. Did she come by here?&quot;

Exhaling a kept knot of air in her chest, Rouve seemed to unfreeze. She pinched her eyes shut and gathered herself up and mumbled something beneath my range of hearing that earned her a curious look from June.

&quot;Summer came by here a little earlier, looking for some supplies,&quot; Rouve said, deflated. &quot;She didn&#39;t say much — just paid and left. I gave her a discount because, you know, she&#39;s Summer and everything. Then she left, and I haven&#39;t seen her since.&quot;

June raised an eyebrow. &quot;What did she buy?&quot;

&quot;Uhhh, girly stuff,&quot; Rouve said, deliberately forcing herself to look away from me. &quot;Scent masks, heat blockers. That sorta stuff.&quot;

&quot;Anything else?&quot; I didn&#39;t quite care about what female anthros had to do to keep their hormones from misbehaving.

&quot;Oh!&quot; Rouve exclaimed. &quot;Yes! Yes! She bought a pistol and some ammo, a length of rope, some rations, and some vodka. I tried talking with her a bit, but she wasn&#39;t in a chatty mood like she usually is, and I thought that was weird, you know? You know how it is in these small towns — everyone always has a lot to say about nothing.&quot;

&lt;em&gt;No kidding.&lt;/em&gt;

&quot;Shit,&quot; June cursed under her breath. She turned her head up to face Rouve. &quot;Many thanks for helpings. If you see her come back to here, please find me at the garage.&quot;

&quot;Will do,&quot; Rouve replied with a wolfish smile.

We turned to leave, but only got a few steps towards the front door when Rouve said, &quot;Hey, wait, are you two leaving already? I have a TON of questions about life outside this town!&quot;

Before I could stop her, June&#39;s hand was around my wrist, swiftly pulling me out of the store. &quot;We don&#39;t have time for chit-chat with the wolves right now,&quot; she hissed at me.

My legs caught up to June&#39;s pace, and with some effort, I freed myself from her painful grip.

&quot;Jesus, I thought you were going to squeeze my hand off,&quot; I said.

&quot;Oh!&quot; Rouve called after us. &quot;Gotta go do ranger stuff, I getcha. I do too! After work! Tomorrow! Come by and see me, okay? Please?&quot;

I threw a heavy glance over my shoulder. Rouve was at the counter waving merrily with Otto by her side, offering his own shy wave and forcing on a nervous smile.

[[Continue-&gt;Hunt For Summer Menu]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked a new character in the sidebar, as well as new story content!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerMetRouve to true&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="75" name="Hunt For Summer | Igloo Inn 2" tags="ship" position="0,4298" size="100,100">We waited outside the Igloo Inn, June shivering. The cold was getting to her.

&quot;Why don&#39;t you just wear regular clothes? Like a coat and some actual pants.&quot; I motioned at her exposed, fuzzy thighs.

&quot;The garage is always warm, and I cannot work under rigs or trawlers with a heavy coat like yours. Also, shut up. Why are we waiting out here instead of going in?&quot;

&quot;Because,&quot; I started, recalling my first night here, and how much of an abject &lt;em&gt;dick&lt;/em&gt; that the penguin who runs with place was, and likely still is. &quot;I&#39;m just scoping the place out a bit.&quot;

Still shivering, June groaned and shoved past me. Much to my dismay, she threw the door open and stepped inside before I could stop her. Begrudgingly, I followed her inside.

The same penguin that had told me to fuck off and charged me extra for the room was still there, behind the main desk, reading a book. He looked up when he heard the door open and the overhead bell chime. The penguin set the heavy tome down with a bored sigh.

&quot;What can I do for you two? Looking for a room together?&quot; he said, with a tone as dry and as pleasant as woodchips.

June was first to react. &quot;How is it that the first thing you think of when you see me and a human together you are thinking: ‘I bet they are just here to fuck&#39;? What the hell is wrong with you, you little creep?&quot;

The penguin&#39;s lips curled up into a nasty smile. &quot;Well, I never said you two were here to do ‘that&#39;, but now that you mention it…&quot; his beady eyes flicked between June and I. &quot;I could totally see you two together. He&#39;s the intrepid, mysterious outsider, you&#39;re the homegrown heroine with the tough exterior but inside you&#39;re just dying to get swept off your feet. Plus, If you split the rent, it&#39;s only $21 a night for each of you.&quot;

A rush of color hit the doe&#39;s cheeks. &quot;What the hell is wrong with you?&quot; she muttered, turning her head to the side, now unwilling to carry this line of conversation any further.

&quot;It was a joke. Not a great joke, June, but it was a joke nonetheless. Now if you&#39;re done raging and projecting your human fetish onto me, maybe you can tell me what it is that I can do for you besides kick you the hell out of my establishment for being rude.&quot;

&quot;Human fetish?&quot; June&#39;s face twisted up with disgust. &quot;W-what are you-&quot;

&quot;Jesus Christ June, you&#39;re making this worse,&quot; I said, stepping forward to the front desk. &quot;We&#39;re looking for Summer. Little corgi. Ranger. Can&#39;t miss her.&quot;

&quot;We all know who Summer is around here, human. You don&#39;t need to get specific. And no, I haven&#39;t seen her. So unless you&#39;re here to pay for your room or for Rudolph the red-cheeked tsundere, I&#39;d ask that you leave.&quot;

June&#39;s hand snapped to her back pocket. She drew out her wrench, but got maybe a centimeter into her skull-shattering swing at the penguin&#39;s head before my arm shot out and clasped onto June&#39;s wrist, restraining her mid-strike. It was like trying to put a leash on a freight train.

I dug my feet in and started the Sisyphean task of hauling the raging reindeer out of the Igloo Inn. The penguin didn&#39;t flinch a single time. 

&quot;Are you done?&quot; he asked, bored.

&quot;Din flykende sønnesønn!&quot; June shouted back, clinging to the door frame.

With June halfway out the door, the penguin rose from his chair and enthusiastically waved a flipper at June, who, by this point, was frothing at the mouth and unleashing a barrage of Norwegian curses that could make a viking blush.

[[Continue-&gt;Hunt For Summer Menu]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;audio &quot;seedsOfTheCrown&quot; stop&gt;&gt;
&lt;&lt;audio &quot;bellDing&quot; volume 0.2 play&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="76" name="Hunt For Summer | Jumping Jack&#39;s 2" tags="ship" position="194,4613" size="100,100">June started forward, teeth rammed together as if James&#39;s neck were in her mouth. She couldn&#39;t snarl, at least, not like a predator, but as she stormed forward, she might as well have been a polar bear defending her cubs.

&quot;June hold up for a second-&quot; I tried to slow her down again, but she easily shucked my grasp on her wrist.

James&#39;s eyes went wide. Beneath him, the chair squealed against the gnarled wooden floors. He was on his feet in a snap, backing towards the emergency exit. &quot;June, wait, wait, wait, wait,&quot; he started, &quot;calm down, June. This isn&#39;t what it looks like.&quot;

&quot;You son of a bitch. I swear I will break every one of your fingers for this,&quot; June snarled, moving forward like a flannel comet sent from God to smite sinners. &quot;If you laid a goddamned finger on Summer I-&quot;

&quot;I&#39;m serious, June, wait! Calm down a little!&quot;

Glass shattering. The crinkling sound of glass cascading onto the floor in a bristling staccato. The two foxes were on their feet and between June and Summer. Though they were a solid foot shorter shorter than June, the broken beer bottles in their paws and the feral snarls that rolled out of their chests more than made up for their size. The indicator lights on their collars were dark, as if they&#39;d been disabled somehow.

&quot;You try me, you fucking weasels,&quot; June said hotly, drawing her wrench out from her back pocket. She took a cautious step backwards, if only to give herself more room to swing. &quot;You are thinking that because you are predators, you scare me? Give me one good hit and I&#39;ll put you both in the hospital.&quot;

I was right behind her, partially shielded by her now squared shoulders and her broad wingspan. I instinctively felt for the pistol in my pocket, heavy with five remaining bullets. My heart threw itself against my chest. Draw too early and someone might die. Draw too late? Same outcome. It had to be at the right time, if at all.

&quot;Come on, I will even give you the first swipe at me, preds,&quot; June roared. She locked eyes with James for a moment, like steel striking flint. &quot;So this is how you are choosing to fight me? You make me go through these two pups before I can get to you, huh? Gutless feiging vil ikke kjempe hans egne kamper…&quot;

&quot;I told you I never wanted to fight you to begin with!&quot; James yelled. He looked at me, pleading. &quot;Can&#39;t you control her or something?&quot;

[[Draw your weapon-&gt;Hunt For Summer | Jumping Jack&#39;s Draw Weapon]]

Or

[[Keep your weapon down-&gt;Hunt For Summer | Jumping Jack&#39;s 2 Don&#39;t Draw Weapon]]</tw-passagedata><tw-passagedata pid="77" name="Hunt For Summer | Jumping Jack&#39;s Draw Weapon" tags="ship" position="50,4760" size="100,100">&lt;span class=&quot;drunk&quot;&gt;&lt;strong&gt;&quot;STOP!&quot;&lt;/strong&gt;&lt;/span&gt; Summer&#39;s voice boomed off the small, wooden walls of Jumping Jack&#39;s.

The foxes, James, June, and I all turned our focus onto Summer, who stumbled out of her chair, landing with little showmanship on the hardwood floor. She swayed with an alcoholic grace, head swimming left and right. She pointed weakly at me. &lt;span class=&quot;drunk&quot;&gt;&quot;Pleassse put that ‘way.&quot;&lt;/span&gt;

Summer&#39;s &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; met mine. They were tired. So, so very tired, heavy and brimming with something more pained than sadness. I swore, I saw her naked for a second, her body marked up with scars, like her skin was a test and she got every question wrong. And then I blinked. And there she was again, finite, corporeal, dressed down to a brown patterned woolen sweater and snow pants, barely able to keep herself upright and conscious, her collar glowing &lt;span id=&quot;collarWarning&quot;&gt;an urgent yellow.&lt;/span&gt;

&lt;span class=&quot;drunk&quot;&gt;&quot;Please,&quot;&lt;/span&gt; she repeated, voice barely rising above a whisper.

I lowered my gun and let out the knot of air I&#39;d been holding in my chest. The gun felt heavier than it was before. I looked around. Nobody moved. Nobody spoke. It was like with a single word, Summer had paused the world, sealed it in ice.

&lt;span class=&quot;drunk&quot;&gt;&quot;Thank you,&quot;&lt;/span&gt; she said, looking directly at me.

She looked over her shoulder and back at James. &lt;span class=&quot;drunk&quot;&gt;&quot;I&#39;m going to leave now, s&#39;kay?&lt;/span&gt;

He nodded, swallowing hard as he flicked his attention between me and Summer. &quot;Yeah. Sure. I&#39;ll see you ‘round okay?&quot;

The corgi didn&#39;t respond. She tried walking forward, but managed to get only a few feet before she stumbled and hit the floor. James was at her side in a flash. Consciously or unconsciously, she allowed him to hook an arm under her shoulder and pull her upright. Together they limped forward — towards June and I.

&quot;Guys, move the fuck out of the way,&quot; James said to the foxes in a weak voice, exertion draining his tone of its usual cockiness and color. 

The foxes moved aside. James locked eyes with June. &quot;Come take her from me.&quot;

&quot;What are you doing?&quot; June said in a whisper, still gawking in disbelief.

I moved swiftly past June, who stood there, wrench drawn, struck dumb and immobile; a leaden idol.

I hooked his arm beneath Summer&#39;s other shoulder, and together, the James and I stood the corgi up. James ducked and slipped out of Summer&#39;s weight until it was just me holding the corgi aloft. She leaned readily against me, her head hanging down like it was stuffed with rocks. I could feel the sheer nuclear heat radiating off her body.

James motioned towards the nearly half-empty bottle of vodka still on the bar. &quot;I told you, it&#39;s not what it looks like. She was just drinking a bit. We were catching up. No frost honey, no shard, nothing like that. She just got back into town and I told her to come see me. She wanted to talk about what happened today.&quot;

&quot;After y-you drove her away-&quot; the reindeer started, but only got a few accusations in before Summer cut her off.

&lt;span class=&quot;drunk&quot;&gt;&quot;Please, let it go,&quot;&lt;/span&gt; Summer said, forcing her head upright so she could address June. &lt;span class=&quot;drunk&quot;&gt;&quot;I just want to go home right now.&quot;&lt;/span&gt;

&quot;But-&quot;

&quot;June,&quot; I said. &quot;Let&#39;s get her home. We can deal with this later.&quot; I scooped the corgi up into my arms, but not without an exhausted grunt. She certainly was a lot steadier than I had expected. Still, she fit neatly against my chest, like the final piece of a puzzle falling into place. The corgi buried her tired head in my peacoat, her body slackening into my own.

The reindeer took one last look at James, who was halfway out the back door with the foxes, let out a reluctant sigh, and then said to me, &quot;Are you needing helps?&quot;

&quot;I think I got this,&quot; I replied, muscles straining to keep this drunken bundle of corgi in my grasp. I&#39;d be goddamned if I ever let her go.

[[Continue-&gt;Carrying Summer Back Home]]</tw-passagedata><tw-passagedata pid="78" name="Hunt For Summer | Jumping Jack&#39;s 2 Don&#39;t Draw Weapon" tags="ship" position="210,4759" size="100,100">&lt;span class=&quot;drunk&quot;&gt;&lt;strong&gt;&quot;STOP!&quot;&lt;/strong&gt;&lt;/span&gt; Summer&#39;s voice boomed off the small, wooden walls of Jumping Jack&#39;s.

The foxes, James, June, and I all turned our focus onto Summer, who stumbled out of her chair, landing with little showmanship on the hardwood floor. She swayed with an alcoholic grace, head swimming and swaying. She pointed weakly at June. &lt;span class=&quot;drunk&quot;&gt;&quot;Pleassse put that ‘way.&quot;&lt;/span&gt;

Summer&#39;s &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; met mine. They were tired. So, so very tired, heavy and brimming with something more pained than sadness. I swore, he saw her naked for a second, her body marked up with scars, like her skin was a test and she got every question wrong. And then I blinked. And there she was again, finite, corporeal, dressed down to a brown patterned woolen sweater and snow pants, barely able to keep herself upright and conscious, her collar glowing &lt;span id=&quot;collarWarning&quot;&gt;an urgent yellow.&lt;/span&gt;

&lt;span class=&quot;drunk&quot;&gt;&quot;Please,&quot;&lt;/span&gt; she repeated, voice barely rising above a whisper.

June lowered her arms and let out the knot of air she&#39;d been holding in her heaving chest. I looked around. Nobody moved. Nobody spoke. It was like with a single word, Summer had paused the world, sealed it in ice.

&lt;span class=&quot;drunk&quot;&gt;&quot;Thank you,&quot;&lt;/span&gt; she said, looking directly at me. She then looked over her shoulder, back at James. &lt;span class=&quot;drunk&quot;&gt;&quot;I&#39;m going to leave now, s&#39;kay?&lt;/span&gt;

He nodded, swallowing hard as he flicked his attention between me and Summer. &quot;Yeah. Sure. I&#39;ll see you ‘round okay?&quot;

The corgi didn&#39;t respond. She tried walking forward, but managed to get only a few feet before she stumbled and hit the floor. James was at her side in a flash. Consciously or unconsciously, she allowed him to hook an arm under her shoulder and pull her upright. Together they limped forward — towards June and I.

&quot;Guys, move the fuck out of the way,&quot; James said to the foxes in a weak voice, exertion draining his tone of its usual cockiness and color. 

The foxes stepped aside. James locked eyes with June. &quot;Come take her from me.&quot;

&quot;What are you doing?&quot; June said in a whisper, still gawking in disbelief.

I moved swiftly past June, who stood there, wrench drawn, struck dumb and immobile; a leaden idol.

I hooked my arm beneath Summer&#39;s other shoulder, and together, James and I stood the corgi up. James ducked and slipped out of Summer&#39;s weight until it was just me holding the corgi aloft. She leaned readily against me, her head hanging down like it was stuffed with rocks. I could feel the sheer nuclear heat radiating off her body.

James motioned towards the nearly half-empty bottle of vodka still on the bar. &quot;I told you, it&#39;s not what it looks like. She was just drinking a bit. We were catching up. No frost honey, no shard, nothing like that. She just got back into town and I told her to come see me. She wanted to talk about what happened today.&quot;

&quot;After y-you drove her away-&quot; the reindeer started, but only got a few accusations in before Summer cut her off.

&lt;span class=&quot;drunk&quot;&gt;&quot;Please, let it go,&quot;&lt;/span&gt; Summer said, forcing her head upright so she could address June. &lt;span class=&quot;drunk&quot;&gt;&quot;I just want to go home right now.&quot;&lt;/span&gt;

&quot;But-&quot;

&quot;June,&quot; I said. &quot;Let&#39;s get her home. We can deal with this later.&quot; I scooped the corgi up into my arms, but not without an exhausted grunt. She certainly was a lot steadier than I had expected. Still, she fit neatly against my chest, like the final piece of a puzzle falling into place. The corgi buried her tired head in my peacoat, her body slackening into my own.

The reindeer took one last look at James, who was halfway out the back door with the foxes, let out a reluctant sigh, and then said to me, &quot;Are you needing helps?&quot;

&quot;I think I got this,&quot; I replied, muscles straining to keep this drunken bundle of corgi in my grasp. I&#39;d be goddamned if I ever let her go.

[[Continue-&gt;Carrying Summer Back Home]]</tw-passagedata><tw-passagedata pid="79" name="Carrying Summer Back Home" tags="ship" position="116,4895" size="100,100">Darkness had set upon the ranger station like a heavy frost. Dripping shadows spread across the couch in Summer&#39;s office, obscuring most everything but the vaguest outlines of her furniture.

&quot;Lights?&quot; I turned to June with an expectant look. Summer was still in my arms, head swaying, face alarmingly pale.

June played at the switch in Summer&#39;s office. The single light overhead stuttered on, flickered for a few seconds, and then went dark for the last time.

&quot;S-shit, looks like the bulb is dead,&quot; June said, trying the switch again. It continued to buzz. She spoke with a shudder in her voice. It was cold in Summer&#39;s office — so cold that even in the darkness I could see my own labored breathing coming out in puffs of steam.

&lt;span class=&quot;drunk&quot;&gt;&quot;C-can you set me down?&quot;&lt;/span&gt; Summer said, a mild nausea creeping into her tone, like a wave rising from the pit of her stomach to the apex of her throat. &lt;span class=&quot;drunk&quot;&gt;&quot;You&#39;re swaying t-too much.&quot;&lt;/span&gt; She was shaking. Whether that was from the cold or from the drink, I didn&#39;t know.

&quot;One sec, let me find the couch.&quot; Though I was no predator, I could still manage well enough in the darkness. I found the general outline of the couch and deposited summer on the cushion.

&lt;span class=&quot;drunk&quot;&gt;&quot;Thank you,&quot;&lt;/span&gt; the corgi slurred.

&quot;Sure thing.&quot; My eyes felt as heavy as water. It had been a long day, and it was shaping up to be an even longer night.

June cleared her throat. &quot;Hunter.&quot;

I turned to see the her in the doorway — or, it was more her silhouette. The fine curves and contours of her seemed more apparent in the darkness. It was as if her jagged edges had been sculpted away by some unseen hand, and in the black of Summer&#39;s office, her voice tired, frail, and unsure of her past convictions, she seemed like a different woman.

&quot;Thank you,&quot; she said at last. &quot;For today. For helping with Summer.&quot;

&quot;Don&#39;t mention it,&quot; I said, straightening out my spine. My arms felt lighter than they were before, a telltale sign of exertion. Summer was by no means overweight, but she certainly wasn&#39;t skinny either. Stout. Curvy. Even just holding her I could feel her plush and muscles blending together to make up Summer, a dog  truly worthy of her name.

&quot;Listen, I am needings you to stay here with her tonight. I will sleep at my garage — I am more than certain that James or Cale or one of their goons will be by.&quot;

I nodded. &quot;Want the gun? Might help your odds.&quot;

The doe shook her head. &quot;No, you keep. They will not harm me. I am too valuable to this town and to them. I am the one of the few mechanics for miles around. But I imagine they will pay me a visit. And I am always having the wrench, of course, to defend myself.&quot;

&quot;Stay safe,&quot; I said. I was shivering. I couldn&#39;t imagine how cold June was in her flannel and work shorts. For whatever reason, she was toughing it out.

&quot;I&#39;ll be okay. You keep her safe, alright? Watch over her. It will be a long night for the little doggie,&quot; she said, turning and heading for the door. &quot;Make sure you lock the place up.&quot;

&quot;Will do,&quot; I said, feeling for the key in my pocket that Summer had provided on the way over to the station.

&quot;Oh, and get a fire going!&quot; June yelled. I heard the door to the station shut cordially.

[[Continue-&gt;Summer and Hunter, late-night conversations]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="80" name="Summer and Hunter, late-night conversations" tags="ship" position="116,5043" size="100,100">Using my lighter as my sole source of light, I hauled some firewood and kindling into the fireplace. Summer watched me complete this task in silence, the only sound between us was her anxious whimpers and heavy panting.

I didn&#39;t say anything — at least, initially. I wasn&#39;t sure what to say anyway, or where to begin. Like I said earlier, I was never the diplomatic type, especially with anthros.

It was Summer who spoke first. &lt;span class=&quot;drunk&quot;&gt;&quot;Thanks, hun,&quot;&lt;/span&gt; she said, still unable to keep her drunken slur from quashing her syllables. &lt;span class=&quot;drunk&quot;&gt;&quot;Can you do me a bigggggg favor?&quot;&lt;/span&gt;

&quot;What&#39;s that?&quot; I replied, stepping away from the now smoldering fire. The room already smelled of smoke and the acrid perfume of vodka still heavy on Summer&#39;s breath.

&lt;span class=&quot;drunk&quot;&gt;&quot;Get me a bucket?&quot;&lt;/span&gt; she said, with some sloppy urgency. &lt;span class=&quot;drunk&quot;&gt;&quot;An-and quickly.&quot;&lt;/span&gt;

I panicked, looked around the room, located a semi-full trash can in the corner, and dumped its contents into the fire. As I moved the trash can, a glint of metal caught my eye.

Set into the wooden wall, behind the trashcan, was a small, black safe with a keyhole. 

&lt;&lt;nobr&gt;&gt;\
&lt;&lt;if $playerFoundSummerKey is true&gt;&gt;\
I paused for a moment, remembering the key that June had so desperately tried to find in her office. I couldn&#39;t help but think that for whatever reason, June had the key to that safe.

&quot;What&#39;s in there?&quot; I pointed at the safe. &quot;Money or something?&quot; The question felt silly, but I knew, somewhere inside me, there was more than just money in there.

Summer was quiet for a second. &quot;Just some stuff that I need to keep safe.&quot; She looked evasively at my trash can, her face so mixed up and queasy.

&lt;em&gt;Now was not the time for questions.&lt;/em&gt;
&lt;&lt;/if&gt;&gt;\
&lt;&lt;/nobr&gt;&gt;\

I set the empty trash can on the floor in front of the corgi, who was now leaning forward with urgency.

[[Continue-&gt;Get Trashcan]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="81" name="Get Trashcan" tags="ship" position="116,5199" size="100,100">Summer leaned forward and retched, spilling the contents of her stomach into the empty trashcan. She repeated this ritual several times, and each time, I came closer and closer to vomiting out of sympathy.

&quot;Thank you,&quot; Summer said, exhausted. She already sounded more sober than before she had purged the drink from her system. She set the trashcan aside with a drunken effort and sank into the couch, like she&#39;d just ran a marathon. &quot;The world is spinning too fast tonight,&quot; she added, and then let her heavy eyelids drop shut. 

&lt;&lt;if $playerMetRouve is true&gt;&gt;\
There was a stack of groceries hurriedly shoved into the corner — assuredly the ones Rouve mentioned earlier. The rope, the gun, ammo, scent masks, rations and heat blockers. I knew where the vodka had gone, of course.
&lt;&lt;/if&gt;&gt;\

And now, it was just the fire crackling, Summer&#39;s panting, the wind howling outside, and the questions that lingered in my mind about today.

&lt;em&gt;What happened today?&lt;/em&gt;

&lt;em&gt;Where did you go after we left the docks?&lt;/em&gt;

&lt;em&gt;What did you and James talk about?&lt;/em&gt;

&lt;em&gt;Is there something wrong?&lt;/em&gt;

My focus shifted over to the black safe set into the wall, and then, ringing in my ears, were June&#39;s words from earlier: &lt;em&gt;&quot;Summer&#39;s demon is frost honey.&quot;&lt;/em&gt;

Somehow, it seemed impossible — the idea of the doggie tossing back a handful of poorly pressed pills, or strung out somewhere dark and humid with a needle buried in her arm… it was like seeing a flower blooming its way through a layer of permafrost. And yet here she was, dangerously drunk, talking to her dealer at a bar not but an hour ago.

Maybe I didn&#39;t want to believe it, or maybe I just couldn&#39;t comprehend it. Maybe I really wasn&#39;t cut out for this sort of work. My first brush with honest life and it gets outright rejected in by my brain; a square peg into a round hole. I&#39;d never known any drug addicts before. Hell, I&#39;d never even killed someone before today.

&lt;em&gt;Flower blooming through frost.&lt;/em&gt;

&quot;Firssst time today?&quot; Summer asked in an exhausted sigh.

&quot;For what?&quot;

&quot;Killing somun,&quot; she slurred.

My fingers scraped at the back of my neck. The mental image of Jesse&#39;s skull shattered and gored flashed back to me in bright streaks of crimson. I had thought little of it until now. &quot;Yeah,&quot; I answered back. &quot;First time.&quot;

&quot;It wouldn&#39;t be mine,&quot; the corgi said. &quot;I&#39;ve killed two people.&quot;

The fire snapped. The pause in her voice seemed to stretch out for miles. A &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt; light glowed to life around her neckline, shining through the shag of her fur.

&quot;I hate death,&quot; she said in a quiet voice. &quot;I know it&#39;s not normal, ‘specially at mys age and in my line of work, but I can&#39;t help it. I still thinks&#39;bout em almost every day.&quot;

[[Continue-&gt;I&#39;ve Killed Two People Before Menu | Summer]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;Dirtmouth&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="82" name="I&#39;ve Killed Two People Before Menu | Summer" tags="ship" position="119,5343" size="100,100">She looked exhausted. I was sure I&#39;d only get one good answer out of her. I decided I&#39;d pick my next question carefully.

[[Ask about the people she killed]]

Or

[[Ask about today on the docks]]</tw-passagedata><tw-passagedata pid="83" name="Ask about the people she killed" tags="ship" position="0,5493" size="100,100">I eased myself down into the corgi&#39;s office chair. She was always too little for it, so it was a near-perfect fit for me. I tried out the image of Summer killing someone in my mind, but couldn&#39;t make the pieces fit.

&lt;em&gt;Like a flower blooming through frost.&lt;/em&gt;

Summer was the flower, North Station was the frost. She made everything warm and beautiful, infusing this wasteland with a syringe of energy and light. And so I had to ask.

&quot;When you said you&#39;ve killed people before: why?&quot;

&quot;Whadya mean?&quot; she replied, sounding a little more awake than before, but still just as inebriated. The smell of smoke and burning trash wafted out of the fireplace, melding with the drunken rot of Summer. To her it must have been awful. To me, it was just unpleasant.

&quot;I guess I should ask: ‘what happened?&#39;&quot;

Her eyes fluttered shut, and she said nothing for a while, though her ears did fold flat against her skull.

All at once I felt ashamed that I&#39;d asked for such a personal memory with nothing to give in return. &quot;Sorry, I shouldn&#39;t have-&quot;

&quot;She was 19,&quot; Summer said, pausing. &quot;Thass what I remember the most about her when it happened — because I was 19 as well. I&#39;m twenney-seven now. Way it goes was fast… so fast I barely ‘member it, but it happened before I came to North Station. Y&#39;ever heard of a place called Plum?&quot;

&quot;Doesn&#39;t ring a bell.&quot;

&quot;Iss actually in Greenland. Riginally I&#39;m from the states, juss like you. But I found myself in a town called Plum early in my ranger days. It&#39;s where I earned my scarf, actually.&quot; She pointed with a stubby, weak paw at the &lt;span id=&quot;scarfColor&quot;&gt;red &lt;/span&gt; scarf on her desk, the one with the hole in it. &quot;Anyways I was hired by an ice cattle rancher to guard his herd. There&#39;d been a feud ‘tween this guy and ‘nother rancher in the area, and the word in Plum was that this other guy — was some rich predator, a weasel, I think — was hiring rangers to rustle cattle. Theysd swoop in on their rigs at night, hersd the cattle away towards their herd, and that wass&#39;aplan. [[I was on my rig, and…-&gt;First Killing Backstory | Summer]]</tw-passagedata><tw-passagedata pid="84" name="Ask about today on the docks" tags="ship" position="141,5488" size="100,100">&quot;Actually, I wanted to ask you about today on the docks, with Jesse. And what happened afterwards,&quot; I said, with all the tact and grace of a rhino. &quot;I mean, you just disappeared on us on all of the sudden, and then we find you blackout drunk with James?&quot;

&quot;I know, and I-&quot;

&quot;June was so worried about you. Hell, even &lt;em&gt;I&lt;/em&gt; was worried about you.&quot;

&quot;You were?&quot; She said, ears pricking up a bit, &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; widening.

&quot;I was. And I still am. We even went out looking for you.&quot;

She slackened into the couch, looking even smaller against it than she already was. &quot;I&#39;m sorry I put you through so much trouble today. Pretty rough for a firss day.&quot;

&quot;It&#39;s… part of the job, I guess. But I want my scarf after all this is over with,&quot; I added.

The corgi flashed a weakened, unsure smile. &quot;You&#39;ve more than earned it.&quot;

The wind continued to batter the ranger station outside, and that was the only sound for a few moments, a lapse in conversation making miles out of a minute. 

[[&quot;When you shot Jesse today…&quot;-&gt;Docks flashback 2]]</tw-passagedata><tw-passagedata pid="85" name="Ask her about the safe and the frost honey" tags="incomplete" position="1320,6877" size="100,100">Hunter looked towards the safe in the room&#39;s corner. The corgi followed his eyes and turned her own head.

&quot;What&#39;s in the safe?&quot; he asked, knowing the answer already. He wanted to hear her say it herself. He had to know if June was lying or not.

Summer didn&#39;t speak, just watched the safe, as if waiting for it to come to life and answer Hunter.

&quot;Money,&quot; she said at last, quietly. &quot;I keep money in there. Money and a few other important items.&quot;

&lt;em&gt;So she  wasn&#39;t lying about the money. But what about the drugs?&lt;/em&gt;

&quot;It&#39;s just money?&quot; Hunter raised an eyebrow. Keeping money in a safe wasn&#39;t outlandish at all, but he had to know for sure. &quot;You got the key on you?&quot;

&quot;Yes,&quot; Summer said, quite suddenly. &quot;I&#39;ve got the key.&quot;

He stared at her for a good while, studying her. She looked tired, scared, but more than anything else, ashamed. He thought about his answers.
&lt;&lt;if $playerFoundSummerKey is true&gt;&gt;
[[&quot;That&#39;s bullshit. June has the key.&quot;-&gt;Ask her about the safe and the frost honey | 1]]
&lt;&lt;else&gt;&gt;
&lt;span id=&quot;game-tool-tip&quot;&gt;This dialogue branch is locked&lt;/span&gt;
&lt;&lt;endif&gt;&gt;
Or

[[&quot;Fair enough. I was just curious.&quot;-&gt;End of frost honey dialogue]]</tw-passagedata><tw-passagedata pid="86" name="First Killing Backstory | Summer" tags="ship" position="0,5658" size="100,100">The wind was vicious that night, and Summer Keaton had been up for a solid 24 hours by now. The pay was good, but the hours were as cruel as the visibility. The snowmobile hummed beneath her, sipping on a fresh tank of gasoline. She&#39;d perched her rig atop an icy ridge that overlooked the now drowsing herd of arctic steer — 400 heads of bristling, blue ivory horns. 

Her gloved paws trembled as she took another hearty pull out of a thermos she&#39;d filled with coffee, black as night and stronger than sin. Swiping her muzzle with the back of her paw, she cleared her goggles of accumulated fog, pulled her &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt; back over her mouth, and looked left, towards the front of the herd.

Visibility was bad, that was a given. Her eyes — imbued with a predator&#39;s clarity — readily cut into the darkness. She saw what many other mammals couldn&#39;t. She  saw the cattle as dark masses resting against the ice and snow. She could even see the dark outline of the forest a few hundred feet away, standing like dark sentinels who swayed in the ripping wind.

&quot;Just one more night, couple more hours, and then a loooonnnggg vacation,&quot; she told herself. &quot;That&#39;s the plan.&quot;

She swept the mass of cattle again with her eyes, and despite the coffee surging through her veins, she felt like she was constantly drifting backwards, gravity pulling her down into a bed that wasn&#39;t there.

&quot;Damnit,&quot; she muttered, blinking herself awake. &quot;Why isn&#39;t the coffee working?&quot;

The wind ripped through her again. She unfogged her goggles with a glove, took a deep, tired breath, and that&#39;s when the pain hit her in the back of her predatory skull, sharper than anything she&#39;d ever felt. It was hard, blunt, and cold, and speeding through her body like a drug, rendering limbs useless and vision dark.

[[Continue-&gt;Summer is attacked | flashback 1]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;Dirtmouth&quot; stop&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="87" name="Summer is attacked | flashback 1" tags="ship" position="0,5808" size="100,100">Warm blood had threaded its way from the top of her skull, down her face, around her goggles and in between her slack lips. Summer&#39;s eyes fluttered open, watering with the soft glow of a lighter. She was in the forest,  propped up like a sack against a tree.

A pair of honey brown eyes stared back at hers. Kneeling in front of Summer, illuminated from beneath by the wavering flicker of a steel-plated lighter, was a human, clad in light snow gear — a black, wind resistant coat with a hood, black snow pants and boots. But that&#39;s not what drew Summer&#39;s attention. It was the &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt; wrapped around her face, obscuring everything from the eyes down.

Summer opened her mouth to say something. The woman held a single, gloved finger in front of her face, as if to shush the corgi. Wrapped in the woman&#39;s hand was a glinting five-inch blade.

The corgi&#39;s eyes immediately went to the blade as her shock collar&#39;s light pulsed &lt;span id=&quot;collarWarning&quot;&gt;an urgent yellow&lt;/span&gt;. Her heart threw itself against her tiny ribcage, and despite the silent command not to speak, she felt a small whimper work itself out of her. Her body felt entirely numb, like she&#39;d just been submerged beneath a glacial lake.

&quot;Are you alone?&quot; the woman asked in a muffled voice. She sounded young. 

With the rush of the wind in Summer&#39;s ears, and the pounding of her heart in her skull, she almost didn&#39;t hear the other ranger. Very slowly, the corgi nodded.

Relief washed over the ranger&#39;s face — or at least the parts of her face Summer could see. The young woman drew a deep, fortifying breath, letting a knot of tension leave her chest with a sigh. &quot;I was worried you were part of a group or something.&quot;

Summer slowly shook her head, relieved.

&quot;That&#39;s good. I&#39;ll make this quick, then.&quot; Using both hands, the ranger suddenly drove her knife forward, towards the corgi&#39;s throat.

[[Continue-&gt;Summer is attacked | flashback 2]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;bootsSnow&quot; volume 0.5 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="88" name="Summer is attacked | flashback 2" tags="ship" position="1,5960" size="100,100">It was instinct — a body&#39;s intuition, the sudden reincarnation of primal forces — that saved Summer&#39;s life. Her gloved hands shot up and snapped themselves around the wrist of the ranger, staying the knife&#39;s blade just centimeters away from the hollow of her throat, covered by her &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt;.

Summer&#39;s collar began to flash &lt;span id=&quot;collarZap&quot;&gt;red&lt;/span&gt;. A buzz was imminent. The exertion and stress of the situation tightened itself around her throat, literally and metaphorically, and she knew that if it went off, she&#39;d be defenseless.

&lt;em&gt;I have to end this&lt;/em&gt; she thought, but the ‘how&#39; eluded her, Until her eyes flicked downwards to the &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt; wrapped around her neck. There was enough excess fabric around her neck to-

The ranger lurched forward, throwing her full weight into driving the knife as deep as possible. Summer strained to keep her from gaining any ground.

It was now or never. Her collar was vibrating, heralding a shock. Summer clenched her teeth, angled her neck to the left as much as she could, and released her hold on the ranger&#39;s wrists.

[[Continue-&gt;Summer is attacked | flashback 3]]</tw-passagedata><tw-passagedata pid="89" name="Summer is attacked | flashback 3" tags="ship" position="4,6115" size="100,100">The ranger drove the knife forward, through Summer&#39;s &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt;, sticking the blade three inches deep into the tree, narrowly missing the corgi&#39;s tender flesh.

The human seemed stunned, eyes wide, neither expecting to have killed someone, nor to have missed from this close.

Summer jerked her head right, shearing the fabric of her scarf with a vocal tear. She brought her head back, and then launched herself forward, her skull ricocheting off the human&#39;s own, knocking the human backwards and into the snow.

[[Continue-&gt;Summer is attacked | flashback 4]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fabricTear&quot; volume 0.5 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="90" name="Summer is attacked | flashback 4" tags="ship" position="1,6258" size="100,100">The stunning blow was enough for the both of them — or Summer had hoped. A tight band of electricity arced itself around her neck, traveling through her entire body, setting her nerves on fire from head to toe. She let out a pained yelp as she fruitlessly tried prying her collar off.

With the pain still coursing through her singed body, Summer&#39;s eyes opened to see the ranger struggling to sit up, clutching her head. A red lock of hair fell from her hood and covered her eyes in tandem with a trickle of blood from where Summer&#39;s skull had collided with hers.

The corgi&#39;s hands fell on the knife, ripping it from the tree. She turned towards the woman, whose eyes had met Summer&#39;s own. They remained frozen, locked in each other&#39;s skulls for what seemed like an eternity, trying to read one another.

&lt;em&gt;Please, don&#39;t. Run away.&lt;/em&gt;

The ranger sat up, her eyes settling on the knife embedded in the tree.

&lt;em&gt;Please.&lt;/em&gt;

The ranger started forward, clumsy hands moving towards the knife through cold space. 

&lt;em&gt;Stop!&lt;/em&gt;

Summer wrapped both of her hands around the hilt of the knife, and, with as much force as she could muster in the coils of her muscles, drove the knife home.

[[Continue-&gt;Summer is attacked | flashback 5]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;dogYelp&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;collarZap&quot; volume 0.5 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="91" name="Summer is attacked | flashback 5" tags="ship" position="1,6418" size="100,100">The knife passed cleanly through the ranger&#39;s coat and slit evenly between her ribs. She gasped, like she&#39;d just had all the air forced out of her in one tremendous push.

Standing now with this strange woman at the end of her knife, Summer began to dig her stout feet into the snow and push into the woman. The knife slipped deeper into her, each agonizing centimeter eliciting another shuddering gasp from her tightening throat.

The ranger bent in a ‘C&#39; over Summer, her arms outstretched and blood melting its way through the snow and forming a small pool beneath them.

In a quick motion, Summer withdrew the knife from the woman&#39;s chest, and then slammed it back into the her center mass again, not caring where it landed or if she broke any bones, only wishing to be far, far away from her own body right now. She thought of home, in Colorado. She thought of her brothers and sisters, her litter mates that she cared for as a pup. She thought of warm things, soft things, making others happy.

&lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt; &lt;em&gt;I hate this.&lt;/em&gt;

And that was it. The ranger crumpled forward, face first into the snow, where she no longer moved. The corgi stared at the body dumbly for a few seconds, her throat tightening again.

From the buzzing of her collar, she began to understand the gravity of what she&#39;d just done. Minor tremors of adrenaline shot themselves through the corgi, working their way through her, until panicked tears sprang into her vision. She began to gulp air, feeling as though there wasn&#39;t enough in her lungs. It was like trying to shape water.

[[Continue-&gt;Summer is attacked | flashback 6]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;knifeStab&quot; volume 0.5 play&gt;&gt;
&lt;&lt;timed 7s&gt;&gt;&lt;&lt;audio &quot;knifeStab&quot; volume 0.5 play&gt;&gt;&lt;&lt;/timed&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="92" name="Summer is attacked | flashback 6" tags="ship" position="3,6560" size="100,100">Another jolt brought her to her knees, nearly on top of the slain ranger. She let out a panicked yelp, but not because of the collar or its vise grip on her neck.

&lt;em&gt;Dear God, what have I done?&lt;/em&gt;

When the worst of the jolts were over, Summer turned over the ranger&#39;s body. She felt her throat tighten again when she saw the woman&#39;s face.

&lt;em&gt;So young&lt;/em&gt;.

The ranger&#39;s eyes were bulging from her skull, face paled. A thread of dried blood had glued a lock of her red hair to her skull. Summer didn&#39;t bother to pull back the ranger&#39;s hood or pull down her scarf. It felt wrong, like desecrating a body. Even with the most sincere of intentions, she couldn&#39;t do it.

But she had to survive. She could still feel the blow to the back of her head that had initially knocked her unconscious, throbbing like a dull and distant bell ringing. Shucking her gloves, Summer went through the ranger&#39;s pockets, feeling around for something that might resemble a pair of snowmobile keys. 

When she found them, she also found a hard, square piece of plastic in one of her coat pockets. She drew both the keys and the object from the coat pocket and examined them.

It was an ID.

&quot;Beatrice Weber&quot;, Summer repeated, reading the name from the ID. She was 19 (born just days apart from Summer), young and beautiful, hailing from Ontario, Canada. A natural redhead. Brown eyes. Probably had a family that loved her. In the ID, she was wearing a weak smile, the kind a shy person might make when they&#39;re nervous.

&lt;em&gt;You&#39;re just a kid&lt;/em&gt;, Summer thought. Her collar flashed &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt; again when the realization hit her: &lt;em&gt;I just killed a kid.&lt;/em&gt;

She knew she had to leave. There could have been more rustlers nearby. Maybe she was part of a group?

Retrieving her torn scarf from the base of the tree, she took one last look at Beatrice&#39;s body. Hot blood spread out in the snow beneath her in a crimson pool, melting the snow.

&lt;em&gt;I&#39;m sorry&lt;/em&gt;.

[[Continue-&gt;End of Summer Attacked]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;dogYelp&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;collarZap&quot; volume 0.5 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="93" name="End of Summer Attacked" tags="new-content-flag ship" position="64,6712" size="100,100">Summer went quiet after she finished telling her story, and it hadn&#39;t occurred to me that I&#39;d been holding my breath since she started.

&quot;The other story,&quot; Summer said, exhausted, &quot;I&#39;ll save for another time.&quot;

My eyes wandered over to the heap of scarf on Summer&#39;s desk. The very first time I&#39;d met her, that was one of the first things I noticed — the hole in her scarf. &lt;em&gt;Like someone had slashed it open in the middle.&lt;/em&gt;

&quot;I&#39;m sorry,&quot; I began, not knowing where I&#39;d end up. Apologies weren&#39;t my strong suit. &quot;I&#39;m sorry that you had to go through all that. You were just a kid.&quot;

&quot;So was she,&quot; Summer reminded me. &quot;She was jus&#39; a kid like me. An I did what I had to do. You don&#39;t take this type of work an expect to get out withou scars.&quot;

&quot;I know but-&quot;

&quot;We aren&#39; super heroes, Hunter. There is no good or evil out here, juss cold wind and colder people.&quot; She let her last syllables hiss off into quiet, empty space.

The fire snapped and shifted, restless in the long night.

&quot;You don&#39;t really believe that, do you?&quot;

&quot;What?&quot;

&quot;That we&#39;re not the good guys?&quot;

&quot;I thought I was doin&#39; good for the people here, but I couldn&#39; even save Jesse today on the docks.&quot; Her &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; softened. Maybe it was the glint of the flames, but I swore I saw tears welling up there.

&quot;I wanna be a good guy, though. You know, I grew up reading about super heroes s&#39;alot. Samurai Outlaw, Hurricane Jones, Superman... real tales of redemption and courage. Ann&#39; some days I feel like I&#39;m making a difference out here for people, juss like them. Ann other days I&#39;m stabbing a 19-year-old in the heart.&quot;

The fire was burning down now, casting everything in the room in a bronze glow. We said nothing, just listened to the wind pepper the station, and watched as our shadows danced together on the walls.

&quot;Hunner?&quot;

&quot;Yeah?&quot;

&quot;Please,&quot; she said, &quot;stay here tonight? I don&#39;t want be alone right now.&quot;

[[Continue-&gt;Please stay here tonight]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked new story content!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $summersPastStory1 to true&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="94" name="Please stay here tonight" tags="ship" position="381,6339" size="100,100">I found myself on the couch with Summer, just centimeters apart from the tiny anthro. It wasn&#39;t a big couch. Summer was panting still, her collar&#39;s indicator light glowing &lt;span id=&quot;collarGood&quot;&gt;green&lt;/span&gt;. 

The fire crackled as it threw off the last tendrils of flame, reducing itself down to a weak, charcoal smolder. Without even thinking, my right hand found itself on Summer&#39;s head, index finger brushing through her short coat, palm smoothing back her hair. And this continued for some time — me stroking the top of her head, coaxing all the anxiety and fear and regret out of her in one gentle motion after another, assembling in her mind thoughts of peace, comfort, stability and home.

The heavy thump of her tail against the couch drew me out of my exhausted trance. I practically threw my hand back into my lap when I realized what I was doing.

&quot;Why&#39;d you stop?&quot; Summer said dreamily. &quot;That felt good.&quot;

&quot;Really?&quot; I asked, heart hammering. 

&lt;em&gt;Isn&#39;t this offensive to dogs or something?&lt;/em&gt;

I put my hand back on the corgi&#39;s head and began stroking once more, this time slower, each ministration coaxing a contented whimper from the corgi. &quot;It feels that good? This doesn&#39;t bother you?&quot;

&quot;Yeah, it feels so calming. Like…&quot; Her tail continued to thump against the couch like a dull drum.

She never finished her sentence. Her head drooped a little, like her neck had given up. Within a few minutes she was asleep, her tail no longer colliding into the meaty fabric of the couch.

&lt;em&gt;We&#39;ve both had pretty big days.&lt;/em&gt;

I draped my peacoat over her, leaned back into the couch and let my heavy eyes fall shut, surrendering to the darkness and the sound of the cold air entering Summer&#39;s lungs, leaving warmer for having known her.
&lt;&lt;nobr&gt;&gt;
&lt;&lt;if $summersPastStory1 is true&gt;&gt;
&lt;em&gt;Like a flower blooming through frost.&lt;/em&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
[[Continue-&gt;Day Two]]
&lt;strong&gt;PLEASE SAVE YOUR GAME HERE!!&lt;/strong&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;Dirtmouth&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="95" name="Docks flashback 2" tags="ship" position="143,5640" size="100,100">She sat alone in the ranger station, the waning gray light of the afternoon filtering through the windows. It was cold in here — so cold that she could see her weak breath. She looked down and undid her &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt; from around her neck, the one with the hole in it, like someone had stabbed the fabric. Well, that wasn&#39;t entirely untrue. Someone &lt;em&gt;had&lt;/em&gt; stabbed a hole through the fabric. But that was years ago.

Today had been a long, long day, so much so that its contents came roaring back at her all at once, like a flood, dams bursting and breaking, levees failing, and &lt;em&gt;bodies thrashing in the lake&lt;/em&gt;.

She drew a deep breath and tried to collect herself.

&lt;em&gt;Meeting Hunter.&lt;/em&gt;

&lt;em&gt;Introducing him to June.&lt;/em&gt;

&lt;&lt;if $snowmobileRace is true&gt;&gt;
&lt;em&gt;The snowmobile race.&lt;/em&gt; 
&lt;&lt;/if&gt;&gt;

&lt;em&gt;Hunter killing Jesse.&lt;/em&gt;

&lt;strong&gt;&lt;em&gt;James and Cale.&lt;/em&gt;&lt;/strong&gt;

She felt helpless, bereft of control. Lately she&#39;d been feeling that way more than she usually did.

She [[forced her eyes shut-&gt;Docks flashback 3]]
&lt;&lt;nobr&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="96" name="Docks flashback 3" tags="ship" position="149,5786" size="100,100">She could see Jesse, the least weasel, haunting the space behind her eyes. She&#39;d seen him around town maybe once or twice, but never knew his name until today.

The skull fragments. The blood trickling into the water. The way his eyes still bulged out of his now shattered face. 

Summer&#39;s heart hammered in her chest. Her &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; fluttered open and blood thundered to her skull. It was like she&#39;d been plugged into some great electrical field of guilt, none of which belonged to her, yet was there all the same.

&quot;I&#39;m sorry,&quot; she said to the empty room, hoping to ease the panic. &quot;It was out of my control.&quot; Her attention shifted in between heartbeats.

The corner of the room.

Behind the trash can.

&lt;em&gt;Maybe…&lt;/em&gt;

She shook the thought loose. It had only been a few days since her last recovery trip out to the wastes in her trawler. 

&lt;em&gt;I&#39;ve been sober for weeks, though&lt;/em&gt;, she reminded herself. &lt;em&gt;It won&#39;t happen again&lt;/em&gt;.

The corgi went into the small attached bathroom and splashed some water on her face, letting it soak into the shag of her fur. She drew her face up from the shallow well of the sink and looked into the mirror. Her wet fur was plastered to her muzzle, stubborn &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; ringed with dark circles that shone through her unbrushed coat, like worn brick buildings in abandoned factory towns that refused to fall.

[[Continue-&gt;Docks flashback 4]]</tw-passagedata><tw-passagedata pid="97" name="Docks flashback 4" tags="ship" position="146,5938" size="100,100">A gunshot rang out, shattering the silence. Summer ducked, paws clapped tightly over her ears to blunt the sound. Her collar glowed &lt;span id=
&quot;collarZap&quot;&gt;red&lt;/span&gt; in the dark of the bathroom, the color of the blood now pulsing behind the corgi&#39;s eyes.

She kept her head down for a few more seconds, the kick drum of her heart pounding away in her chest. When she didn&#39;t hear a followup shot, she slowly raised her head and peeled her eyes open.

The mirror was intact, not shattered. And she was alive, drawing labored breaths. Not bleeding.

She went out into her office to have a look. The door was locked.She tested it twice, earning a metal click as the tumblers caught. 

Standing on the couch in her office, she looked out her window facing the frost way. A snowmobile rumbled past, billowing trails of black smoke behind it. The muffled sound of gunshots found her ears.

&quot;It was just a rig,&quot; she said, breath fogging up the glass. She climbed down from the couch, but not without considerable effort — the tremors running through her legs made the whole thing feel like a tightrope operation. &quot;Just gotta steady the nerves a bit, that&#39;s the plan,&quot; she said to herself, climbing into her office chair, ready to start the report on Jesse today.

She threw a nervous look to the corner of the room at the trash can as a low whimper worked its way out of her throat. She still felt lightheaded and anxious, like the room had been vacuumed clean of oxygen.

The report was open on her computer, but the words wouldn&#39;t come, as if they had been stuffed up in her head. She stared dimly at the old CRT screen and watched the cursor wink at her. &lt;em&gt;Like it was taunting her&lt;/em&gt;.

&quot;It was just one junkie!&quot; she exclaimed, more so to hear herself say it, shaking the idea loose from her head. &quot;An-and there was nothing we could do. If we hadn&#39;t shot him, we&#39;d have two bodies, not just one.&quot;

&lt;em&gt;You can&#39;t save them all.&lt;/em&gt;

She clutched at her ears and gave them a sharp twist. &quot;Shut up! That&#39;s not what this is about, anyway!&quot;

&lt;em&gt;You&#39;re not well yet. Your last trip out to the wastes wasn&#39;t long enough.&lt;/em&gt;

She paused. Maybe that voice in her head — her own — was right. She hadn&#39;t fully recovered from her dependency. The idea rang loud in her head with the clarity of polished crystal.

She&#39;d go back out there. But not yet. She needed supplies, anyway.

Her eyes wandered over to the safe.

[[Continue-&gt;Docks flashback 5]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;gunshot&quot; volume 0.8 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="98" name="Docks flashback 5" tags="ship" position="146,6086" size="100,100">It was a distraction at best, and she knew it. She bought a handful of supplies that she needed from Provisions: scent masks, heat blockers, a gun, ammo, rope, rations, etc. The vodka was for her. She labored her way towards the ranger station, arms burdened with paper sacks. The corgi had almost made it back to the station when a tear developed in one bag, right at its base. A bottle of vodka dropped right into the snow, along with her rope and rations.

&quot;Damnit!&quot; she exclaimed. Nobody was really on the frost way, at least that she could see. The towering height of the bags blocked her sight.

She set the other bag down into the snow and bent over to pick up the bottle.

There was another hand on it — a pale, human hand.

&quot;Mercer&#39;s.&quot; James said, plucking the clear bottle out of the snow and holding it up to his face. &quot;I haven&#39;t had vodka in at least a year or two. This is good stuff.&quot;

&quot;You really think that stuff is good?&quot; Summer replied sheepishly. James stood before her, just outside the ranger station. He wasn&#39;t alone. Two female arctic foxes flanked him, both wearing identical black coats and goggles. They were at least half of James&#39;s height, and slightly taller than Summer herself. She wasn&#39;t worried about them — they were slender, wiry, bodies lithe with a predatory grace. It was James&#39;s presence that &lt;span id=&quot;collarWarning&quot;&gt;set her collar on&lt;/span&gt;. 

The human took notice with a raised eyebrow. &quot;Well, it&#39;s all we can get out here, anyway. Want some help carrying all that?&quot; The question was more of a formality. Before Summer could answer, James had the ripped bag easily in his hands, supporting the bottom.

&quot;Th-thanks,&quot; Summer said, quietly grateful that he had lifted her burden.

&quot;Don&#39;t mention it. So, headed to the station?&quot;

&quot;Yeah-&quot;

&quot;Great, let&#39;s go,&quot; James said, ambling towards the station&#39;s doors. With one free hand he held open the door for Summer, who ducked beneath his arm and trundled inside.

&lt;em&gt;I can&#39;t let this go any further&lt;/em&gt;, she thought to herself.

[[Continue-&gt;Docks flashback 6]]

&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;audio &quot;snowMobilePass&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;audio &quot;Dirtmouth&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="99" name="Docks flashback 6" tags="ship" position="145,6236" size="100,100">James set the bag down in the corner of Summer&#39;s office. The corgi followed suit.

&quot;Thanks, James,&quot; she said. She opened her mouth to ask him to leave, but the human spoke first.

&quot;Listen, I heard what happened on the docks today to Jesse,&quot; he said. He paused, his &lt;span id=&quot;jamesEyes&quot;&gt;gray eyes&lt;/span&gt; locking onto Summer&#39;s, his soft and kind, hers evasive and tired. &quot;Are you doing okay with everything?&quot;

Summer stiffened her spine. &quot;What makes you think I&#39;m not?&quot;

He motioned towards the bottle of Mercer&#39;s vodka. &quot;I haven&#39;t seen you drink in a long, long time. When I heard that the new ranger had killed Jesse, I thought I&#39;d come and check up on you.&quot;

&quot;His name is Hunter, and…&quot; she trailed off, letting her words trail into space.

&lt;em&gt;This is dangerous. I need to get him out of here.&lt;/em&gt;

James fixed her with a sympathetic look. &quot;You know, I just got some more of your medicine in. Really pure stuff — fresh, too.&quot;

Summer&#39;s heart skipped in her chest. She was afraid of this, because the idea of having another hit was, in her mind, somehow worse than Jesse&#39;s corpse on the dock. And it&#39;d help. She could just have one hit, one needle, one pill, one vein more, and that&#39;d be it. It wouldn&#39;t be like last time.

&quot;You know we&#39;re just trying to help you out here,&quot; James said. &quot;You can say no. I won&#39;t be offended.&quot;

Summer&#39;s eyes trailed the human&#39;s hands as he dug them into his pants pocket. A low whimper escaped her as her tail fanned unconsciously with need. Her collar pulsed faster and faster on her neck, transitioning from &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt; to &lt;span id=&quot;collarZap&quot;&gt;red&lt;/span&gt;.

James smiled. &quot;So, I take it that&#39;s a yes?&quot;

&lt;em&gt;Don&#39;t do this to yourself. Don&#39;t do this to June or Hunter.&lt;/em&gt;

She was staring for too long. James snapped his fingers twice. The corgi shook her head, as if throwing off thoughts of relapse.

&quot;N-no, no thanks James. Not this time. Not any more,&quot; she said, taking a slight step back.

The human gave an uninterested shrug and withdrew his hands from his pockets. &quot;No worries. Suit yourself.&quot; His eyes fell on her collar. Despite scarf wrapped around her neck, he could see its red indicator light pulsing. &quot;Well, how about we go and have a drink. That might take the edge off.&quot;

&quot;The edge?&quot;

James pointed down towards the corgi&#39;s throat. &quot;You&#39;re uhhh, flashing. Your collar.&quot;

&quot;Oh!&quot; Summer exclaimed, feeling a cocktail of embarrassment and panic flood her veins. A drink did sound nice, actually. It might help her calm down. The anthro forced a smile, and said &quot;I was planning on it, anyway.&quot;

[[Continue-&gt;Docks flashback 7]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; stop&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; volume 0.5 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="100" name="Docks flashback 7" tags="ship" position="144,6388" size="100,100">The first drink cut a path down her throat. On the one hand, the warmth was welcome. On the other hand, it tasted vile, like markers. Still, for anthros, one drink was plenty.

She was already feeling a lot better, sitting at Jumping Jack&#39;s saloon, James at her right. She pushed the glass away from her and looked over at the foxes at the end of the bar — no doubt there to guard James.

&quot;Hey James,&quot; she looked to her right at the human, and couldn&#39;t help but notice that her glass had mysteriously refilled itself. &quot;What&#39;s with those foxes over there?&quot;

James shrugged. &quot;Protection. I figured with outsiders coming into town, it wouldn&#39;t be a bad idea to have a few predators around me, just in case things get a little dicey. Disabled their shock collars and everything.&quot;

&quot;And you&#39;re not worried about being found out? You know they send a signal when they get turned off, right?&quot; Summer replied, taking another slug of her freshly refilled drink. She was creeping into human portions territory.

&quot;I&#39;m not worried,&quot; James downed a shot. &quot;I&#39;d do yours if you wanted.&quot;

The thought had crossed her mind more than once, and each time she decided against it, determined to overcome whatever ailed her through sheer force of will alone. She didn&#39;t need help. &quot;No, I&#39;m good,&quot; she said with another hearty sip. Warmth blossomed in her stomach and worked its way through her core and extremities. 

James shrugged. &quot;Suit yourself. My point remains — better safe than sorry.&quot;

&quot;So where&#39;s Cale? No offense to your ‘bodyguards&#39;, but he&#39;s a bit scarier,&quot; Summer said, already feeling a bit of a drunken slur creeping into her words. She was two glasses deep as James poured her a third.

&quot;He&#39;s busy at the docks right now, cleaning things up,&quot; James said, throwing back another shot. &quot;He won&#39;t be joining us tonight. Hence the preds.&quot;

&lt;em&gt;Preds&lt;/em&gt;. The word didn&#39;t bother her so much. At least, not with more vodka rolling past her eager tongue. She lapped happily at the top of the glass, forgetting what it was she had come here to do.

&quot;Jesse was taking too much shard,&quot; James said, resolutely. &quot;&lt;em&gt;Wayyyyyy&lt;/em&gt; too much.&quot;

&quot;Any shard is too much shard,&quot; Summer said. She&#39;d never tried it and had no inclination to do so. The white, crystalline drug scared her. She could picture little shards of glass in her veins, tearing up her body, speeding her heart and setting off her collar.

&quot;It&#39;s not as bad as you might think. I just take a little bump in the morning and I&#39;m good the rest of the day. If I&#39;m looking for a good time, I take another. As long as you control yourself, it&#39;s not a problem. Jesse was taking hits all day and night.&quot;

&quot;Yeah,&quot; Summer said, lapping again at the vodka with her long, pink tongue. &quot;He said you and Cale were going to kill him. What was that about?&quot;

James set his glass on the table and stared ahead, jaw set in a hard line, brow furrowed. He didn&#39;t speak for some time. &quot;We weren&#39;t going to kill him. Just make sure he paid back what he owed for the shard… and some other things.&quot;

The room was spinning and Summer&#39;s inhibitions seemed to wash right off of her, like layers of a cocoon peeling. She filled her glass again with shaking hands, getting most of her vodka on the table. If Tress were here, he&#39;d have cut her off already, but he was nowhere to be seen. &lt;span class=&quot;drunk&quot;&gt;&quot;So what about that beaver that Jesse had?&quot;&lt;/span&gt;

&quot;No idea. Probably just some poor bastard that was in the wrong place at the wrong time.&quot; James said, taking another brooding slug. He looked over at Summer, struggling to fill her glass again, like a bug flipped on its back. Seeing her struggle, he snatched the bottle out of her hands and poured her glass to the rim. &quot;Jesse&#39;s better off dead, anyway. Worthless jagged jaw. Junkie scum.&quot;

&lt;em&gt;‘Worthless jagged jaw. Junkie scum.&#39;&lt;/em&gt; — the words were harsh against her sensitive ears. She pushed her thoughts and feelings down. Now was not the time. &lt;span class=&quot;drunk&quot;&gt;&quot;Thass a lot,&quot;&lt;/span&gt; Summer said, examining the brimming cup.

James looked straight ahead, hands wrapped tightly around his own glass. &quot;You don&#39;t have to drink it if you don&#39;t want to.&quot;

The drinks were helping, that much was true. She&#39;d already mostly forgotten why she was here. She knew it had to do with Jesse, but it was a massive weight off her shoulders to not have to feel those pangs of regret again. The thought of Hunter came up, the gun smoking in his hands. Did he really not value the lives of others like she did?

&lt;em&gt;I&#39;m sorry&lt;/em&gt;, she thought, &lt;em&gt;that I can&#39;t be a better ranger for you or for anyone else in this town.&lt;/em&gt;

[[James turned his head towards the door. A cold draft wafted in. Summer took another slurp of her drink, too lost in thought to see who had just walked into the saloon.-&gt;Docks flashback 8]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="101" name="Docks flashback 8" tags="ship" position="148,6545" size="100,100">Summer shifted on the couch, orienting her back against the cushion. She wasn&#39;t in the bar anymore. She was alone with me, a human she&#39;d only met that day, and so she&#39;d left out quite a few details in her story. The corgi went quiet after she finished telling her story, and it hadn&#39;t occurred to me that I had been holding my breath since she started.

&quot;The other stories,&quot; she said, exhausted, &quot;I&#39;ll save for another time.&quot;

&quot;So, you came back, bought supplies, met James, and that&#39;s it?&quot; I asked, doubt creeping into my tone. 

What she had neglected to tell me was her struggle with the frost honey. In her heart, Summer knew I knew more about her than I was letting on. 

&quot;Right,&quot; she said. &quot;That&#39;s it.&quot;

The fire snapped and shifted, restless in the long night.

My eyes wandered over to the heap of scarf on Summer&#39;s desk. The very first time I&#39;d met her, that was one of the first things I noticed — the hole in it. &lt;em&gt;Like someone had slashed it open in the middle.&lt;/em&gt;

Summer looked like she was deflating, and, despite the fire, she was freezing over even in her sweater. I undid my peacoat and threw it over at Summer. It was large enough to smother her entirely.

&quot;What are you doing?&quot; Summer said, pulling down the coat until it no longer covered her blushing red face.

&quot;You look cold,&quot; I said, sheepishly as I rolled my chair towards the fire. &quot;So I thought I&#39;d offer.&quot;

The fire snapped and popped.

&quot;It smells good,&quot; she said in a quiet, weak voice, breathing deep, inhaling my scent.

&quot;Is that a dog thing?&quot;

&quot;I don&#39;t know. I think so?&quot; She drew the coat up to partially cover her face. &quot;I just like the way it smells.&quot;

&quot;Wonderful. Well, you can keep it for tonight,&quot; I said, rising from my chair and stretching out my limbs. It was well past midnight. &quot;I really gotta get some rest. Big day and all that.&quot;

I turned to leave, but something about the way Summer looked at me caught my attention. Her &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; softened. Maybe it was the glint of the flames, but I swore he saw tears welling up there. &quot;Please,&quot; she said, &quot;stay with me tonight? I don&#39;t wanna be alone right now.&quot;

[[Continue-&gt;Please stay here tonight]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked new game content!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="102" name="Ask her about the safe and the frost honey | 1" tags="incomplete" position="1206,6791" size="100,100">&quot;That&#39;s bullshit. June has the key,&quot; Hunter said, thinking back the way she had held it in her garage office. &quot;When we went looking for you, that&#39;s the first thing she checked — if you had taken the key to that safe from her office. She was so, so worried about it, and about you. You know that?&quot;

Summer&#39;s collar began to pulse &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt;, but she didn&#39;t seem panicked — at least on the outside. Aside from her sharp ears folding flat against her skull, she seemed to deflate more than panic. &quot;I should have figured you two would check there first.&quot;

&quot;And she told me,&quot; Hunter said, evasive eyes flicking away from the corgi, &quot;she told me that there&#39;s a lot of money in the safe, but you&#39;re not allowed to have at that money.&quot; Just talking about the money in the safe, and what it might be used for, made Hunter feel like he was crushing a very small, helpless thing beneath his heel. And it felt bad. Very, very bad. He put his focus on the corgi&#39;s scarf on her desk, trying to avoid looking right at her.

The scarf was torn with a large hole in it, like someone had taken a knife to it.

&lt;em&gt;Did I hurt her? Did I go too far?&lt;/em&gt;

&quot;I shouldn&#39;t have expected to keep it a secret from you for long,&quot; she said, resolution gathering in her tone like storm clouds gather overhead. The snow was just starting to fall. &quot;It&#39;s not a secret around North Station, so why should I expect any different from you? You&#39;re a part of this place now, at least until the next bus comes in about a week, or James and Cale get tired of having an outsider hanging around.&quot;

She sighed deeply, at last exhausting the small wells of her courage in one single sentence. &quot;So yes, I have struggled with addiction before. I&#39;m still struggling.&quot;

&quot;Summer-&quot;

&quot;I&#39;m struggling, and…&quot; she flashed a weak, tired smile at the human, &quot;…and I think I&#39;m winning. Today is a small victory. It&#39;s proof that there&#39;s a lot more bite to my bark, you know?&quot;

[[Continue-&gt;Ask her about the safe and the frost honey | 2]]</tw-passagedata><tw-passagedata pid="103" name="End of frost honey dialogue" tags="incomplete" position="1337,6757" size="100,100"></tw-passagedata><tw-passagedata pid="104" name="TO DO" tags="" position="3,113" size="100,100">&lt;ol&gt;
&lt;li&gt;Fix the scene &quot;Hunt for Summer at the station&quot; and remove any references you make to the finding of the key. That happens at June&#39;s Garage, which is after that passage.&lt;/li&gt;
&lt;li&gt;Make June&#39;s garage searchable for the key (you&#39;ve already set the boolean $playerHasFoundSummersKey to true, so this unlocks an additional dialogue path)&lt;/li&gt;
&lt;li&gt;Create a more meaningful game-tool-tip effect (located in June&#39;s garage right now)&lt;/li&gt;
&lt;li&gt;Make sure that you make use of the $playerHasMetRouve boolean for future scenes&lt;/li&gt;
&lt;li&gt;Explore new fonts?&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Maybe:&lt;/strong&gt; find a good CSS hover reveal I can use for the fire sequence.&lt;/li&gt;
&lt;li&gt;Age Rouve down. Hunter is about 25, so Rouve should be 21 or 22, make it so that she&#39;s protecting her younger brother Otto and running the store herself. She is also a virgin, so make that a part of the plot.&lt;/li&gt;
&lt;li&gt;Find music for Rouve&lt;/li&gt;
&lt;/ol&gt;</tw-passagedata><tw-passagedata pid="105" name="Booleans and Variables" tags="" position="3,223.33333333333334" size="100,100">$playerMetRouve to true in Hunt For Summer Provisions | 2
$playerFoundSummerKey in In June&#39;s Garage
$summersPastStory1 in End of Summer Attacked
$playerSpeaksToTress in Buy Another Round
$playerMetSummer in Meeting Summer
$playerMetTress in Order a drink and breakfast with summer
$playerMetOtto in Hunt for Summer Provisions
$hunterKnowsAboutAddiction in Hunt for summer at the station
$hunterWinsAgainstJune in gun it forward and summer tackles hunter
$tressThreatensHunter in anger cale
$playerMetCale in Frostburn1
</tw-passagedata><tw-passagedata pid="106" name="Ask her about the safe and the frost honey | 2" tags="incomplete" position="1206,6941" size="100,100">&lt;em&gt;&quot;Today is a small victory.&quot;&lt;/em&gt;

&quot;Look, it&#39;s not my place,</tw-passagedata><tw-passagedata pid="107" name="Day Two" tags="incomplete" position="401,6475" size="100,100">&lt;strong&gt;!!IN PROGRESS!!&lt;/strong&gt;

Welcome to the end of this update. Thank you for playing, and please know that this project is actively in development. As it stands, you have just read through 55k words of content, so thank you for that.

I can be contacted here: https://oliver-hart.sofurry.com/
Or via email here: oliverhart774@gmail.com

The following link will take you back to the dock scene.
[[Back to the docks-&gt;To shoot or not to shoot 2]]

[[Day two hub]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;eau&quot; stop&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="108" name="&quot;Come with me. Something has happened.&quot;" tags="ship" position="233,3881" size="100,100">I started for the door. June flashed me daggers. &quot;No time to babysit humans,&quot; she said, voice dripping with venom.

&quot;Sorry June,&quot; Summer said, pulling on her coat. &quot;I want Hunter to come along with me on this one as well. He needs to be able to handle these types of things on his own.&quot; She wrapped her own &lt;span id=&quot;scarfColor&quot;&gt;torn scarf&lt;/span&gt; around her collar and started for the door, me in tow.

The doe grunted, but stepped aside, allowing me and Summer to pass.

&quot;You were gone for all of five minutes,&quot; I remarked, pulling open the doors to the station and stepping out onto the frost way. &quot;Someone steal your salt lick?&quot;

&quot;No,&quot; June said coldly. &quot;You will see. Now both of you are following me back to the garage.&quot;

[[Continue-&gt;Garage is Broken Into]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; stop&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="109" name="Garage is Broken Into" tags="ship" position="225,4021" size="100,100">June had her stereo playing again — I could hear it from the frost way. The siren song of crushing guitars and meaty bass licks combined mixed with the sound of snowmobiles easing by to form a kind of schizophrenic storm in my mind, blurring my thoughts together.

&quot;What&#39;s the hurry?&quot; Summer said, stumbling to keep up with June, but still a comfortable distance ahead of me. Her short legs weren&#39;t doing her any favors. June had hit a powerful stride now, her thick work boots pulverizing the snow beneath her. Even me, who was taller than June, and arguably in better shape, was puffing by the time we got to the garage.

&lt;hr&gt;

&quot;Ah, I see what the rush was all about,&quot; Summer said.

We were standing in June&#39;s office, amidst the ruins of her desk, filing cabinet, couch and old work computer, which was a shattered shell of its former self. The cramped office felt even more cramped now that it had been thoroughly ransacked. Loose work orders coated every available inch of floor like a layer of clerical snow. Her blinds hung like shitty Christmas lights from her windows, and her office chair had clearly been hacked into with a blade of some kind.

&quot;Is this how you live?&quot; I asked, turning to face the doe. &quot;Because if so, I have to say: not surprised.&quot;

June threw hers arms up into the air. &quot;Oh, you thinking this is funny? This is all a big joke to you? That someone came and tore through my office like it was tissue papers on Christmas?&quot;

&lt;em&gt;Yeah, kind of.&lt;/em&gt;

I smiled. &quot;Of course not, Rudolph. You remembered to lock your office up before you came with us today, right?&quot;

&quot;Did you not seeing the door on its hinges when we came in?&quot; She went over to the door, which was indeed hanging on one of its hinges. For good measure, she bent down and twisted the knob, which responded with a metallic &lt;strong&gt;click&lt;/strong&gt;.

&quot;No, someone busted down this door and tore apart my office. This is the work of a bear, or some large predator. It was probably Cale,&quot; she spat. &quot;That big fat fuck has probably grown tired of me tormenting James. He does not scare me like he scares everyone else. Give me one good swing with a wrench-&quot;

&quot;Could&#39;ve been a moose,&quot; Summer said, carefully pawing around the office, examining the slash marks in June&#39;s chair where the stuffing was bulging outward. 

&quot;A moose with a knife or something,&quot; I added.

&quot;There are no moose in North Station, unless they arrived with the human,&quot; June said. She then looked towards me. I responded by shaking my head in confirmation.

&quot;It was just me and Cale last night. On my mother&#39;s honor,&quot; I said.

&quot;That a human thing?&quot; June asked, slightly curious.

&quot;Well, I&#39;ve never heard any mammal use it besides other humans. That and pinky swearing.&quot;

The doe raised a judgemental eyebrow. &quot;You do &lt;em&gt;what&lt;/em&gt; with your pinky fingers?&quot;

Summer picked up a stack of papers and leafed through them. &quot;My nose isn&#39;t picking up anything particular, predator or herbivore. They must have covered their scents somehow. Missing anything?&quot;

June cleared her throat. &quot;Yes, as a matter of fact. They went after the spare snowmobile and trawler keys in the safe. There are claw marks all over it.&quot; She paused, and then, in a low voice, said, &quot;And they went after your key.&quot;

Summer&#39;s spine stiffened, as if she&#39;d just been stabbed. &quot;They… went after my key?&quot; Her collar began to glow &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt;. &quot;That&#39;s not possible… how could they know?&quot;

&quot;I&#39;m telling you, it has to be Cale or James — they are the only two who might even know that it exists,&quot; June leaned against the door frame and crossed her arms, sighing. &quot;You know, I don&#39;t keep that one in the safe. I keep it in that little lockbox in my desk drawer.&quot; She nodded to her overturned desk.

Summer&#39;s eyes bulged. &quot;June, you didn&#39;t-&quot; Her breathing was ragged and hard, and I could see the steam of her breathing evaporating into the cold office.

&quot;Whoever was here took the lockbox with them.&quot; June then dug into the pocket of her work shorts. &quot;But they do not have the key,&quot; she said, withdrawing a small metal key, holding it out in her palm. &quot;I have been keeping this key with me for a few days now for just such a reason. Same with the key to my safe.&quot;

My eyes snapped to the object in June&#39;s palm. It was an ordinary key: small, metal, glinting in the overhead light. It looked like it weighed nothing at all, and yet, when Summer saw it, her body became unglued from itself. She let out a deep, relieved sigh as her collar blinked back to healthy &lt;span id=&quot;collarGood&quot;&gt;green&lt;/span&gt;.

[[&quot;What&#39;s so important about this key?&quot;-&gt;Importance of Key]]

Or

[[&quot;How do we find who did this?&quot;-&gt;How do we find who did this?]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;snowMobilePass&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;junesTheme&quot; volume 0.2 loop play&gt;&gt;
&lt;&lt;audio &quot;bootsSnow&quot; volume 0.2 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="110" name="StoryMenu" tags="noreturn" position="3,332" size="100,100">[[Characters-&gt;char_list]]
[[Credits-&gt;credits]]
&lt;&lt;link &quot;Return&quot; $return&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="111" name="Importance of Key" tags="ship" position="262,4185" size="100,100">&quot;What&#39;s so important about that key?&quot; I asked. The way it drained the color out of Summer&#39;s face, like it had unlocked the gates holding back a flood of anxiety.

Neither of the anthros spoke immediately. They exchanged concerned looks, which struck me as odd, because June had never, ever given a shit about me, or been one to spare my feelings. I remembered in bright flashes her fury towards me at the ranger station not but 30 minutes ago.

&lt;em&gt;So what&#39;s changed?&lt;/em&gt;

&quot;It&#39;s something very private to me,&quot; Summer said at last. Her tail started up again. &quot;A girl&#39;s gotta keep some secrets, right?&quot; Her voice was chirpy, and I liked it, but I had to admit to myself: I didn&#39;t believe a goddamn word of it. She was hiding something.

&quot;There&#39;s gotta be more to it than that. If it&#39;s worth tearing up June&#39;s office over, then it has to be really important, and somebody besides you two knows what that key opens.&quot; I threw my Hail Mary. &quot;I want to help…&quot; I searched their faces, as if the answer to my rambling plea was written in June&#39;s frown or Summer&#39;s smile. I put my attention on Summer, who I knew I could melt like butter. &quot;I want to make sure you&#39;re safe, Summer.&quot;

&quot;Y-you do?&quot; she stammered back, eyes shining, as if I&#39;d just shown her one of the great wonders of the world. No way it was this easy. June gave me a stern look, one that said, &lt;em&gt;&quot;We talked about this earlier, human.&quot;&lt;/em&gt;

&quot;Sure I do. I mean, if you get hurt or anything, June sure as shit isn&#39;t going to run the station, and I don&#39;t know how. Think of it as being good for the town.&quot;

&lt;em&gt;Besdies, how big could this &quot;secret&quot; be? It&#39;s probably something dumb, like a chew toy from her puppyhood.&lt;/em&gt;

&quot;Human-&quot; June started. I could sense she was preparing to unload on me. I moved to silence her, but Summer cut in first.

&quot;Tell you what,&quot; the corgi said. &quot;Why don&#39;t we try to find who tore up June&#39;s office first, and then we can talk about the key later. How&#39;s that for a plan?&quot;

June sighed and pinched her brow, squeezing frustration between her fingers. &quot;The ape does not need to be involved in this — I don&#39;t even know what he can provide that a good nose like yours cannot.&quot;

&quot;I want him to help us. Think of it like a training session. Besides, I already told you, there&#39;s too much going on in this office for my nose to be of any use,&quot; Summer said, back turned to me.

I stuck my tongue out at June. June flipped me off in exchange.

Then the corgi turned, glowing, tail wagging, &lt;span id=&quot;summerEyes&quot;&gt;green eyes shining with excitement.&lt;/span&gt; &quot;So what&#39;s our next move, &lt;em&gt;ranger?&lt;/em&gt;&quot;

I paused. I had no leads, and literally nothing to go off of. This was almost entirely a selfish move to find out what the key opened and to piss June off. I had almost succeeded in both, but at what cost?

I thought about today, and I had to wonder if this indeed had something to do with James or Cale, like June had implied. Then it hit me: Jesse. &quot;What happened to Jesse after he got taken away?&quot;

&quot;You mean after I saved your life?&quot; June scolded. &quot;Do not be leaving out this detail of my heroism.&quot;

I lamented. It wasn&#39;t worth getting into it with her right now. &quot;Yes, after June saved my life and knocked out Jesse… what happened to him?&quot;

&quot;That&#39;s… actually…&quot; An idea was flossing its way through Summer&#39;s brain. &quot;That&#39;s actually a good idea. When we left he was being carried away, but I&#39;m not sure by who. I think it&#39;s worth going down to the docks and investigating.&quot;

[[Continue-&gt;Investigating Jesse 1]]</tw-passagedata><tw-passagedata pid="112" name="How do we find who did this?" tags="ship" position="437,4183" size="100,100">&quot;How do we find out who did this?&quot; I asked, eyes searching Summer and June for the answer. They had to know better than me. I was a new fish. They were old fish. Just makes sense.

&quot;I don&#39;t know mister hotshot detective, that&#39;s why Summer has brought you with us, so you could offer some &lt;em&gt;valuable&lt;/em&gt; insight. But is sounding like you have nothing to offer, so we must be saying ‘goodbye&#39; to you.&quot; June made a waving motion with her paw. &quot;Goodbye, human. The little doggie and I can handle this.&quot;

&quot;He&#39;s staying, June. I want Hunter with us. It&#39;s good experience for him, and he might have some unique ideas. Humans are a lot craftier than we give them credit for.&quot; She turned and beamed up at me. &quot;Right?&quot;

June just sighed and shot me a dirty look.

To be honest, in that moment, the only idea on my mind was slugging June in the mouth. So when the little corgi asked me if I had any ideas, my mind was stuck on June and how she had saved me on the docks today, and how she had acted after.

&lt;em&gt;She&#39;s so protective of Summer, but Summer can very clearly handle herself. Why does she care so much about what happens to her?&lt;/em&gt;

Then it all came together for me, in June&#39;s demolished office. The docks. June. The wrench. Summer. Jesse.

&quot;Do you think the weasel is involved?&quot; I said to Summer. &quot;I mean, this probably happened while we were away at the docks dealing with him. Maybe he was a distraction or something like that?&quot;

&quot;You are thinking Jesse was being used?&quot; June said. Her curiosity did excite me a little — it felt rare to have her interested in something I was saying and not fuming at me.

&quot;That&#39;s… actually…&quot; An idea was flossing its way through Summer&#39;s brain. &quot;That&#39;s actually a good idea. When we left, he was being carried away, but I&#39;m not sure by who. I think it&#39;s worth going down to the docks and investigating.&quot;

[[Continue-&gt;Investigating Jesse 1]]</tw-passagedata><tw-passagedata pid="113" name="char_list" tags="noreturn" position="8,462.6666666666667" size="100,100">&lt;strong&gt;Please note that this section is still under construction. Meeting new characters will unlock their character entries.&lt;/strong&gt;

- Oliver
&lt;&lt;if $playerMetSummer is true&gt;&gt;
[[Summer Keaton-&gt;Summer_desc]]
&lt;&lt;endif&gt;&gt;
&lt;&lt;if $playerMetJune is true&gt;&gt;
[[June Magnus-&gt;June_desc]]
&lt;&lt;endif&gt;&gt;
&lt;&lt;if $playerMetRouve is true&gt;&gt;
[[Rouve &quot;Roo&quot; Pelletier-&gt;Rouve_desc]]
&lt;&lt;endif&gt;&gt;
&lt;&lt;if $playerMetTress is true&gt;&gt;
[[Tress Dupont-&gt;Tress_desc]]
&lt;&lt;endif&gt;&gt;
&lt;&lt;if $playerMetOtto is true&gt;&gt;
[[Otto Pelletier-&gt;Otto_desc]]
&lt;&lt;endif&gt;&gt;
&lt;&lt;if $playerMetCale is true&gt;&gt;
[[Cale Smithy-&gt;Cale_desc]]
&lt;&lt;endif&gt;&gt;
&lt;&lt;if $playerMetJames is true&gt;&gt;
[[James Lapp-&gt;James_desc]]
&lt;&lt;endif&gt;&gt;</tw-passagedata><tw-passagedata pid="114" name="Rouve_desc" tags="noreturn" position="128,698.0000000000001" size="100,100">!Rouve &quot;Roo&quot; Pelletier
A woman of intimidating build and broad shoulders, Rouve stands at an impressive six foot six, boasting the strength one would expect from a matured Arctic Wolfess, the two golden hoops around her ears and the focused amethyst gaze painting a clear picture of a strong woman willing to defend her own. The sudden outburst of giddy delight and almost innocent boasting after a certain revelation however hint she&#39;s not quite as agressive as she might seem.
!!Nationality
Canadadian
!!Species
Arctic wolf
!!Gender
Female
!!Eye Color
&lt;span id=&quot;rouveEyes&quot;&gt;Amethyst&lt;/span&gt;
!!Height, Weight, and Build
6&#39;6&quot; with a tough, athletic build. Estimated 200 pounds.
&lt;div class=&quot;charPortraitBox&quot;&gt;
&lt;img class=&quot;charBox&quot; src=&quot;img/rouve.jpg&quot;&gt;
&lt;/div&gt;
!Hunter&#39;s Notes
&lt;em&gt;&quot;Six feet and six inches of huge Arctic Wolfess that was about to maul me, before the Canine instinct kicked in and my &quot;green&quot; started showing. Went from trying to gut me to a pinky shake and showing off her &quot;hundreds of hours&quot; in herding arctic cattle to... seduce me I think? Everyone has their thing I guess, and between honey, shard and hitting on me, I&#39;d take that any day of the week, I guess.&quot;&lt;/em&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="115" name="Content to use (explanation of key)" tags="" position="222,121" size="100,100">This key is to a safe in the ranger station. Inside the safe there is a large sum of money — bills and coins and such — that I have agreed to manage for her. The Northern Station operates entirely on cash, so it is important for her to have some money, but not to be able to access it as she would like. So I agreed to hold on to the key for her. This is because…&quot; the doe trailed off, letting her words linger in the cold air, and for a time, there was nothing said between us except our hushed breathing. </tw-passagedata><tw-passagedata pid="116" name="Investigating Jesse 1" tags="ship" position="315,4331" size="100,100">The ride down to the docks that afternoon was uneventful. We tore down the hills that encompassed &quot;no-man&#39;s-land&quot; — the space between the town of North Station and the docks — at our usual pace: June roaring ahead, and me and Summer lagging a bit behind. 

No-man&#39;s-land was a wide strip of semi-barren land, pockmarked with trees that seemed to rise out of the hillside at random. Were North Station not remote, and were this area more developed, the terrain here would have made a great ski resort, I thought. No-man&#39;s-land was flanked on all sides by an impressive boreal forest, with pines likely older than the town itself. 

I had asked Summer one time about the forest, and she said that while mammals do often go into the woods, most of it is unexplored. 

&quot;The terrain is a bit dicey for trawlers,&quot; she said over the roar of the snowmobile. &quot;So you gotta take a rig in if you want to get anywhere. And it gets so dark so fast up here that few mammals will chance going into the woods without a trawler. I wouldn&#39;t feel safe going into the woods without one myself, hence why the woods are so unexplored.&quot;

What really struck me as odd, when I first learned all this, was that no development had been done to no-man&#39;s-land. The barren strip of ice and snow just refused to grow anything but the most stubborn of trees.

And I was getting used to the feeling of Summer at my back on the snowmobiles. I quite liked her there, her stout body resting against my own. It felt good to have her warmth and presence — like a piece of a puzzle falling into place. I guess, if I had to say, it made me a little giddie. Summer was so kind and accepting, and I could already feel good about my potential income working odd jobs with her. Also, it didn&#39;t hurt to feel her chest against me, but I enjoyed that for entirely different reasons. 

[[Continue-&gt;Investigating Jesse 2 | Meeting Rouve]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;junesTheme&quot; stop&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="117" name="Investigating Jesse 2 | Meeting Rouve" tags="ship" position="335,4462" size="100,100">The docks were still humming with a nervous energy. Mammals were moving about, going from their houses to their boats or trawlers, from loading bays to docks, carting in huge nets of northern gray fins. Everywhere I went I caught those strange eyes looking at me; nervous, untrusting. I was the predator, a human; they were the prey, mostly herbivores.

&quot;They are all looking at us strangely,&quot; June said, head on a swivel as we made for the pier where Jesse was last seen. &quot;Probably because of the human.&quot;

For once, I agreed with her. Word of my deeds today on the pier with Jesse must have spread fast. &quot;You know, you might not be wrong this time. No other humans out here besides me and James, right?&quot;

&quot;Well,&quot; Summer said, turning around. There was a skip in her step. &quot;It might be because you&#39;re a human, but also because you and I have our &lt;span id=&quot;scarfColor&quot;&gt;ranger scarves on&lt;/span&gt;. Usually when people see &lt;span id=&quot;scarfColor&quot;&gt;ranger scarves&lt;/span&gt; they assume something is going on.&quot;

I nodded in affirmation. I still wasn&#39;t use to wearing this thing — it seemed like it was such a quick affair. Miss a few shots on the pier and suddenly I&#39;m a local celebrity. I turned my head to my left and let the lake dissolve my internal struggle, drown it beneath its choppy water. I couldn&#39;t see the shore on the other side, especially not with the amount of boats and trawlers and rigs in the water, crowding the surf.

&quot;How big is the lake?&quot; I asked. 

Summer just shrugged. &quot;I have some topographical maps at the station somewhere, but it&#39;s a big lake. And out beyond the lake-&quot;

&quot;Is the wastes,&quot; June said in a grim voice. &quot;You want to go hide a body? Go out to the wastes. That is probably where they took Jesse after I scrambled his brain like an egg.&quot;

I sighed. &quot;I was hoping that one of you two might be able to use your nose and sniff out his scent or something like that.&quot;

&quot;Don&#39;t ask me to do it,&quot; June said. &quot;My nose is not as strong as the little doggy&#39;s.&quot;

&quot;Right…&quot; Summer said, pointing her conical canine nose into the air. She gave a few quick snorts, her wet black nose wrinkling in the cold air. June and I watched with mild fascination as the corgi plied her nature-given toolset to our problem After a few more silent seconds, the corgi&#39;s nose went back down. She turned to face us with an unsure expression. &quot;I don&#39;t have a good enough nose for this, and I don&#39;t know Jesse&#39;s scent well enough.&quot;

&quot;Is there anyone who you know of that can help us?&quot; I asked.

&quot;Maybe… maybe someone that&#39;s been in town a little longer,&quot; Summer said. &quot;Preferably a canine.&quot;

&quot;Maybe Rouve will show up,&quot; June said sarcastically. &quot;She is always trying to assail Summer with questions of ranger work and life outside. I bet her nose could do the job.&quot;

&quot;Who is Rouve?&quot; I asked.

&quot;She is a &lt;em&gt;nice&lt;/em&gt; young woman. She&#39;s just really… uh…&quot; Summer&#39;s tail suddenly stood straight up. &quot;Oh wow, talk about timing,&quot; she said in a quiet voice.

&quot;What?&quot; I asked, leaning over the corgi&#39;s shoulder, which was an easy task given her stature. &quot;Something come up on your radar?&quot;

Summer was peering straight ahead, her tail rigid and stuff like a rudder that no longer steered her tiny ship. Ahead of us: mammals. Behind us: mammals. Summer fixed her attention ahead and squinted.

&quot;Well, Rouve is here,&quot; Summer said. She jerked her head left and right, still squinting. &quot;I can &lt;em&gt;smell her&lt;/em&gt;, but I can&#39;t seem to find her.&quot;

&quot;That seems unlikely. I mean, it is Rouve, after all.&quot; June said, letting a puff of laughter leave her shivering chest.

&quot;Should I-&quot; I fumbled for words, now looking over my shoulder for someone who might look like a ‘Rouve.&#39; &quot;Should I be worried?&quot; 

I felt June&#39;s bony fingers digging into my shoulders, like the world&#39;s most painful massage. I turned to face her. &quot;Yes, human. Rouve will probably try to rip your lungs out when she meets you. You should not have come with us.&quot;

&quot;She will not,&quot; Summer groaned, looking back at the two of us. &quot;Rouve is just a little… excitable.&quot;

I heard a voice fast approaching.

&lt;strong&gt;&quot;SSSSUMMMMMMEERRRR!&quot;&lt;/strong&gt;

[[Continue-&gt;Investigating Jesse 3 | Meeting Rouve]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;citySounds&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;audio &quot;snowMobileIdle&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="118" name="Investigating Jesse 3 | Meeting Rouve" tags="ship" position="333,4608" size="100,100">June and Summer took hard dives to the left and right respectively, peeling away from me and leaving me the sole recipient of a 170 pound arctic wolf&#39;s tackle-hug.

I went down hard and fast, like, as June once put it, ‘like a sack of fish.&#39; I chunked into the black and trodden snow like the world&#39;s shittiest snow angel, stars blossoming in my vision like flowers.

Astride my crotch, panting her lungs out, was an arctic wolf.

&quot;Wait, who the hell are you?&quot; she asked, her pink tongue still dripping from her mouth like a huge chunk of taffy. She didn&#39;t move like I expected her to. People were staring at us, so I opened my mouth to spill the beans. I didn&#39;t get much further than half my name, when she looked down, saw my scarf, and practically lost her mind.

&quot;Holy crap!&quot; she exclaimed. &quot;You&#39;re that new ranger everyone&#39;s been talking up!&quot;

&lt;em&gt;People are talking about me?&lt;/em&gt;

&quot;Yeah, I guess I-&quot;

&quot;&lt;strong&gt;And you&#39;re a human!&lt;/strong&gt;&quot; Her tail lit up. &quot;Did you know you and James are the only humans out in North Station?&quot;

I got to know Rouve over a one-sided lap dance. It felt like she was putting the entire weight of her padded rear onto my crotch, and a primal part of me enjoyed that, but the socially conscious part of me was lighting up like brittle twigs doused in kerosene. Mammals were now stopping to gawk as Rouve machine-gunned questions at me. 

&quot;Where are you from?&quot;

&quot;Have you met James?&quot;

&quot;Can we do a pinky shake?&quot;

&quot;Why do humans smell so weird?&quot;

&quot;What&#39;s your &lt;em&gt;least&lt;/em&gt; favorite part about North Station?&quot;

I looked to June for help, but there she was again, doubled over with laughter, practically suffocating on the cold air.

&lt;em&gt;I hope you choke.&lt;/em&gt;

Summer came to my rescue. She managed, with some help from me, to pull Rouve off and on to her feet. Summer offered me her hands and pulled me up with little effort, another subtle reminder that this corgi was as sturdy as she was small.

Standing on my own two feet, I could get a much better look at Rouve now that she was no longer inadvertently grinding her ass into my crotch.

[[Continue-&gt;Investigating Jesse 4 | Meeting Rouve]]
&lt;span id=&quot;game-tool-tip&quot;&gt;You have unlocked a new character in the sidebar, as well as new story content!&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $playerMetRouve to true&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="119" name="Investigating Jesse 4 | Meeting Rouve" tags="ship" position="333,4763" size="100,100">I brushed myself clean of snow, sneaking quick glances at Rouve as she dropped onto one knee so she could better communicate with Summer. The two spent a good deal of time sniffing one another over, doing &lt;em&gt;canine things&lt;/em&gt; like licking each other&#39;s faces and all that good stuff that sails cleanly over my head like a chrome wrench.

I&#39;m a good six feet tall. I&#39;m not towering like Cale or James, but I&#39;m not short, like Summer. For a female of her species, she was not a typical example, at a sizeable 6&#39;6&quot; and likely still growing, covered from head to paw in blindingly white, poofy fur. Where most female predators had graceful, rolling shoulders and lithe upper-bodies built for speed as opposed to strength, Rouve seemed a kind of in-betweener. She was tall and semi-muscular, with broad shoulders that looked a bit awkward on her thin frame — like  a mishmash of parts, all cobbled together to form this twenty-something she-wolf. Here a pair of kind &lt;span id=&quot;rouveEyes&quot;&gt; amethyst eyes&lt;/span&gt; that bleed with femininity and care; there some biceps that could probably rival anyone of the opposite gender. Here a pretty generous pair of breasts that even her blue and white coat can&#39;t hide — there large and ungraceful digitagrade feet. Minus the toned thighs and her padded ass, were it not for the two rings pierced into her right ear, I would have assumed that she was a juvenile, still in her teens. Rouve had a youthful face, at least from what I could tell. It was shaped and feminine, with high cheeks dominated by the typical angular maw of a predator.

I finished brushing the snow off myself right as June stepped forward. &quot;If you&#39;re here, who is running the shop right now?&quot; she said.

Rouve, first glancing at me, and then to June, stood up and leaned easily on the warehouse&#39;s wall. The she-wolf then started examining her white paw, dusting over them with her &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt;, blowing on them as if she&#39;d just emerged victorious from a scrap. I couldn&#39;t tell if she was acting or not — it was all too grandiose, as if she&#39;d picked up her social behavior from cartoons.

&quot;Otto is managing the store, don&#39;t worry about Provisions. I&#39;m out here doing an investigation; shaking up shady types, sniffing around… you know how it is with ranger stuff,&quot; she said, and as if to emphasize her point that she was indeed ‘one of us,&#39; she shot me a sly wink. &quot;Yep, I&#39;ve been putting in hundreds of hours out in the wastes driving cattle around, feuding with rival cattle barons. You know how it is, right?&quot;

&quot;You&#39;re a ranger? I thought it was just me and James and Summer,&quot; I said, looking her over for the second time. &quot;Where&#39;s your scarf?&quot;

June groaned. &quot;You are not a ranger, big doggie.&quot;

Summer concurred, though with a much greater degree of sympathy in her tone, in the same way a parent might tell their child they can&#39;t be president of the moon. &quot;Rouve, sweetie, we talked about this. You can&#39;t be a ranger.&quot;

&quot;Why not?&quot; Rouve said, deflating like a punctured kickball. &quot;I&#39;ve been working this case all day, and now that there&#39;s three rangers-&quot;

&quot;And me,&quot; June said impatiently. Her tolerance for Rouve seemed low, and I could see why. Rouve was… juvenile, to put it lightly.

&quot;We&#39;ve got three rangers and a mechanic! We&#39;ve got everything we need to cap off this caper.&quot;

&lt;em&gt;&#39;Cap off this caper.&#39; Jesus Christ.&lt;/em&gt;

&quot;Because,&quot; Summer started, &quot;your parents aren&#39;t huge fans of the idea, and you need to listen to what they say.&quot;

&quot;It&#39;s not fair. I&#39;m twenty years old… I&#39;ve never even been outside of North Station! I&#39;m going crazy out here — chasing my tail, trying to do odd jobs around the station to build up my name a bit, but all my parents want me to do is run that stupid store with my brother.&quot; Rouve&#39;s tail drooped, and her ears folded flat against her predatory skull, which in a rare moment of pity, also brought my mood down a little bit. &quot;I mean, the only other human I&#39;ve ever met is James and…&quot; she pointed at me, her mouth working to form a name she&#39;d never known.

&quot;Hunter Gibbs,&quot; I said, feeling sorry for her.

&quot;You are not missing much, little girl,&quot; June whispered, though I could still hear her well enough to flash her a dirty look.

Just watching Rouve die a quiet death over here on the docks was enough to get me to act. I could see a little bit of myself in her — the bright-eyed enthusiasm of your early twenties, the light that glows from within and shines on everyone and everything. I even missed the stress of sleeping on couches and looking for work, at least to a degree. Some people never let that feeling die. People like Summer guard that light with their lives. And then there were people like me, who had it smothered and stamped under heel by the boots of near-poverty and long bouts of unemployment. I couldn&#39;t bear to watch it die right in front of me.

&quot;Actually, we were just talking about you,&quot; I said.

Her ears shot up. &quot;You were? What were you guys talking about?&quot;

&quot;Oh yeah. Actually, we&#39;re looking for a weasel named Jesse right now, and Summer&#39;s nose ain&#39;t cutting it. We were all hoping we would run into you today so we could borrow your uhhh… sniffer?&quot; Calling her nose ‘a sniffer&#39; made me physically cringe, but it got the effect that I wanted.

Rouve&#39;s tail went off like it was having a seizure. &quot;Are you serious!? Of course I want to-&quot; she recoiled back into herself and tried her damndest to look like she wasn&#39;t going off like a pipe bomb on the inside. &quot;Yeah, I&#39;ll help you three out. Yeah…&quot; she nodded slowly, again examining her needle-like claws. &quot;I&#39;ll lend my skill set.&quot;

Summer clapped her gloved paws together. &quot;Great! We&#39;re a team then!&quot;

Rouve put her paw out. &quot;Rangers on three!&quot;

I reluctantly put my fist on top of hers. Summer did the same, gently reminding Rouve that she was indeed not a ranger. June did not take part in our team building exercise.

[[Continue-&gt;Investigating Jesse 5 | Meeting Rouve]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="120" name="Investigating Jesse 5 | Meeting Rouve" tags="ship" position="329,4911" size="100,100">Rouve scratched under her chin, deep in thought. &quot;You want me to find Jesse the least weasel? Out of… how many weasels do we have at North Station?&quot;

&quot;There are a few,&quot; June said, &quot;but we are hopings your wolf nose will be able to find him.&quot;

&quot;Last I heard he was out cold on the docks &lt;em&gt;because of you.&lt;/em&gt; I can&#39;t imagine he&#39;d want to see you three again.&quot; Rouve looked directly at me. &quot;Especially not you.&quot;

&quot;Why not? Who doesn&#39;t want to see me?&quot; I said sarcastically.

&quot;Well, you did try to kill him today,&quot; she said, matter-of-fact, my sarcasm bouncing off her toughened skull.

&quot;It was a warning shot,&quot; I said as I patted Summer on the back. &quot;Summer and I had the whole thing handled.&quot;

&quot;That is &lt;em&gt;not&lt;/em&gt; what happened, you lying bastard,&quot; June said, volunteering her side of the story where she saved my life and I pissed myself. When the story concluded, June cut a sharp bow, as if she&#39;d just given an Earth-shattering performance. Nobody applauded.

Rouve raised an eyebrow. &quot;You actually peed yourself? You don&#39;t smell like you peed yourself,&quot; she said, giving a few exploratory snorts in the air.

&quot;That&#39;s because I didn&#39;t. June just has a fetish for human piss,&quot; I said, turning to June with a shit-eating grin. &quot;She loves the idea of me peeing myself and her cleaning up after me.&quot;

&quot;My fetishes do not include human piss, you disgusting ape!&quot;

&quot;Why don&#39;t you enlighten us then as to what those perfectly sanctioned fetishes of yours are.&quot;

Before we could come to blows over who had the most appropriate fetishes, Summer was between the both of us, like a referee at a boxing match. &quot;Can you two get off of each other&#39;s tails for like one second while we figure this out? How&#39;s that for a plan?&quot; She snapped.

I&#39;d never heard Summer use her stern voice before, but it was enough to get June and I to settle down — at least momentarily. With the children safely leashed, Summer let out an exhausted sigh and squared her shoulders to Rouve.

&quot;Someone ransacked June&#39;s office while we were gone today. I tried sniffing out who might have been there, but my nose isn&#39;t good enough. And I think they might have used something to mask their scents. That&#39;s why we were hoping you could help us out — we don&#39;t know for sure if Jesse is involved, but we&#39;d like to check in on him, regardless.&quot;

&quot;I think I concussed him with my swing,&quot; June said in a proud voice. &quot;So if he is needing someone to &#39;jog his memory,&#39; I am volunteering.&quot;

In many respects, Rouve was a lot like Summer, I noted. Probably had t do with the shared lineage. The she-wolf cocked her elbow out and gave a crisp salute. &quot;Always happy to help out my fellow rangers! Besides, Jesse came into my family&#39;s store a lot, so I think if I had something that had his scent on it, I could track him down for you.&quot;

&quot;Well, he was basically on top of me today at the pier today-&quot; I wasn&#39;t even finished with my sentence before Rouve grabbed me by the shoulders and shoved her whole snout into the confines of my peacoat. I tried pushing her away, but her grip was too strong, not one to miss the chance to huff a human. I don&#39;t do this often, but I did blush and get antsy, hearing her sharply inhale and huff my personal brand of linen cloth, soap, and sweat. The urge to stroke the top of her head was palpable, but if it was wrong to do that to dogs, I was double sure it was wrong to do the same to wolves, no matter how much they deserved it.

Finished with my scent after what felt like twenty minutes, Rouve pulled her face away from mine. Her ears were plastered against her skull, and I couldn&#39;t help but notice her knees were knocking together, her eyes wide and evasive.

&quot;Find anything?&quot; I said sheepishly. Neither her nor I could match eyes. I was ashamed to admit it, but I kind of liked feeling so close to Rouve.

Rouve did everything but look at me. The wolf shook her head a few times, as if trying to throw off my musk, which clouded her mind. &quot;Yeah, I uhhhh think so. The human scent is strong, but I could smell Jesse on you. It wasn&#39;t much to go off of, but I think he might still be around here.&quot;

[[&quot;You lead the way then,&quot;-&gt;Investigating Jesse 6 | Meeting Rouve | The Choice]] I said, wanting to get moving so I could forget about getting huffed by the wolf.</tw-passagedata><tw-passagedata pid="121" name="Investigating Jesse 6 | Meeting Rouve | The Choice" tags="ship" position="333,5061" size="100,100">For the better part of thirty minutes, we followed Rouve around the docks, searching around wharfs, warehouses and shoddy homes, until we carved out along the fringes of the lake, where the houses and buildings thinned out a little more, and seemed to droop over and sag inwards like ripening fruit. The four of us now stood in front of a white, two-story home. I knew the type from back on the east coast. Homes like these were older than sin, and signs of neglect showed up faster than pimples on a teenager&#39;s face. This one had all the fixings of a standard home — a porch, single window set in the upstairs bedroom, two enormous windows (shades drawn) on the ground floor, and a door around back. Only sign that this thing belonged in North Station was its peeling paint, hard-shifting foundations, and the metal riveted onto rotten wood, like bandages applied to festering wounds.

&quot;So this is it?&quot; I said, hoping the answer would be an emphatic no.&quot;

Rouve nodded. &quot;Unless my nose is wrong, this is it. His scent is strongest in there — but I&#39;m getting some other scents too. Lots of other scents.&quot; She took another exploratory sniff at the air, inhaling and exhaling steam. 

&quot;I think I smell cigs. And blood. Lots of blood.&quot;

&quot;Not the best looking place,&quot; I remarked. &quot;Looks like someone took a flamethrower to it at one point.&quot;

&quot;Or a vegetable peeler,&quot; June said. Looking down, I could see the metal wrench tight in her right hand. I reminded myself of the gun in my coat pocket. Something about this house had me on edge. Maybe it was the way it looked in the cold, late afternoon, or the stillness of it all.

The corgi pointed her nose up and pulled cold air into her snout. &quot;I&#39;m getting a lot of… &lt;em&gt;something&lt;/em&gt; from in there, but I can&#39;t tell exactly what,&quot; she said. &quot;Let&#39;s try the door and see if we can get anyone.&quot;

&quot;Wait,&quot; I said, clapping Summer on the shoulder as she started forward. &quot;What if it&#39;s dangerous?&quot;

She looked at me for a hard second and then removed my hand from her shoulder. She had a setern look on her face, not something I&#39;ve ever seen before. &quot;If you don&#39;t feel safe going inside, then stay out here.&quot;

&lt;em&gt;Shit, she&#39;s going to think I&#39;m a coward.&lt;/em&gt;

&quot;No, that&#39;s not what I meant,&quot; I said, brain sputtering to come up with an alternative. &quot;Why don&#39;t we split up?&quot;

&quot;Split up?&quot;

&quot;Yeah. There&#39;s a backdoor, right. We could go two through the front, two through the back, sweep the house, and we can still support each other.&quot;

&quot;That&#39;s not a bad idea, actually. But it&#39;ll have to be just you, June, and myself.&quot; The corgi looked over at her wolfish companion. &quot;Sorry Rouve, I can&#39;t let you go in there.&quot;

&quot;So you&#39;re just going to use my nose and then not let me get in on the action?&quot; The hurt in Rouve was visible in her folded ears and drooping head, which hung low, as if stuffed up by hope that had gone rotten.

Whatever the wolfess was going for, it seemed to have worked, at least with Summer.

&quot;You&#39;re not a ranger. I-I&#39;m sorry. If you get hurt or worse, your parents would murder me,&quot; Summer said, and from what I could tell, she genuinely meant it.

&lt;em&gt;A big wolf like Rouve might be helpful if something goes wrong in there. Or it could be a disaster and she could get hurt. She&#39;s clearly pretty inexeprienced.&lt;/em&gt;

&quot;[[I think the wolf should come with us-&gt;Investigating Jesse 7 | Rouve Joins]]&quot;

Or

&quot;[[It&#39;s too dangerous-&gt;Investigating Jesse 7 | Rouve Doesn&#39;t Join]]&quot;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;audio &quot;citySounds&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="122" name="Investigating Jesse 7 | Rouve Joins" tags="ship" position="256,5219" size="100,100">&quot;I think the wolf should come with us,&quot; I said. 

Rouve&#39;s posture seemed to jolt into rigidness, as if volted by her collar. She looked over at me with wide, excited &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt;. 

I shrugged. &quot;She might be good in a fight.&quot;

&quot;Might be good in a fight?&quot; The wolf parroted in disbelief. She snapped back to reality with an excited tail and a juvenile, confident sneer. &quot;W-well of course I&#39;m good in a fight. I&#39;ve been in like… tons of those.&quot;

I raised an eyebrow. Maybe it was a bad idea; I didn&#39;t know, and I didn&#39;t have a great handle on the situation anyway.

Summer let out a heavy sigh. &quot;I guess I can&#39;t stop you anyway. But you have to &lt;em&gt;promise&lt;/em&gt; you&#39;re going to be careful.&quot;

Rouve explosively nodded. She looked like you could tell her that water isn&#39;t wet and she&#39;d agree with you. &quot;Oh yeah, you got it. Careful. You got it.&quot;

&quot;And don&#39;t fight if you can avoid it,&quot; Summer said, biting her bottom lip. She was worried, I could tell just by looking at her. Rouve posted up at my side, making me appreciate Summer&#39;s position in life being so short. I felt Rouve&#39;s heavy hand patting me on the back with a few friendly slaps.

&quot;C&#39;mon I&#39;m like… the most peaceful person I know,&quot; she said, clearly forgetting the way she physically assaulted you when she first met you. &quot;Now, are we going in or what? I&#39;m ready to LIGHT this candle!&quot;

&quot;I think is a good idea if you and the human go through the back,&quot; June said with a doubtful look. &quot;The wolf will keep him safe, and he will keep her safe. And we will be one big happy family breaking and entering into Jesse&#39;s home.&quot;

&quot;If this &lt;em&gt;is his home&lt;/em&gt;,&quot; Summer replied. She seemed to be evaluating the house as a whole, as if searching for something on the outside, or for someone to appear in one of the blackened windows.

&quot;I don&#39;t know who lives here,&quot; June said, marching forward, &quot;but I suppose now is the time to find out.&quot;

&quot;Right. We&#39;ll try the front door first — see if anyone comes to the door. And if we don&#39;t get anything, we go in,&quot; Summer said, nodding.

So we split off into pairs: Summer and June knocking and hollering at the front, and Rouve and I waiting at the back door for a signal.

&quot;Are you nervous?&quot; I asked, increasingly grateful for the gun in my coat pocket. Rouve was uncomfortably close to me now, leaning over me and breathing hard, like she&#39;d just climbed up a few flights of stairs. Her breath didn&#39;t smell awful like I thought it would, but she was practically breathing a wet trail down the nape of my neck.

&quot;N-nervous?&quot; she repeated with a very obvious nervous stutter in her voice. &quot;Of c-course not. I&#39;m excited to finally get in on some action. Do you have any idea how long I&#39;ve wanted to do things like this?&quot;

I shook my head. &quot;Is now really the time to-&quot;

&quot;A long time,&quot; Rouve said. And with that, the massive wolfess bent forward and drew her massive tongue across my left cheek. I recoiled in shock.

&quot;What the fuck?&quot; I said, biting to keep my voice low. I felt my sticky face and looked up at Rouve, who was wide-eyed with confusion. &quot;Did you just lick my face?&quot;

&quot;I- I was just trying to thank you for sticking up for me…&quot; she trailed off. &quot;That&#39;s- that&#39;s not a thing humans do, is it?&quot;

I used my new &lt;span id=&quot;scarfColor&quot;&gt;ranger scarf&lt;/span&gt; to wipe away her spit. &quot;No, it&#39;s not. But you&#39;re welcome, anyway.&quot; I felt all at once deeply honored that she had decided to ‘thank me&#39; in such a forward way, perplexed at canine behavior, and violated. I was working through this peculiar cocktail when we heard Summer&#39;s whistle. That was the signal to go in.

&quot;Ready?&quot; I said, looking up into Rouve&#39;s features. Her mouth was partially open, teeth clenched together, either out of fear or excitement, or maybe both. 

Rouve nodded down at me. &quot;B-born ready,&quot; she said.

With my proximity to her, I could feel her small tremors running all throughout her hulking body.

Rouve and I started for the ruined concrete steps that led to the back door. I twisted on the knob and pulled back.

[[The door swung open-&gt;Investigating Jesse 8 | Rouve Joins 1]].      </tw-passagedata><tw-passagedata pid="123" name="Investigating Jesse 7 | Rouve Doesn&#39;t Join" tags="ship" position="407,5211" size="100,100">&quot;Summer is right, It&#39;s too dangerous,&quot; I said.

Rouve let out all of her held hope in one tremendous, defeated sigh. &quot;I just want in on a little action.&quot;

&quot;You&#39;ll have your time,&quot; Summer said. &quot;Besides, if your parents found out I let you come with me into a potentially dangerous house, they&#39;d probably eat me alive.&quot;

Rouve nodded, still visibly wounded. &quot;Right. I&#39;ll wait out here for you guys.&quot;

&quot;Is a good plan. The house may be too small for her to maneuver in, and the predator would just get in the way,&quot; said June. &quot;So I am thinking that Hunter goes around back, and you and I go through the front. If we cannot get anyone to come to the door, then we go in.&quot;

&lt;hr&gt;

I stood at the back door, one hand on the knob and the other holding the pistol. My grip tightened on both as I heard Summer whistle loudly in one sharp tune. I didn&#39;t know what I was doing — I&#39;d never done anything akin to breaking and entering and potentially murdering a mammal.

&lt;em&gt;This is for self-defense only.&lt;/em&gt;

I pulled open the back door and stepped inside.

[[Continue-&gt;Investigating Jesse 8 | Rouve Doesn&#39;t Join 1]]</tw-passagedata><tw-passagedata pid="124" name="Investigating Jesse 8 | Rouve Joins 1" tags="ship" position="258,5369" size="100,100">The door swung wide and out came the stinging miasma of cigarettes and something else; something that made Rouve wince.

I took a cautious, quiet step, onto the old wooden floors. It was dark enough for me to draw out my lighter and flick it open, bringing the small flame to life. It threw its meager light out, enough for me to see that I was in a kitchen of sorts. There were windows here too, but they&#39;d been long-since blacked out with garbage bags and tape.

I moved further into the house, its old moans and creaks dragging themselves through the stagnant air.

Rouve raised her ears. &quot;I hear something moving upstairs,&quot; she said in a quiet, shaking voice.

I nodded back at her and drew the gun out of my coat pocket while my heart did a flip from the tip of my throat. 

&lt;em&gt;Someone is absolutely still here.&lt;/em&gt;

The hallway leading out of the kitchen opened up into a dilapidated living room of sorts, with ruined furniture and similar blacked out windows.

Rouve&#39;s wolf &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt; passed over the state of the darkened room. &quot;Why does this place look so…&quot;

&quot;Staged?&quot; I said, now wondering if I&#39;d wandered into some kind of trap.

We made it to the stairs just as Summer and June finished clearing the front entrance. The four of us stood at the bottom of the stairs, looking up into the darkness at the top, as if waiting for a sign from God.

The retched coughing sound met my ears a little after Rouve and Summer&#39;s. It sounded awful, like someone had slipped a knife between their ribs and punctured their lungs. The canines stood with their tails rigid and alert, both on their toes.

In a flash Summer was pounding up the stairs, much to the chagrin of June, who warned her against a trap.

The three of us stood dumbly at the bottom of the dark stairs, watching Summer disappear into the blackness above.

&quot;Fast corgi,&quot; I remarked. I steadied myself and bolted after her, with Rouve and June following in kind.

[[Continue-&gt;Investigating Jesse 9 | Rouve Joins 2]]</tw-passagedata><tw-passagedata pid="125" name="Investigating Jesse 9 | Rouve Joins 2" tags="ship" position="267,5528" size="100,100">&quot;Is there anyone up here?&quot; I heard Summer shouting as I pounded up the stairs after her. &quot;Are you hurt?&quot;

I turned a corner only to see the corgi&#39;s tail disappear down a long hallway saturated in dust. The retched smell of cigarettes was stronger up here, now made more potent by my proximity to its source. That and the smell of clean copper, like the sky before a thunderstorm. I guess on reflection I could see what made Summer so eager to find the scent&#39;s source: that&#39;s the scent of blood.

I started down the hall after her in a long stride, quickly closing the gap between myself and the corgi, who had just turned into a room. The rasping sound of a wounded mammal was obvious, even to my blunted senses. 

&quot;HUNTER!&quot; I heard Summer call out to me, her voice not panicked, but urgent. I started running down that hallway, catching myself on the corner and swinging into the turn. There were two doors at the end of the hallway, and one had Summer&#39;s fox-like tail poking out of it. I pushed the door open and swept the room with my clumsy eyes.

&quot;Junkie,&quot; I heard Jesse&#39;s voice rasp in the darkness.

[[Continue-&gt;Investigating Jesse 10 | Rouve Joins 3]]</tw-passagedata><tw-passagedata pid="126" name="Investigating Jesse 8 | Rouve Doesn&#39;t Join 1" tags="ship" position="436,5374" size="100,100">The door swung wide and out came the stinging miasma of cigarettes and something else; something that made Rouve wince.

I took a cautious, quiet step, onto the old wooden floors. It was dark enough for me to draw out my lighter and flick it open, bringing a small flame to life. It threw its meager light out, enough for me to see that I was in a kitchen of sorts. There were windows here too, but they&#39;d been long-since blacked out with garbage bags and tape.

I moved further into the house, its old moans and creaks dragging themselves through the stagnant air. I thought I heard something moving upstairs — a quiet skittering across the floor, like claws on bare wooden floors. The pistol found its way into my hands.

The hallway leading out of the kitchen opened up into a dilapidated living room of sorts, with ruined furniture and similar blacked-out windows.

Why does this place look so… staged?&quot; I said, now wondering if I&#39;d wandered into some kind of trap.

I made it to the stairs just as Summer and June finished clearing the front entrance. The three of us stood at the bottom of the stairs, looking up into the darkness at the top, as if waiting for a sign from God.

The retched coughing sound met my ears a little after it pinged on Summer&#39;s. It sounded awful, like someone had slipped a knife between their ribs and punctured their lungs. The canine stood with her tail rigid and alert, eager and on her toes.

Summer raced up the stairs, much to the chagrin of June, who warned her against a trap.

The two of us stood dumbly at the bottom of the dark stairs, watching Summer disappear into the blackness above.

&quot;Fast corgi,&quot; I remarked. I steadied myself and bolted after her. June clunked up the stairs in her boots behind me.

[[Continue-&gt;Investigating Jesse 9 | Rouve Doesn&#39;t Join 2]]</tw-passagedata><tw-passagedata pid="127" name="Investigating Jesse 9 | Rouve Doesn&#39;t Join 2" tags="ship" position="430,5516" size="100,100">&quot;Is there anyone up here?&quot; I heard Summer shouting as I pounded up the stairs after her. &quot;Are you hurt?&quot;

I turned a corner only to see the corgi&#39;s tail disappear down a long hallway saturated in dust. The retched smell of cigarettes was stronger up here, now made more potent by my proximity to its source. That and the smell of clean copper, like the sky before a thunderstorm. I guess on reflection I could see what made Summer so eager to find the scent&#39;s source: that&#39;s the scent of blood.

I started down the hall after her in a long stride, quickly closing the gap between myself and the corgi, who had just turned into a room. The rasping sound of a wounded mammal was obvious, even to my blunted senses. 

&quot;HUNTER!&quot; I heard Summer call out to me, her voice not panicked, but urgent. I started running down that hallway, catching myself on the corner and swinging into the turn. There were two doors at the end of the hallway, and one had Summer&#39;s fox-like tail poking out of it. I pushed the door open and swept the room with my clumsy eyes.

&quot;Junkie,&quot; I heard Jesse&#39;s voice rasp in the darkness.

[[Continue-&gt;Investigating Jesse 10 | Rouve Doesn&#39;t Join 3]]</tw-passagedata><tw-passagedata pid="128" name="Investigating Jesse 10 | Rouve Joins 3" tags="ship" position="278,5674" size="100,100">A lone cigarette glowed in Jesse&#39;s crooked fingers, casting a weak orange light on his smashed features.

&quot;Jesse?&quot; Summer started forward into the room. &quot;Oh my &lt;em&gt;God&lt;/em&gt;, what happened to you?&quot;

&quot;Careful where you walk, doggie, there&#39;s glass and used needles all over the place. Not that you mind those things, right?&quot; he said, in hacking laughter. The weasel took another long drag on his cigarette. I stepped around Summer and into the room, feeling glass crunch beneath my boots.

With the light provided by my lighter, I could tell that this small room was being used as a bedroom of some kind. The piles of clothing and lone mattress in the center of the room were obvious enough signals.

Jesse was on the uncovered mattress, leaning against the wall, surrounded by bloody strips of cloth and used needles. When I first saw him, I gagged and nearly dropped my lighter.

He was naked from the waist up except for a brown woolen coat, not that it did him any good any more. The weasel&#39;s chest looked like it had been excavated. His pelt on his chest was gone, ripped from his body by force, exposing his shattered and seething rib cage. With every ragged breath that Jesse took, I could see his failing lungs inflate like pink balloon. The guy looked like a decomposing corpse, and the sound he made when he tried to breathe was this horrible, guttural seething sound.

&quot;Your lungs-&quot; I started.

&quot;Punctured,&quot; Jesse concluded. His weak, glassy eyes found mine. &quot;On the dock today… I wish you had just killed me. But you know, it doesn&#39;t hurt as much as you might think. And it&#39;s alllll thanks to these little syrettes.&quot; Jesse motioned towards three or four syringes at his side. They winked in the glow of my lighter. &quot;I can feel this… this dull ache in my chest. Like I&#39;m missing something. And I looked down and POOF. My ribcage is open and I&#39;m leaking like a sieve. At least I got my needles and my ciggies.&quot;

&quot;What&#39;s in there? Frost honey?&quot; I asked.

Jesse smiled and nodded towards Summer, who was still standing in the doorway. &quot;Why don&#39;t you ask your junkie friend over there about what&#39;s in these little shooters?&quot;

I turned. &quot;What the hell is he talking about?&quot;

&quot;That&#39;s right doggie, I know all about you. You&#39;ve been flirting with disaster. And don&#39;t let her fool you, human. She&#39;s not the good girl she wants you to believe she is.&quot; Jesse drew another herculean breath, his lung punching against what remained of his shattered rib cage. I had to look away. &quot;She&#39;s a junkie, is what she is.&quot;

&lt;em&gt;Junkie?&lt;/em&gt;

Jesse must have seen the distraught look in my eyes. He took another drag on his smoke. I watched the haze rise out of his open chest. &quot;Everyone was wondering why she keeps disappearing into the woods, beyond the lake… it&#39;s because she gets it up in her head that some time away from North Station will fix her.&quot; Jesse&#39;s pained laughter made me wince.

&quot;That&#39;s… that&#39;s not true. That&#39;s not true at all,&quot; said Summer. She hadn&#39;t moved from her spot in the door. &quot;Jesse, who the hell did this to you?&quot;

&quot;Your dealer friends!&quot; he hacked, spewing blood across the raw mattress. I took a step back as some of it speckled me. &quot;The bear! The bear!&quot; He cried. &quot;I- I can&#39;t remember his name… I can&#39;t feel a damn thing anymore. Everything is just a big, honey-colored blur. One minute I was at the human&#39;s neck, high out of my mind on shard, and then the next minute I&#39;m here, and that bear is ripping into my chest.&quot;

&lt;em&gt;Cale.&lt;/em&gt;

I looked over at Summer. Her collar was winking &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt;. She looked so helpless — more helpless than she was at the docks. Earlier today she was calm, collected, and in charge. Now she looks like she&#39;s being punished.

&quot;Human,&quot; Jesse coughed up at me. &quot;You&#39;re the one who tried killing me, right?&quot;

&quot;It was a &lt;em&gt;warning shot&lt;/em&gt;&quot; I emphasized.

&quot;Why don&#39;t you do me a favor and finish the job?&quot; Jesse snubbed his cigarette out into the sodden mattress and took another labored breath.

&quot;We can get you help. If you just hold on-&quot; Summer started, but was cut short by the shriek of Jesse&#39;s bloodied laughter.

&quot;HELP?&quot; he parroted. &quot;You think I&#39;m worth saving? I&#39;m a junkie, lil&#39; doggie. And I&#39;m the worst kind — I fight, I steal, I beg, and borrow without giving back. And I paid for it.&quot;

&quot;&lt;strong&gt;Everyone&lt;/strong&gt; is worth saving,&quot; Summer growled, exhaling the fire in her belly through her nostrils.

The weasel let out a cut of real, rib-sucking laughter, doubling over as he hacked out blood like it was smoke. I almost wanted to kill him out of pity. It was clear he was close to death. &quot;Not everyone,&quot; he said through his coughs. Blood seethed out of the corners of his mouth. His face had paled, and his vacant eyes reflected me like empty glass marbles. &quot;Not everyone can be saved.&quot;

Jesse slumped back against the wall and exhaled one last breath.

[[Continue-&gt;Jesse is Dead]]</tw-passagedata><tw-passagedata pid="129" name="Investigating Jesse 10 | Rouve Doesn&#39;t Join 3" tags="ship" position="432,5682" size="100,100">A lone cigarette glowed in Jesse&#39;s crooked fingers, casting a weak orange light on his smashed features.

&quot;Jesse?&quot; Summer started forward into the room. &quot;Oh my &lt;em&gt;God&lt;/em&gt;, what happened to you?&quot;

&quot;Careful where you walk, doggie, there&#39;s glass and used needles all over the place. Not that you mind those things, right?&quot; he said, in hacking laughter. The weasel took another long drag on his cigarette. I stepped around Summer and into the room, feeling glass crunch beneath my boots.

With the light provided by my lighter, I could tell that this small room was being used as a bedroom of some kind. The piles of clothing and lone mattress in the center of the room were obvious enough signals.

Jesse was on the uncovered mattress, leaning against the wall, surrounded by bloody strips of cloth and used needles. When I first saw him, I gagged and nearly dropped my lighter.

He was naked from the waist up except for a brown woolen coat, not that it did him any good any more. The weasel&#39;s chest looked like it had been excavated. His pelt on his chest was gone, ripped from his body by force, exposing his shattered and seething rib cage. With every ragged breath that Jesse took, I could see his failing lungs inflate like pink balloon. The guy looked like a decomposing corpse, and the sound he made when he tried to breathe was this horrible, guttural seething sound.

&quot;Your lungs-&quot; I started.

&quot;Punctured,&quot; Jesse concluded. His weak, glassy eyes found mine. &quot;On the dock today… I wish you had just killed me. But you know, it doesn&#39;t hurt as much as you might think. And it&#39;s alllll thanks to these little syrettes.&quot; Jesse motioned towards three or four syringes at his side. They winked in the glow of my lighter. &quot;I can feel this… this dull ache in my chest. Like I&#39;m missing something. And I looked down and POOF. My ribcage is open and I&#39;m leaking like a sieve. At least I got my needles and my ciggies.&quot;

&quot;What&#39;s in there? Frost honey?&quot; I asked.

Jesse smiled and nodded towards Summer, who was still standing in the doorway. &quot;Why don&#39;t you ask your junkie friend over there about what&#39;s in these little shooters?&quot;

I turned. &quot;What the hell is he talking about?&quot;

&quot;That&#39;s right doggie, I know all about you. You&#39;ve been flirting with disaster. And don&#39;t let her fool you, human. She&#39;s not the good girl she wants you to believe she is.&quot; Jesse drew another herculean breath, his lung punching against what remained of his shattered rib cage. I had to look away. &quot;She&#39;s a junkie, is what she is.&quot;

&lt;em&gt;Junkie?&lt;/em&gt;

Jesse must have seen the distraught look in my eyes. He took another drag on his smoke. I watched the haze rise out of his open chest. &quot;Everyone was wondering why she keeps disappearing into the woods, beyond the lake… it&#39;s because she gets it up in her head that some time away from North Station will fix her.&quot; Jesse&#39;s pained laughter made me wince.

&quot;That&#39;s… that&#39;s not true. That&#39;s not true at all,&quot; said Summer. She hadn&#39;t moved from her spot in the door. &quot;Jesse, who the hell did this to you?&quot;

&quot;Your dealer friends!&quot; he hacked, spewing blood across the raw mattress. I took a step back as some of it speckled me. &quot;The bear! The bear!&quot; He cried. &quot;I- I can&#39;t remember his name… I can&#39;t feel a damn thing anymore. Everything is just a big, honey-colored blur. One minute I was at the human&#39;s neck, high out of my mind on shard, and then the next minute I&#39;m here, and that bear is ripping into my chest.&quot;

&lt;em&gt;Cale.&lt;/em&gt;

I looked over at Summer. Her collar was winking &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt;. She looked so helpless — more helpless than she was at the docks. Earlier today she was calm, collected, and in charge. Now she looks like she&#39;s being punished.

&quot;Human,&quot; Jesse coughed up at me. &quot;You&#39;re the one who tried killing me, right?&quot;

&quot;It was a &lt;em&gt;warning shot&lt;/em&gt;&quot; I emphasized.

&quot;Why don&#39;t you do me a favor and finish the job?&quot; Jesse snubbed his cigarette out into the sodden mattress and took another labored breath.

&quot;We can get you help. If you just hold on-&quot; Summer started, but was cut short by the shriek of Jesse&#39;s bloodied laughter.

&quot;HELP?&quot; he parroted. &quot;You think I&#39;m worth saving? I&#39;m a junkie, lil&#39; doggie. And I&#39;m the worst kind — I fight, I steal, I beg, and borrow without giving back. And I paid for it.&quot;

&quot;&lt;strong&gt;Everyone&lt;/strong&gt; is worth saving,&quot; Summer growled, exhaling the fire in her belly through her nostrils.

The weasel let out a cut of real, rib-sucking laughter, doubling over as he hacked out blood like it was smoke. I almost wanted to kill him out of pity. It was clear he was close to death. &quot;Not everyone,&quot; he said through his coughs. Blood seethed out of the corners of his mouth. His face had paled, and his vacant eyes reflected me like empty glass marbles. &quot;Not everyone can be saved.&quot;

Jesse slumped back against the wall and exhaled one last breath.

[[Continue-&gt;Jesse is Dead]]</tw-passagedata><tw-passagedata pid="130" name="Jesse is Dead" tags="ship" position="346,5824" size="100,100">I carried Jesse&#39;s body out of the house, shuffling past Rouve and June on the stairs, partially covering the weasel&#39;s body as I passed the young wolf. No sense in exposing her to something like this.

Summer trotted behind me, somber, lulled into a penitent silence. Neither June nor Rouve said anything, they just watched as one might watch a funeral procession that does not belong to them or their kin.

I didn&#39;t know Jesse for long, and what I knew of him I knew in darkness. On the docks, under waning gray light, high out of his mind on shard, or in the dark of that house that did not belong to him, where he passed, veins sloughed with frost honey, is how I knew Jesse. In keeping with the theme, it was dark when we finished burying the least weasel in the woods — all of us too cold and emotionally drained to continue our investigation. But something told me that Cale and Jesse did indeed play into the destruction of June&#39;s office.

In the darkness, the surrounding trees stood like sentinels — impersonal, silent, bearing the gravity of a body returning to earth in their brittle branches. Snow drifted down from the sky, covering up the fresh plot of excavated Earth in quick order.

&quot;Did he… did he have anyone we should tell?&quot; I asked, my eyes fixed on Jesse&#39;s hastily made grave.

&quot;Not that I know of. At least, I&#39;ve never seen him with anyone,&quot; said Rouve. She fixed her gaze on me. &quot;Was it quick?&quot;

I nodded. &quot;Yeah, I think so. He was so high by the end that he was barely lucid. I don&#39;t think he felt a damn thing.&quot;

We again lapsed into silence, the only sound shared between all of us being Rouve&#39;s heavy breathing and the sound of the wind twisting through the pines.

Summer was oddly quiet this entire time, her eyes fixed on Jesse&#39;s grave. It was only when June suggested returning to North Station did Summer speak up to agree.

[[Continue-&gt;Please Stay Here Tonight | Jesse Investigation | 1]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $summersPastStory1 to true&gt;&gt;
&lt;&lt;audio &quot;chaosMind&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="131" name="Please Stay Here Tonight | Jesse Investigation | 1" tags="ship" position="363,5975" size="100,100">After dropping Rouve off at Provisions, it was just June, Summer and I at the ranger station. I hauled a few logs and some twigs into the station and brought them into Summer&#39;s office. June nodded in affirmation when I pulled open the door; one of the rare moments in which she&#39;s approved of my actions. Summer, on the other hand, stared placidly at the trash can tucked in the corner of the room. 

&quot;Summer?&quot; I said, a delicate edge to my voice, tempered by the events of today. &quot;Want me to get a fire going?&quot;

No response. I set the logs in the fireplace and set about making a fire. It was cold as shit in this room.

I heard Summer&#39;s voice. &quot;Hunter, what Jesse said today-&quot;

&quot;Bullshit, I know,&quot; I said. &quot;A junkie at the end of his life saying anything and everything to get back at you. I don&#39;t know why, or what he had against you, but I don&#39;t believe a fucking word of it.&quot; I turned and looked over at her. Her posture was stiff and alert. I could tell by the set of her jaw and the way nothing seemed to reflect in her &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt; that she was somewhere far, far away from North Station.

The corgi was silent for a moment, her lips pursed in thought. &quot;No, he was right.&quot;

I stopped cold in getting the fire going. It was like my veins had been filled with a stiff glue. 

&lt;em&gt;No, he was right.&lt;/em&gt;

&quot;What did you just say?&quot;

&quot;I said, ‘he was right.&#39; And he was. About my struggles,&quot; Summer said, not looking at me. &quot;He&#39;s right in that I have my demons. But don&#39;t we all?&quot; She offered a weak half smile, as if I too knew what it was like to have addiction ride me around like a drunk on the freeway.

Sensing an awkward pause coming on like floods in the summer, her eyes motioned towards the corner of the room. &quot;Do you know what I have over there? Behind the trash can?&quot;

June cleared her throat. &quot;Summer, don&#39;t-&quot;

&quot;No,&quot; Summer replied neatly. &quot;I should tell him. He deserves to know after everything that&#39;s happened today.&quot; The corgi drew herself up with a deep breath, as if grounding herself in to a cold reality in this cold, cold office. The fire shifted restlessly. &quot;There&#39;s a safe in this room, and the key is in June&#39;s office. I&#39;m not allowed to have that key and access to that safe because of what it contains.&quot;

&quot;Because of these ‘demons&#39; of yours?&quot;

She nodded.

The next question was obvious. &quot;What&#39;s in the safe?&quot; I said.

June cut in. &quot;I will answer with a question. How much do you know about North Station&#39;s history, new fish?&quot;

I paused. To tell the truth, I didn&#39;t know much about North Station at all. I had found it on a map and found reliable transportation into the town from southern Nunavut. My thinking was this: the further north I could get, the more desperate the employers. They&#39;d be more willing to take on a new fish like me, human or not. But beyond what I&#39;d read in some guides and heard from other rangers in passing, I knew nothing of North Station. It was just a listing on a job board.

My silence said it all. June&#39;s eyebrows sloped inward as she fixed me with a hard stare. &quot;You do not know what you&#39;ve gotten yourself into, have you? You simply came to North Station with the expectation that, what, you were going to hit it big and get rich?&quot;

The fire was gaining territory on the kindling, consuming the dry, brittle pine twigs and crawling up the logs now like some kind of orange vine. Its heat against my back, I thought about how I would respond.

&lt;em&gt;What the hell am I doing up here?&lt;/em&gt;

&quot;He&#39;s up here to make a difference,&quot; Summer said, sliding into the silence, now wearing a more resilient smile. &quot;And I think he&#39;s already started with today.&quot;

I found that hard to believe. Jesse was dead and Summer&#39;s big secret was out. Well, some of it, at least. But I didn&#39;t say this.

The tired corgi stretched her little arms above her head and cut loose with a massive yawn, her bright fangs exposed. June didn&#39;t even flinch — she simply folded her arms across her chest, crumpling her red and blue flannel shirt. The corgi&#39;s yawn was contagious, as June followed Summer&#39;s lead with a yawn of her own.

&quot;Listen, doggie, I am tired. Perhaps we can speak of this some more tomorrow?&quot; June said. Her eyes were heavy and ringed with dark circles.&quot;

&quot;You- you&#39;re not going to sleep in the garage tonight, are you?&quot; Summer asked, sitting up straight.

June simply laughed. &quot;You worry too much, doggie. They will not harm me. I am too valuable to this town. And besides, I always have this,&quot; she said, pulling the wrench out of her back pocket. &quot;You can ask the human — one good swing is all I need.&quot; 

Well, that was true. June had one hell of a swing.

&quot;Just be safe, okay?&quot; Summer said earnestly. &quot;If anything happened to you, I&#39;d never forgive myself.&quot;

Again, June shrugged this off, declining any sort of help, restating that she was indeed too valuable to the town. &quot;We will reconvene at a later date, doggie,&quot; the doe said. Her eyes passed over me with mild disapproval. &quot;You are welcome for today, human, by the way.&quot;

I started to speak, but June was already gone, the door to Summer&#39;s office slamming shut behind her once again. And then it was quiet, save for the exhausted panting of Summer and the crackling of the restless fire.

[[Continue-&gt;Please Stay Here Tonight | Jesse Investigation | 2]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;fireCrackle&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="132" name="Please Stay Here Tonight | Jesse Investigation | 2" tags="ship" position="363,6127" size="100,100">After a few more awkward seconds, I got up to follow June. I was pretty sleepy myself and had quite the first day. But when I got up, I found myself anchored to the couch by Summer&#39;s paws at my back, and a shy whimper.

I turned around. Summer was looking up at me with her huge &lt;span id=&quot;summerEyes&quot;&gt;eyes&lt;/span&gt;, the color of clover, if clover could bloom in a frosted wasteland like this. &quot;Please,&quot; she said, her voice low and wanting. &quot;Stay here tonight?&quot;

Her words caught me off guard. My mind raced to come up with an excuse — anything to get me back to my own bed in that shitty inn… all by myself.

&quot;I don&#39;t want to be alone right now,&quot; she said.

[[Continue-&gt;Please stay here tonight]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;eau&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="133" name="Summer_desc" tags="noreturn" position="146,567.3333333333334" size="100,100">!Summer Keaton
A stout and hardy pembroke corgi, Summer Keaton barely reaches up to most people&#39;s waist, her emerald green eyes and wide smile somewhat compensating for her lack of height with a seemingly endless positivity and energy, golden tail usually seen wagging back and forth. Station administrator first and Ranger second, her torn red scarf hangs from her neck, the rest of her frame contained in a rather small thermal jacket and pants combo, snow goggles resting atop her forehead. Shockingly strong and hardy, even if not tall or broad shouldered.
!!Nationality
American
!!Species
Pembroke corgi
!!Gender
Female
!!Eye Color
&lt;span id=&quot;summerEyes&quot;&gt;Green&lt;/span&gt;
!!Height, Weight, and Build
4&#39;3&quot;, an estimated 150 pounds. Stout and curvy — a true shortstack.
&lt;div class=&quot;imageBox&quot;&gt;
&lt;img id=&quot;charPortrait&quot; src=&quot;img/[NAME]&quot;&gt;
&lt;/div&gt;
!Hunter&#39;s Notes
&lt;em&gt;&quot;Green eyes like clovers in a snowfield and barely up to my waist, a stout yellow-orange Corgi that stood out like the sun over the snowy plains. If nothing else, her parents named her right, she does feel like a summer day in the northern wastes, bright and cheery to a mildly infectious degree. Does not know the definition of personal space and doubt she wants to either.&quot;&lt;/em&gt;
&lt;br&gt;
&lt;&lt;if $summersPastStory1 is true&gt;&gt;
&lt;em&gt;&quot;One peculiarity about the dog: for as bright and as bubbly as she is, she&#39;s nursing quite an addiction to frost honey. Routinely relapses and takes her trawler out of town to &quot;get clean,&quot; as it were. My heart goes out to her.&quot;&lt;/em&gt;
&lt;&lt;endif&gt;&gt;
&lt;/em&gt;</tw-passagedata><tw-passagedata pid="134" name="June_desc" tags="noreturn" position="159.33333333333331,446.6666666666667" size="100,100">!June Magnus
A rather imposing reindeer standing at an average five foot eight, June Magnus is a mechanic by trade, her ripped jeans, chunky snow boots and blue-white flannel shirt are well-suited for the dirty, cramped work of being the towns sole mechanic, fixing trawlers and snowmobiles for everyone who needs it down at the Station. As Scandinavian as they come, her piercing sapphire eyes shine with an intensity as strong as her throwing arm, well used to elbow grease and long sessions of air guitar. 
!!Nationality
Norwegian
!!Species
Norwegian reindeer
!!Gender
Female
!!Eye Color
&lt;span id=&quot;juneEyes&quot;&gt;Sapphire blue&lt;/span&gt;
!!Height, Weight, and Build
5&#39;8&quot;, with a slender athletic build, a pair of poorly-developed antlers atop her head.
&lt;div class=&quot;charPortraitBox&quot;&gt;
&lt;img class=&quot;charBox&quot; src=&quot;img/NAME.jpg&quot;&gt;
&lt;/div&gt;
!Hunter&#39;s Notes
&lt;em&gt;&quot;A petite Reindeer Valkyrie from the mythical lands of Norway/Scandinavia with enough bravado to make any northern warrior feel inadequate. Likes her music way too loud, her humans dead or injured and has at least three personality disorders to her name. God help me, she&#39;s the only mechanic in this fucking joint. Can&#39;t speak English for shit either.&quot;&lt;/em&gt;
&lt;br&gt;
&lt;&lt;if $hunterWinsAgainstJune is true&gt;&gt; 
&lt;em&gt;&quot;A &lt;strong&gt;friendless&lt;/strong&gt; petite Reindeer from the mythical lands of Norway that might have more huff than real puff. Won against her but man, she&#39;s... something? Probably not a great idea to have pissed off my only mechanic, but then again I don&#39;t think it was possible not to piss her off. Least she seems less willing to knock me out with a wrench.&quot;&lt;/em&gt;
&lt;&lt;endif&gt;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="135" name="credits" tags="noreturn" position="139,312.3333333333333" size="100,100">!&lt;strong&gt;Writers&lt;/strong&gt;
Oliver_Hart
Tious
&lt;hr&gt;
!&lt;strong&gt;Art&lt;/strong&gt;
Doph
&lt;hr&gt;
!&lt;strong&gt;Code Snippets&lt;/strong&gt;
Chapel, HiEv https://qjzhvmqlzvoo5lqnrvuhmg-on.drv.tw/UInv/Sample_Code.html#Main%20Menu
Oliver_Hart
&lt;hr&gt;
!&lt;strong&gt;Songs and Music Used&lt;/strong&gt;
fireCrackle - LeoSalom https://freesound.org/people/leosalom/sounds/234288/
citySounds - InspectorJ https://freesound.org/people/InspectorJ/sounds/398159/
crumplingPaper - jammaj https://freesound.org/people/jammaj/sounds/408992/
officeAmbiance - Blu_150058 https://freesound.org/people/Blu_150058/sounds/326244/
windHowl - Bosk1 https://freesound.org/people/Bosk1/sounds/217186/
bootsSnow - mannhawks https://freesound.org/people/mannhawks/sounds/261615/
seedsOfTheCrown - Disasterpeace https://www.youtube.com/watch?v=gibJnlT1idY
summersTheme (Ease) - Nicol Armarfi (4LS)
doorOpen - InspectorJ https://freesound.org/people/InspectorJ/sounds/431117/
chaosMind - Abo Takeshi STEINS;GATE Original Soundtrack
junesTheme - Ale&#39;s Angels [Backing Track] https://lonepeakmusic.bandcamp.com/track/ales-angels-backing-track
snowMobilePass - kyles https://freesound.org/people/kyles/sounds/452096/
snowMobileIdle - kyles https://freesound.org/s/450928/
dogYelp - TobiasKosmos https://freesound.org/s/163280/
collarZap - Halleck https://freesound.org/s/19486/
gunshot - Kleeb https://freesound.org/s/180961/
rummaging - Caitlin_100 https://freesound.org/people/Caitlin_100/sounds/365532/
bellDing - maisonsonique https://freesound.org/people/maisonsonique/sounds/196373/
Balmorhea - Waiting Itself https://balmorhea.bandcamp.com/track/waiting-itself
Dirtmouth - David Peacock, Augustine Mayuga Gozales https://bandcamp.materiacollective.com/track/dirtmouth
fabricTear - klangkonserve https://freesound.org/people/klangkonserve/sounds/172627/
eau - Yutaka Hirasaka https://yutakahirasaka.bandcamp.com/album/breath
knifeStab - Aris621 https://freesound.org/people/Aris621/sounds/478145/</tw-passagedata><tw-passagedata pid="136" name="Tress_desc" tags="noreturn" position="3.333333333333333,708.3333333333334" size="100,100">!Tress Dupont
A rather feminine looking hare, Tress stands at around five foot ten, the undeniable hint of a french accent and the sheer femininity of his getup proving rather remarkable compared to the rest of the people around, dressed in more pragmatic gear. Donning a long sleeve white thermal shirt and insulated black overalls, the downright fluffy winter coat of his seems to match with the glossy brown eyes and the pink lips, forming a rather peculiar look and performing a crucial job. A friendly face amidst a cold place, serving spirits to lift the burden of the work outside and doing it quite remarkably.
!!Nationality
French-Canadian
!!Species
Arctic hare
!!Gender
Male
!!Eye Color
Hazel
!!Height, Weight, and Build
5&#39;10&quot; and 135 pounds, with a lean build. Isn&#39;t afraid to blow your head off.
&lt;div class=&quot;charPortraitBox&quot;&gt;
&lt;img class=&quot;charBox&quot; src=&quot;img/NAME.jpg&quot;&gt;
&lt;/div&gt;
!Hunter&#39;s Notes
&lt;&lt;if $tressThreatensHunter is true&gt;&gt;
&lt;em&gt;&quot;He seems like a nice guy, but it&#39;s important to shower someone in compliments when they&#39;re aiming a gun at you.&quot;&lt;/em&gt;
&lt;&lt;endif&gt;&gt;</tw-passagedata><tw-passagedata pid="137" name="Day two hub" tags="incomplete menu" position="1288,5" size="200,200">[[Visit Provisions-&gt;Visit provisions | day 2]]

[[Visit the garage-&gt;Visit garage | day 2]]

[[Visit the ranger station-&gt;Visit ranger station | day 2]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;rouveTheme&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="138" name="Visit provisions | day 2" tags="ship" position="1141,210" size="100,100">I paced back and forth outside of Provisions for a solid minute, my boots chunking into the freshly fallen snow. People passed by me with interested glances, taking notice of my &lt;span id=&quot;scarfColor&quot;&gt;scarf&lt;/span&gt;, pausing, working out some fiction to themselves about how there&#39;s another human in North Station, and then moving on. 

Lately I&#39;d been trying to get more friendly with North Station residents. Waving, smiling, even introducing myself as a new ranger in town. Hence my trip to Provisions. Well, I also needed a flare gun.

&lt;em&gt;Rouve is in there,&lt;/em&gt; I thought. I almost felt like she knew I was outside, and was simply waiting for me to enter her family store to literally and metaphorically pounce upon me, her opening salvo of questions no doubt related to my anatomy or &quot;human culture,&quot; as if it were some monolithic beast.

But it wasn&#39;t that I disliked Rouve at all — it was more so her juvenile behavior and weird fascination with humans that kept me outside in the morning chill a little longer than my body liked. Sometimes meeting different mammals was a shock to the system for me. There&#39;s all these confusing fucking rules to follow; Fifty percent of the time it was like stabbing in the dark, trying not to offend anyone or step on their (often times literal) tails.

Well, at least I knew one cardinal rule, as far as predators were concerned: don&#39;t talk about the collar. Let them bring it up.

So, puffing hot air and steam into my palms, I decided it was finally cold enough to force me inside provisions. I threw open the door to a chime.

[[Continue-&gt;Provisions | day 2]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;snowMobilePass&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;audio &quot;officeAmbiance&quot; volume 0.5 loop play&gt;&gt;
&lt;&lt;audio &quot;bootsSnow&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="139" name="Visit garage | day 2" tags="" position="1347,216" size="100,100"></tw-passagedata><tw-passagedata pid="140" name="Visit ranger station | day 2" tags="" position="1543,212" size="100,100"></tw-passagedata><tw-passagedata pid="141" name="Otto_desc" tags="noreturn" position="5,581.3333333333334" size="100,100">!Otto Pelletier
Despite being rather nasal in his tone and more awkward than he should, Otto Pelletier still manages to be a formidably built mammal, even without the personality to match the physique. Pimples amidst white fur, meek voice and the stammering of a timid teenager aside, even this fifteen year old wolf could easily rip your arm off, assuming he would find a way to gain enough courage to meet your eye or to shake your hand without shaking his whole body in the process. Works at Provisions with his sister, Rouve.
!!Nationality
Canadian
!!Species
Arctic wolf
!!Gender
Male
!!Eye Color
&lt;span id=&quot;rouveEyes&quot;&gt;Amethyst&lt;/span&gt;
!!Height, Weight, and Build
5&#39;10&quot;, 160 pounds, and slender — a far cry from his sister&#39;s intimidating genetics.
&lt;div class=&quot;charPortraitBox&quot;&gt;
&lt;img class=&quot;charBox&quot; src=&quot;img/NAME.jpg&quot;&gt;
&lt;/div&gt;
!Hunter&#39;s Notes
&lt;em&gt;&quot;An Arctic Wolf, or rather some kind of teenager form of one. Pegged him as a whelp the minute I saw him. Probably not older than 15 and with the full awkward package; the kid thought I was James, like June did at the garage. Probably could&#39;ve ripped my arm off just as easy but was too busy apologizing for his mistake. Has a &lt;strong&gt;big&lt;strong&gt; sister too, even if I can&#39;t see the similarities between the two.&quot;&lt;/em&gt;</tw-passagedata><tw-passagedata pid="142" name="Provisions | day 2" tags="ship" position="1137,369" size="100,100">&lt;&lt;if $playerMetOtto is true&gt;&gt;
The bell above the door chimed as I entered.

&quot;Hey Otto, how&#39;s it hanging?&quot; I asked as I approached the counter, dusting snow off my peacoat.

The young wolf glowed beet red and stammered out a reply. &quot;W-what?&quot;

&quot;I said, how&#39;s it hanging?&quot; I tried a friendly smile on, which was something I promised myself I&#39;d make a habit out of.

&quot;I-I don&#39;t… it&#39;s small I guess?&quot;

We stared at each other for a few seconds, saying nothing. My friendly smile had died a quiet death on my lips, and now I was simply questioning his understanding of what is a common, common idiom in the United States. Otto looked like he was about to have a panic attack. 

&quot;No, Otto, not your penis. I don&#39;t want to know about your genitals. I&#39;m asking you how you&#39;re doing. How are things around here?&quot;

A bell chimed as someone else entered the store. Otto&#39;s &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt;flicked to something behind me, but I was too focused on trying to solve the sinking ship of this exchange to turn around.

&quot;O-oh they&#39;re okay. A l-little boring I guess,&quot; Otto replied. He was still focused on something behind me.

&quot;And how&#39;s your sister? How&#39;s Rouve?&quot; I said, forcing a friendly smile across my lips, trying to divert his attention back to our painful exchange. I could see why people bullied this kid. There was a boy just like Otto in my middle school class — shy, awkward, carried around a general air of shame, as if his existence was an affront to everyone around him. Of course I bullied him alongside everyone else.

But the northern wastes were my chance to turn over a new leaf. I wasn&#39;t going to be an asshole anymore.

Otto opened his mouth to speak, but never got to say anything. Another voice boomed behind me, followed by the sound of heavy feet pounding off the floor in a dead sprint.

[[Try to dodge-&gt;Provisions | day 2 | dodge Rouve]]

or

[[Stay where you are-&gt;Provisions | day 2 | no dodge]]
&lt;&lt;else&gt;&gt;
The bell above the door chimed as I entered, sealing me away from the blistering cold and noise of the frost way.

&quot;We&#39;re about to close, sir, you need to leave.&quot;

The male voice that greeted me was unfamiliar, whiny, and had that unmistakable &lt;em&gt;pubescent&lt;/em&gt; crackle as whatever demeanour the speaker hoped to conjure broke upon those final, hissing syllables. I approached the counter.

A wolf was standing behind a waist-high counter. Well, wolf is a bit of an overstatement. There was a &lt;em&gt;pup&lt;/em&gt; behind the counter — couldn&#39;t be over 14 or 15 in human years. It was clear given his folded ears, whiny voice, and pimples shining through the blinding white shag of his fur, and the general air of submission surrounding the kid that he was a whelp. He shifted awkwardly when he saw me, his &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt; matching mine for only a split second before evasively locating something on the small counter.

&quot;I said we&#39;re about to close,&quot; the whelp said, still never meeting my gaze.

My eyes found the clock above the kid. It read a little after eight in the morning. Right next to that was a small sign, marked up with Sharpie that had the hours for the store on it. &quot;But it says on the sign you don&#39;t close for another six hours,&quot; I replied.

The boy started to stammer out an excuse, when I heard another voice fast-approaching behind me — this time it was one I recognized.

&quot;&lt;strong&gt;HHHUNTTTERRRRRRRRR!&lt;/strong&gt;&quot;

[[Try to dodge-&gt;Provisions | day 2 | dodge Rouve]]

or

[[Stay where you are-&gt;Provisions | day 2 | no dodge]]
&lt;&lt;endif&gt;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;snowMobilePass&quot; stop&gt;&gt;
&lt;&lt;audio &quot;officeAmbiance&quot; stop&gt;&gt;
&lt;&lt;audio &quot;bootsSnow&quot; stop&gt;&gt;
&lt;&lt;audio &quot;doorOpen&quot; volume 0.5 play&gt;&gt;
&lt;&lt;audio &quot;bellDing&quot; volume 0.2 play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="143" name="Provisions | day 2 | dodge Rouve" tags="ship" position="1073,509" size="100,100">I stepped to the side just enough for Rouve to go tumbling past me, tip over the counter, and absolutely level the kid.

I looked over the counter at the wreckage. &quot;Hi Rouve,&quot; I said, somewhat smug for having dodged her from-behind tackle hug.

Rouve, all 6&#39;6&quot; of her, groaned. She was on the floor behind the counter, her impressively built frame smothering the wolf she&#39;d crashed into, whose visible extremities flailed around in a panic. Something about the scene reminded me of a bug tipped on its back.

Rouve sat up slowly, rubbing away some pain from where her head had collided with her brother&#39;s. &quot;Damnit Otto, why is your skull so dense?&quot; Rouve hissed, her &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt; pinched into a squint. &quot;I could have concussed myself.&quot;

&lt;em&gt;Siblings.&lt;/em&gt;

Otto squeaked out a weak apology, but didn&#39;t bother getting off the floor, which felt on-brand for him. Rouve stood to her full height, still rubbing a swelling bruise on her forehead. It was hard not to be intimidated when she practically towers over everyone except for Cale.

&lt;em&gt;Wonder what her parents are like&lt;/em&gt;

Rouve was six inches taller than I was, her dense bones wrapped in corded muscle, the sheer brilliance of her strength masked by a coat of unbrushed, downy white fur, and a thermal jacket. Her long white tail fluttered happily behind her.

&quot;Hey &lt;em&gt;ranger&lt;/em&gt;,&quot; Rouve said, drawing specific emphasis to the word ‘ranger.&#39; &quot;Out doing ranger stuff? Stop any rustlers today? Herd any fish? Did you kill anyone?&quot; She leaned her impressive weight onto one elbow, which she placed on the counter, forcing her body into a horizontal sort of pose. I could see her tail fanning away behind her, attached to her round, muscular butt.

&quot;Hey hey, it&#39;s only my second day on the job,&quot; I said, trying to steer the conversation back towards saner topics. I just needed that flare gun.

&quot;Heh, yeah, I remember being a rookie, too,&quot; Rouve mused, apparently leaning the entire conversation upon decades of imagined ranger experience. &quot;Don&#39;t worry, you&#39;ll get your shot to make it big.&quot;

I knew I had to salvage things and get straight to the point, lest this conversation take an uncomfortable turn towards questions about  human anatomy or culture. &quot;Right,&quot; I started, eager to get going for the day, &quot;do you sell flare guns here?&quot; 

&quot;Flare gun aye? You mean like…&quot; Rouve&#39;s hand went behind her back.&quot;&lt;strong&gt;This one?&lt;/strong&gt;&quot;  The wolfess drew a small orange pistol out from behind her back and aimed it up towards the ceiling. Otto ducked.

&quot;Pew!&quot; Rouve squeaked, pretending to pull the trigger.

It worried me that she had a flare gun and was waving it around like a water pistol, but I pressed onwards, trying to ignore the very real fire danger I was in.

&quot;Yeah, how much for one of those and a few rescue flares?&quot; I asked.

&quot;Can&#39;t sell you one, not even for a fellow industry professional,&quot; Rouve said. &quot;This is the only one we&#39;ve got in stock.&quot;

&lt;em&gt;Fuck.&lt;/em&gt;

&quot;So why do you have it if it&#39;s your store&#39;s only one?&quot; I asked, trying not to grit my teeth. There was a distinct possibility that she was playing around with it, like it was some kind of toy. I &lt;em&gt;actually&lt;/em&gt; needed it for work.

&quot;Cause I&#39;m doin&#39; ranger stuff,&quot; she said, now twirling the flare gun on one finger. It caught on one of her claws and clattered onto the counter. I jumped back.

&quot;Is that thing loaded?&quot; I gasped.

Rouve shrugged. &quot;Maybe I can&#39;t get it open to check,&quot; she said, reaching for the pistol again.

Now was the time to be stern. I didn&#39;t get this ranger scarf by doing nothing… right? I put my hand on top of the flare gun. Her hand fell on top of mine.

&quot;What if I offered to buy it from you?&quot; I said, leaning forward.

Rouve did not reply. She stared wordlessly at her hand on top of mine. Her fingers threaded between mine for a brief second, and, after a light squeeze, Rouve looked turned her gaze back to me. Her tail started fanning again.

&quot;I have a better idea,&quot; she said, &lt;span id=&quot;rouveEyes&quot;&gt;her eyes&lt;/span&gt; twinkling with excitement. &quot;I&#39;ll &lt;em&gt;give you&lt;/em&gt; the flare gun!&quot;

&quot;Great! I started, trying to work my hand out from beneath her gargantuan paw. &quot;Let&#39;s do that.&quot;

&quot;But you have to take me on one of your ranger missions!&quot;

&quot;[[But I don&#39;t have a mission-&gt;Yeti hunt | day 2]].&quot;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;rouveTheme&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="144" name="Provisions | day 2 | no dodge" tags="ship" position="1217,514" size="100,100">I should have dodged. Rouve&#39;s full body — 6&#39;6&quot; of dense bone, muscle, and the most delicate layer of plush fat — slammed directly into me from behind. I went crashing over the counter with Rouve on top of me, until myself, the kid, and Rouve all sat in an enormous pile, our limbs tangled together in horrendously painful configurations. 

Rouve sat up and mounted my chest, her padded rear crushing the air out of me.

&quot;Hey &lt;em&gt;ranger&lt;/em&gt;,&quot; Rouve said, her tail beating happily into the air, &quot;How&#39;s it going? Doing any cool ranger stuff?&quot;

&lt;em&gt;Holy fuck, she must weigh at least 200 pounds!&lt;/em&gt;

&quot;Not… yet…&quot; I said. My voice came out in a strained hiss, like too much air being forced out of a small hole. I smacked Rouve&#39;s exposed thighs twice, hoping she&#39;d get the message that she needed to lift her titanic ass off my lungs lest I die between her legs. Some people would perhaps appreciate such a valiant death, but not me. 

&lt;em&gt;At least not yet&lt;/em&gt;.

Rouve&#39;s ears flicked a few times. And then, after a few more seconds of Rouve&#39;s under-socialized brain processing my struggle, the wolfess looked down at me, strugging beneath her. Was my face turning purple? Hard to know.

&quot;I&#39;m crushing you, aren&#39;t I?&quot; she said.

I nodded. I was actually feeling light-headed, so I smacked her thigh once more. Rouve lifted herself off me and stood to her full height.

&quot;Sorry about that,&quot; she said, donning her most winning smile. &quot;Guess I still need a little more training when it comes to stealth.&quot;

Air returned to my lungs, which was a welcome relief. I took a few gasps and sat up. &quot;Maybe don&#39;t physically assault people when you hug them? I almost suffocated under your huge ass,&quot; I said, still breathing hard. My face was beet red — from exertion, suffocation, anger, and a little embarrassment.

&quot;C&#39;monnn,&quot; Rouve said, still smiling. She craned her neck to try and get a good look at her own ass. &quot;It&#39;s not that big, right?&quot;

She looked directly at me, as if seeking my approval on her ass. Her smile drooped. &quot;R-right?&quot;

Her ass was borderline perfect, at least in my humble opinion. It was shapely, like a heart, padded with this orgasmic weave of muscle and fat that made it easy for her to fill out a pair of even the baggiest of snow pants. I wanted to see if I could bounce a quarter off her ass when she flexed, but I had no quarters, and not the courage to try.

&lt;em&gt;But I can&#39;t tell her any of that&lt;/em&gt;

&quot;I- it&#39;s fine, Rouve. Your butt is fine. You just caught me off guard, and I got a little upset, that&#39;s all.&quot;

Visible relief washed over Rouve, who let out a huge knot of air trapped in her lungs. &quot;That&#39;s good. I was worried for a second that you would think my butt is too big, or it&#39;s too small, or it&#39;s too fat, or it&#39;s too muscular or- hey, do humans like butts? Do &lt;em&gt;you&lt;/em&gt; like butts?&quot;

I… I didn&#39;t even know where to begin with my response, so I cut straight to the point.

&quot;Rouve…&quot; I started. &quot;Listen carefully.&quot;

The wolfess leaned forward, her &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt; practically bulging with interest.

&quot;Do you sell flare guns?&quot;

The excitement drained from Rouve&#39;s face. &quot;Oh, flare guns? Well, we used to have flare guns, but now we&#39;ve just got mine.&quot;

&lt;em&gt;Fuck&lt;/em&gt;

She pulled an orange flare gun — almost comically small in her paws — out from behind the counter. &quot;But I&#39;ll tell you what, mister ranger. I&#39;ll let you have this one-&quot;

&quot;Great!&quot;

&quot;-But you have to take me on a ranger mission. Summer won&#39;t let me go on any of hers.&quot;

&quot;[[But I don&#39;t have a mission-&gt;Yeti hunt | day 2]].&quot;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;rouveTheme&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="145" name="Yeti hunt | day 2" tags="incomplete" position="1107,668" size="100,100">&quot;Well lucky for you, I have just the job a couple of us rangers can tackle,&quot; Rouve said, &#39;shining&#39; her claws in the overhead light, immensely proud of herself.

I raised an eyebrow. &quot;You&#39;ve actually got something?&quot;

&quot;‘Course I do. But it&#39;s a top secret mission,&quot; she said, bending down to whisper into my ear. Her breath was hot, and smelled faintly of raw meat and coffee. &quot;But you gotta promise not to tell anyone what we&#39;re up to, especially not Summer.&quot;

&quot;On my mother&#39;s honor,&quot; I replied. I figured I might as well go along with it — Rouve was odd, but she seemed mostly harmless. Whatever ‘job&#39; she had couldn&#39;t be that hard, right? Her life had so many guard rails it seemed, that whatever we did was bound to be safe and easy.

She placed her two gigantic paws on my shoulders, &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt; bulging, just inches from my face. She looked like she was about to have an aneurysm.

&quot;Yeti. Hunt.&quot;

&quot;[[What the fuck is a yeti?-&gt;Yeti Hunt | frost way]]&quot;

or

&quot;[[Sorry, I&#39;m not interested in that.-&gt;Day two hub]]&quot;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="146" name="Yeti Hunt | frost way" tags="" position="1107,807" size="100,100">&quot;What the fuck is a yeti?&quot; I had studied a little of the northern wastes before I arrived, but not as much as I should have. There were a few towns and geographical landmarks I knew of, but that&#39;s about it. The actual wildlife surrounding North Station was a mystery to me, but I knew it was out there in the woods and in the lake — wild bears, elk, hares bristling in their winter coats, snow foxes — none to be mistaken for North Station&#39;s sentient, walking, talking residents, of course.

&quot;It&#39;s some stupid monster Rouve made up,&quot; Rouve&#39;s brother said, rolling his &lt;span id=&quot;rouveEyes&quot;&gt;eyes&lt;/span&gt;. &quot;She&#39;s been trying to &#39;bag herself a cryptid&#39; for literally years. You&#39;re wasting your time.&quot;

A low growl simmered in Rouve&#39;s throat. &quot;What would you know about it? The only time you&#39;re even outside is the walk between here and home.&quot;

Otto shrugged. &quot;Maybe that&#39;s why mom and dad trust me to run the store alone, and not you, Roo.&quot;

I was an only child, but even I could recognize the sting of embarrassment. A weak smile played across my face. She had a nickname. &lt;em&gt;A cute nickname, too&lt;/em&gt;.

&quot;&lt;em&gt;Roo&lt;/em&gt;.&quot;

With a face practically glowing red, Rouve hooked her arm under my own and hauled me out of her store, away from her kid brother, who was still riding the high of having slipped one by her larger and stronger sister.

&lt;em&gt;He&#39;s won the battle, but not the war&lt;/em&gt;.

&quot;Ignore my little brother, he&#39;s never even been outside of North Station. The little idiot has absolutely no idea what he&#39;s talking about,&quot; Rouve said through clenched teeth, her enormous, angular frame driving a wedge between the throngs of mammals out and about the frost way. 

Otto&#39;s words rang loudly in my ears.

&quot;&lt;em&gt;You&#39;re wasting your time&lt;/em&gt;.&quot;

Shame and embarrassment burned hotly in my cheeks as I pleaded for Rouve to slow down. People were staring — and after all, why not, right? Nothing like watching a six-and-a-half foot tall wolf rag doll a human, right? What the fuck else could be going on up here that&#39;s more interesting?

The wolfess was on the warpath. I didn&#39;t regain my footing until we passed by a smaller lean-to home, and I could latch onto one of the door frames. Rouve stopped and turned to face me.

&quot;Something the matter, ranger buddy?&quot; she said, sounding genuinely concerned.

&lt;em&gt;Ranger buddy&lt;/em&gt;?

I sucked in some deep lungfuls of cold air and steadied myself against the door frame, my anchor to the ground. &quot;Well you could stop dragging me around — I&#39;m a grown man. I can walk myself to wherever it is we&#39;re going.&quot;

Rouve&#39;s ears went flat against her skull as a frown spread across her angular features. &quot;Sorry, I- I sometimes get so caught up in what I&#39;m doing that it&#39;s like I&#39;ve got blinders on. I didn&#39;t hurt you, did I?&quot;

I looked down at the very obvious, angry red crease marks Rouve had pressed into my wrists. There by accident, obviously, but there nonetheless, and they hurt. I looked up at Rouve.

&quot;[[Nah, I&#39;m fine (comfort)-&gt;Comfort Rouve | day two]]&quot;

or

&quot;[[That hurt (scorn)-&gt;Scorn Rouve | day two]]&quot;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;rouveTheme&quot; stop&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="147" name="Comfort Rouve | day two" tags="" position="1018,929" size="100,100">Standing on my toes, I shucked my glove, reached up, and gave Rouve a few friendly pats on the head to let her know that I was alright. Summer liked this kind of stuff. Maybe by some small chance and a shared ancestor, Rouve did too.

Rouve snatched my hand off her head, and held it in one of her large paws, wide-eyed.

&lt;em&gt;Shit, did I fuck up?&lt;/em&gt;

&quot;Humans have the smallest hands!&quot; she exclaimed, spreading my fingers, testing their flexibility and dexterity.

So she didn&#39;t melt when I stroked her coat, maybe like Summer would have, but the sudden realization that I could entertain her with my simple existince was almost better than simple touch. I snapped my fingers together on my free hand. Rouve shook her head twice, as if she could throw off her sudden train of throught.

&quot;Sorry,&quot; Rouve said, letting go of my hand, trying as hard as possible to look casual. &quot;I got a little distracted again. Glad to hear you&#39;re not hurt.&quot;

I wiped my now sweaty hand on my coat. &quot;Don&#39;t sweat it. Where are we going anyway?&quot;

Rouve&#39;s chin dipped down to her armpit, where she gave a few exploratory snorts of her own brand. &quot;I don&#39;t smell sweaty, do I?&quot;

I sighed, but couldn&#39;t help but smile a little bit. &quot;No, that&#39;s just something we say back home. You know, don&#39;t make yourself all sweaty and worked up over something really insignificant?&quot;

&lt;em&gt;I could say the same about me. I&#39;m glad I held back&lt;/em&gt;.
 
Rouve drew back and smiled down at me, clearly pleased with having learned a new human phrase. &quot;I won&#39;t get sweaty, I promise.&quot;

&quot;I&#39;ll do my best too, but no promises,&quot; I said, still wiping Rouve&#39;s palmsweat onto my pea coat. &quot;Now, where are we going to hunt this yeti?&quot;

&quot;To the woods, dummy. I&#39;ve had everything ready for our hunt for a few days now.&quot;

&quot;A few days?&quot;

[[Continue-&gt;Yeti hunt | day 2 forest | talking choice]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;rouveSlowSong&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="148" name="Scorn Rouve | day two" tags="" position="1196,927" size="100,100">&quot;Well my ego hurts a lot more than my wrists — which still hurt,&quot; I said. &quot;So nicely done.&quot;

Rouve&#39;s chin dipped as her tail sputtered to a halt. Her collar briefly flashed &lt;span id=&quot;collarWarning&quot;&gt;yellow&lt;/span&gt;. &quot;S-sorry,&quot; Rouve whined. &quot;I didn&#39;t mean to hurt you.&quot;

I shook my head. &quot;It&#39;s alright. If you&#39;re serious about ranger shit and capturing bagging yeti, I imagine there&#39;s going to be a lot more violence involved. Just make sure you&#39;re not accidentally sending more my way.&quot;

The wolfess gave a weak, sardonic salute, but was clearly having a hard time hiding the hurt in her eyes. &quot;I&#39;ll do my best,&quot; she said with an apologetic type of eagerness. 

[[Continue-&gt;Yeti hunt | day 2 forest | talking choice]]</tw-passagedata><tw-passagedata pid="149" name="Yeti hunt | day 2 forest | talking choice" tags="" position="1107.6666666666667,1098.6666666666667" size="100,100">Tall boreal forest rose all around us, wild in every direction, the low wind rattling branches hanging from conifers, aspen, white birch and cottonwood trees. We followed a well-traveled trail into the woods — no doubt one Rouve had built up over the weeks or months she&#39;d been hunting yeti — and then deviated off the path for another hour, following a lone set of wolf-sized paw prints set into the snow to only Rouve knows where.

[[Chat with Rouve-&gt;Yeti hunt | day 2 forest | chat with Rouve]]

Or

[[Continue-&gt;Yeti hunt | day 2 forest | no questions]]
&lt;&lt;nobr&gt;&gt;
&lt;&lt;audio &quot;bootsSnow&quot; volume 0.3 loop play&gt;&gt;
&lt;&lt;audio &quot;rouveSlowSong&quot; stop&gt;&gt;
&lt;&lt;audio &quot;windHowl&quot; volume 0.4 loop play&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="150" name="Yeti hunt | day 2 forest | chat with Rouve" tags="" position="987.3333333333334,1246.3333333333333" size="100,100">I had to admit: it was really nice to have some time to talk to Rouve and get to know her. Our interactions had always felt so one-sided — her assailing me with questions or even tackling me, me caught drastically off guard by her bluntness and impulsivity. Just talking and walking (me struggling to keep pace with her massive wolfish strides) was a good way to level the playing field, even if Rouve asked a lot of questions.

Over the course of her questioning, something became apparent to me: Rouve didn&#39;t have a formal education. And why would she? She&#39;s lived in North Station — a place that has no school building — her whole life. She could read and write and do math, but beyond that, it seemed that her idea of the world was drawn from life experiences in North Station, and at least in part by cartoons she caught on her den&#39;s small TV, which explained the strange behavior. Things like alternative biologies, geography, culture, and even most manners were alien to her. A small sampling of her questions:

&lt;em&gt;Do you have snow where you&#39;re from&lt;/em&gt;?

So I told her I was from Maryland and that there was some snow, but nothing like other places. Rouve asked what continent Maryland was on. I paused for a second and told her it was a state in America, and she asked where that was. I told her it was directly beneath Canada, which seemed to shock her.

&lt;em&gt;How many others are in your pack&lt;/em&gt;?

&quot;I&#39;m an only child, but I&#39;ve got a mom and dad in Maryland still. And humans don&#39;t have packs; we have families.&quot;

&lt;em&gt;How long are you planning on staying in North Station&lt;/em&gt;?

&quot;At least a few more months, until I can make enough money to return to Maryland.&quot;

&lt;em&gt;How come humans don&#39;t have fur&lt;/em&gt;?

I jokingly told her we didn&#39;t have fur because we didn&#39;t need it. We had invented clothes thousands of years before other mammals, which was a complete fabrication. Rouve bought it anyway and seemed deeply impressed. &quot;Fur is such a pain in the ass to take care of. I have to brush it like every day and do a deep clean every other day,&quot; she told me.

&lt;em&gt;Can I have a handshake? I&#39;ve always wanted a handshake&lt;/em&gt;.

I held out my hand. Rouve held out hers. We met in the middle in a beautiful moment of jolly inter-species cooperation. Rouve’s eyes lit up with excitement. I smiled back at her. It was kind of… I don’t know… endearing to have someone so interested in me and my culture, neither of which are things I’ve ever had to think hard about before.

[[Continue-&gt;Yeti hunt | day 2 forest | no questions]]</tw-passagedata><tw-passagedata pid="151" name="Yeti hunt | day 2 forest | no questions" tags="" position="1236,1253" size="100,100">We followed Rouve’s trail west until it abruptly ended at a small cache of supplies set against the trunk of an old, snow-laden conifer. We had one old climbing backpack between us, and to Rouve’s credit, it was packed with actual survival gear one might need for a day — hand warmers, flare gun rounds, a first aid kit, dried foods that I could eat, and raw meat wrapped in wax paper for Rouve. Next to the backpack, there was an old rifle Rouve had stood up against a tree. She grabbed the rifle in one paw like it was a stick and held it in my direction.

&quot;Know how to use one of these?&quot; she said.

&quot;Does a bear shit in the woods?&quot; I said, taking the gun from her. It weighed more than I expected and I nearly dropped it.

&quot;Does a bear shit in the- maybe wild bears, I guess?&quot;

&quot;Human expression. Or maybe just an American thing,&quot; I said, taking the rifle from her. I almost dropped it when she passed it off, since it was much heavier than expected. What was my rifle experience, you might be wondering? Shooting .22 rounds — no more powerful than a firecracker — at wild birds. Whatever size… or shape… or whatever they used to classify the destructive power couldn’t be all that different from what Rouve has, right?

&quot;Yep, that’s my dad’s .30-30,&quot; Rouve said, her hands on her broad hips, her face glowing with pride.

The gun didn’t look like anything special. It was lever action, wood stock and all, harkening back to the days of the western frontiers. Rouve handed me a few round of ammo, each one about the size of my finger. The bullets carried a kind of intimidating weight to them as I pushed rounds into the gun. Just judging by the size of the cartridge alone, I was dealing with a whole different animal, compared to a .22 long rifle. I felt my stomach turn a little. 

Rouve slapped me jovially on the back. &quot;Ready to kill a yeti, ranger?&quot;

&quot;Does a bear- you know what, never mind,&quot; I replied, throwing on the weapon’s safety catch, shouldering it, and pointing the barrel down towards the snow. &quot;Let&#39;s go.&quot;

&quot;Alright, follow me!&quot; Rouve said, forging through the snow. I walked in her footsteps.

&lt;em&gt;Let’s get this over with&lt;/em&gt;.

[[Continue-&gt;Yeti hunt | day 2 forest | the hunt]]</tw-passagedata><tw-passagedata pid="152" name="Cale_desc" tags="noreturn" position="3,839.6666666666667" size="100,100">!Cale Smithy
Standing at roughly seven feet of height, Cale is a rather large polar bear, even for their kind, sporting not just the usual insulating fat but also a rather large layer of muscle as well. Covering his thick fur is two orange thermal jackets and some rather large insulated cargo pants. It&#39;s hard to tell what his job is if any, but you wager anything from lifting cargo to beating people is within his expertise, given the scowl always stuck to his face and his unfriendly attitude. 
!!Nationality
Canadian
!!Species
Polar bear
!!Gender
Male
!!Eye Color
Bright blue
!!Height, Weight, and Build
7&#39;2&quot;, 300 pounds, broad shoulders, muscular build with a layer of insulated fat under downy white fur.
&lt;div class=&quot;charPortraitBox&quot;&gt;
&lt;img class=&quot;charBox&quot; src=&quot;img/NAME.jpg&quot;&gt;
&lt;/div&gt;
!Hunter&#39;s Notes
&lt;em&gt;&quot;Seven feet tall, a brick shithouse of an animal even for Bear standards. Not friendly, not nice, and aparently one of the bigger troublemakers in town, not just because of his size. Might want to avoid his fat ass wholesale from now on.&quot;&lt;/em&gt;</tw-passagedata><tw-passagedata pid="153" name="James_desc" tags="noreturn" position="138.00000000000003,828" size="100,100">!James Lapp
A rare sight in the Northern Wastes, a Canadian human. He stands at around six foot five, his downright stringy build contrasting with his usual companion of choice, Cale Smithy. Dressed in a dark blue thermal jacket a size too big, a red Ranger scarf wraps itself around his neck, thin pants and heavy brown boots finishing his getup. Despite his gray eyes looking sharklike, predatory and bloodshot as if he&#39;s walked through smoke, his demeanour seems about as cheery as Summer&#39;s, an impressive feat for a place like this, doubly so for a Human of all things. Young, and sporting a small peach fuzz for facial hair.
!!Nationality
!!Species
!!Gender
!!Eye Color
!!Height, Weight, and Build
&lt;div class=&quot;charPortraitBox&quot;&gt;
&lt;img class=&quot;charBox&quot; src=&quot;img/NAME.jpg&quot;&gt;
&lt;/div&gt;
!Hunter&#39;s Notes
&lt;em&gt;&quot;He ain&#39;t right. 6&#39;5 maybe, young, about as tall as the Bear but lanky and thin, skin paler than anything you&#39;d seen. And his eyes? Something about them felt off. Predatory like a shark, gray like all colour got drained, tinged red at the fringes. Somehow, he&#39;s as cheery as Summer but something doesn&#39;t feel right about him. Armed, and a ranger with a scarf to prove it.&quot;&lt;/em&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="154" name="Yeti hunt | day 2 forest | the hunt" tags="incomplete" position="1102.6666666666665,1351.333333333333" size="100,100">We walked. And walked. And walked. Speaking very little so as not to frighten the supposed yeti lurking nearby. A few hours in and I was getting anxious about the entire ordeal. We were &lt;em&gt;very&lt;/em&gt; far from North Station, even for a snowmobile ride. It was cold and only set to get colder as the afternoon sun crested above the canopy of the forest, already on its way down. I checked my watch. The face read a little after one, supposedly the hottest part of the day, but my breath was still coming out in frigid puffs, and I could feel my extremities were starting to get cold despite my gloves and boots.

I cleared my throat, hoping to gain the wolf’s attention. “You know, the sun sets pretty early up here,” I remarked, hoping I might encourage Rouve to return to North Station while it was still light.

Rouve turned her head, her pace slowing to match mine. She smiled a big, toothy, hapless smile. “Yeah, it’s one reason I hate living here. But don’t worry. Hunting yetis in the dark is more fun, anyway.”

&lt;em&gt;In the dark?&lt;/em&gt;

I stopped. “Rouve.”

“Yeah, ranger buddy?”

“I can’t see in the dark like you can.”

Rouve stopped. “What do you mean you can’t see in the dark?”

My eyes went wide. Even for as sheltered as Rouve was, she had to know that humans don’t have the capacity to see in the dark.

“Humans can’t see in the dark, you fucking moron,” I said, my teeth ramming together. “How do you not know this?”

A look of panic flashed across her features. “Y-you can’t see in the dark? I-I thought everyone could.”

“No, I can’t,” I said, feeling a bright flash of anger. I clenched my teeth together and tried not to explode at the wolf. I estimated I had about an hour or two of daylight left. “We’re not going to be out here much longer, right? It’s getting cold already.”

Rouve’s cheeks flashed bright red, and she stammered even harder. “W-would it be a p-problem if I planned on staying out here all night?” she said.

Watching a mammal her size stutter and act embarrassed would have been cute in different circumstances, but not in a potentially dangerous situation like this. She had to know. “Rouve, I could &lt;em&gt;die&lt;/em&gt; out here. I’m not built like you are. I don’t have fur. I don’t have thermal clothing on. I mean, for fuck’s sake, Rouve, I’m in a pea coat.”

The wolfess slapped a nervous palm across the back of her neck. She looked genuinely distraught, her eyes evasively scanning the canopy, watching the sun burn hard against a sky marked up with ominous clouds. “I-I hadn’t that about any of that… I was hoping our hunt would turn up a yeti sooner, but I can’t catch its scent.”

“So we’ve been wandering in the woods the whole day — away from civilization and landmarks, with minimal amounts of food, ammo, and flashlights?”

Rouve opened her mouth to speak, but when she caught my incredulous glare, she let out a startled breath. Yeah, the gravity of the situation had dawned on her. Finally. She might be alright, lost in the woods for a few days, no food, no flashlight, nothing but her jacket and bare fur, her keen senses guarding her at all times. But not me. Everything I saw, smelled, touched, tasted, and heard was blunted compared to her abilities.

“I-I think I can find my way back to the backpack… and from there w-we can [[go to North Station-&gt;Yeti hunt | day 2 forest | the return]], if you want?”

My mind hummed. Would we make it back to the backpack before dark, anyway? Rouve didn’t strike me as being lost — more just that she’d wandered farther than she intended. Maybe we should press on? Regardless, we needed SOME kind of shelter, so maybe [[continuing with the hunt-&gt;Yeti hunt | day 2 forest | continue hunt]] might be the right way to go about things.</tw-passagedata><tw-passagedata pid="155" name="Yeti hunt | day 2 forest | the return" tags="" position="1027.6666666666665,1501.333333333333" size="100,100"></tw-passagedata><tw-passagedata pid="156" name="Yeti hunt | day 2 forest | continue hunt" tags="" position="1177.6666666666665,1501.333333333333" size="100,100"></tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){(function(window,document,jQuery,undefined){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function mesg(where,error,isFatal,isUncaught){var mesg="Error",nice="A".concat(isFatal?" fatal":"n"," error has occurred.");nice+=isFatal?" Aborting.":" You may be able to continue, but some parts may not work properly.";var isObject=null!==error&&"object"===_typeof(error),what=(isObject&&"message"in error?String(error.message).replace(errorPrologRegExp,""):String(error)).trim()||"unknown error";null!=where&&(mesg+=" [".concat(where,"]")),mesg+=": ".concat(what,"."),isObject&&"stack"in error&&(mesg+="\n\nStack Trace:\n".concat(error.stack)),mesg&&(nice+="\n\n".concat(mesg)),isUncaught||console[isFatal?"error":"warn"](mesg),window.alert(nice)}var origOnError;return origOnError=window.onerror,window.onerror=function(what,source,lineNum,colNum,error){"complete"===document.readyState?mesg(null,null!=error?error:what,!1,!0):(mesg(null,null!=error?error:what,!0,!0),window.onerror=origOnError,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.freeze(Object.defineProperties({},{error:{value:function(where,error){mesg(where,error)}},fatal:{value:function(where,error){mesg(where,error,!0)}}}))}(),Patterns=(wsMap=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),wsRe=/^\s$/,missing="",wsMap.forEach((function(pat,char){wsRe.test(char)||(missing+=pat)})),space=missing?"[\\s".concat(missing,"]"):"\\s",spaceNoTerminator="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",notSpace="\\s"===space?"\\S":space.replace(/^\[/,"[^"),anyChar="(?:.|".concat("[\\n\\r\\u2028\\u2029]",")"),anyLetter="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",anyLetterStrict=anyLetter.replace("\\-",""),identifier="".concat("[$A-Z_a-z]").concat("[$0-9A-Z_a-z]","*"),variable="[$_]"+identifier,htmlTagName="[A-Za-z](?:".concat(cENChar="(?:[\\x2D.0-9A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])","*-").concat(cENChar,"*|[0-9A-Za-z]*)"),twStyle="(".concat(anyLetter,"+)\\(([^\\)\\|\\n]+)\\):"),cssStyle="".concat(spaceNoTerminator,"*(").concat(anyLetter,"+)").concat(spaceNoTerminator,"*:([^;\\|\\n]+);"),idOrClass="".concat(spaceNoTerminator,"*((?:").concat("[#.]").concat(anyLetter,"+").concat(spaceNoTerminator,"*)+);"),inlineCss="".concat(twStyle,"|").concat(cssStyle,"|").concat(idOrClass),Object.freeze({space:space,spaceNoTerminator:spaceNoTerminator,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:notSpace,anyChar:anyChar,anyLetter:anyLetter,anyLetterStrict:anyLetterStrict,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:identifier,variableSigil:"[$_]",variable:variable,macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",htmlTagName:htmlTagName,cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:inlineCss,url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})),wsMap,wsRe,missing,cENChar,twStyle,cssStyle,idOrClass,space,spaceNoTerminator,notSpace,anyChar,anyLetter,anyLetterStrict,identifier,variable,htmlTagName,inlineCss;!function(){var startWSRe,endWSRe,_trimString=(startWSRe=new RegExp("^".concat(Patterns.space).concat(Patterns.space,"*")),endWSRe=new RegExp("".concat(Patterns.space).concat(Patterns.space,"*$")),function(str,where){var val=String(str);if(!val)return val;switch(where){case"start":return startWSRe.test(val)?val.replace(startWSRe,""):val;case"end":return endWSRe.test(val)?val.replace(endWSRe,""):val;default:throw new Error('_trimString called with incorrect where parameter value: "'.concat(where,'"'))}});function _createPadString(length,padding){var targetLength=Number.parseInt(length,10)||0;if(targetLength<1)return"";var padString=void 0===padding?"":String(padding);for(""===padString&&(padString=" ");padString.length<targetLength;){var curPadLength=padString.length,remainingLength=targetLength-curPadLength;padString+=curPadLength>remainingLength?padString.slice(0,remainingLength):padString}return padString.length>targetLength&&(padString=padString.slice(0,targetLength)),padString}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function flat(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var depth=0===arguments.length?1:Number(arguments[0])||0;return depth<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,(function(acc,cur){return cur instanceof Array?acc.push.apply(acc,_toConsumableArray(flat.call(cur,depth-1))):acc.push(cur),acc}),[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var length=this.length>>>0;if(0===length)return!1;var needle=arguments[0],i=Number(arguments[1])||0;for(i<0&&(i=Math.max(0,length+i));i<length;++i){var value=this[i];if(value===needle||value!=value&&needle!=needle)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(obj).map((function(key){return[key,obj[key]]}))}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(iter){return Array.from(iter).reduce((function(acc,pair){if(Object(pair)!==pair)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return pair[0]in acc?Object.defineProperty(acc,pair[0],{configurable:!0,enumerable:!0,writable:!0,value:pair[1]}):acc[pair[0]]=pair[1],acc}),{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(obj){if(null==obj)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var O=Object(obj);return Reflect.ownKeys(O).reduce((function(acc,key){var desc=Object.getOwnPropertyDescriptor(O,key);return void 0!==desc&&(key in acc?Object.defineProperty(acc,key,{configurable:!0,enumerable:!0,writable:!0,value:desc}):acc[key]=desc),acc}),{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.values object parameter must be an object");return Object.keys(obj).map((function(key){return obj[key]}))}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:_createPadString(targetLength-baseLength,padding)+baseString}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:baseString+_createPadString(targetLength-baseLength,padding)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return _trimString(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return _trimString(this,"end")}})}(),function(){var _nativeMathRandom=Math.random,_regExpMetaCharsRe,_hasRegExpMetaCharsRe,_formatRegExp,_hasFormatRegExp;function _random(){var min,max;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:min=0,max=arguments[0];break;default:min=arguments[0],max=arguments[1]}if(min>max){var _ref=[max,min];min=_ref[0],max=_ref[1]}return Math.floor(_nativeMathRandom()*(max-min+1))+min}function _randomIndex(length,boundsArgs){var min,max;switch(boundsArgs.length){case 1:min=0,max=length-1;break;case 2:min=0,max=Math.trunc(boundsArgs[1]);break;default:min=Math.trunc(boundsArgs[1]),max=Math.trunc(boundsArgs[2])}return Number.isNaN(min)?min=0:!Number.isFinite(min)||min>=length?min=length-1:min<0&&(min=length+min)<0&&(min=0),Number.isNaN(max)?max=0:(!Number.isFinite(max)||max>=length||max<0&&(max=length+max)<0)&&(max=length-1),_random(min,max)}function _getCodePointStartAndEnd(str,pos){var code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};if(code<55296||code>57343)return{char:str.charAt(pos),start:pos,end:pos};if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)throw new Error("high surrogate without trailing low surrogate");var nextCode=str.charCodeAt(nextPos);if(nextCode<56320||nextCode>57343)throw new Error("high surrogate without trailing low surrogate");return{char:str.charAt(pos)+str.charAt(nextPos),start:pos,end:nextPos}}if(0===pos)throw new Error("low surrogate without leading high surrogate");var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);if(prevCode<55296||prevCode>56319)throw new Error("low surrogate without leading high surrogate");return{char:str.charAt(prevPos)+str.charAt(pos),start:prevPos,end:pos}}Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(array){if("object"!==_typeof(array)||null===array||!Object.prototype.hasOwnProperty.call(array,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var length=array.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments,1));return array[index]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var result=Array.from(this);if(0===arguments.length)return result;var items=Array.prototype.reduce.call(arguments,(function(prev,cur){return prev.concat(cur)}),[]),addSize=items.length;if(0===addSize)return result;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=items[i];-1===indexOf.call(result,value)&&push.call(result,value)}return result}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var indexOf=Array.prototype.indexOf,needle=arguments[0],pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,++pos;return count}}),Object.defineProperty(Array.prototype,"countWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.countWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.countWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return 0;for(var count=0,i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&++count;return count}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var needles=Array.prototype.concat.apply([],arguments),needlesLength=needles.length,indices=[],i=0;i<length;++i)for(var value=this[i],j=0;j<needlesLength;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){indices.push(i);break}}for(var result=[],_i=0,iend=indices.length;_i<iend;++_i)result[_i]=this[indices[_i]];for(var splice=Array.prototype.splice,_i2=indices.length-1;_i2>=0;--_i2)splice.call(this,indices[_i2],1);return result}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,cpyIndices=_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map((function(x){return x<0?Math.max(0,length+x):x}))).values()),delIndices=_toConsumableArray(cpyIndices).sort((function(a,b){return b-a})),result=[],i=0,iend=cpyIndices.length;i<iend;++i)result[i]=this[cpyIndices[i]];for(var _i3=0,_iend=delIndices.length;_i3<_iend;++_i3)splice.call(this,delIndices[_i3],1);return result}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,indices=[],result=[],i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&(result.push(this[i]),indices.push(i));for(var _i4=indices.length-1;_i4>=0;--_i4)splice.call(this,indices[_i4],1);return result}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!==this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(!Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var length=this.length>>>0;if(0!==length)return this[length-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return Array.prototype.splice.call(this,index,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var splice=Array.prototype.splice,result=[],max=length-1;do{result.push(splice.call(this,_random(0,max--),1)[0])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&push.call(this,value)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return this[index]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var picked=new Map,result=[],max=length-1;do{var i=void 0;do{i=_random(0,max)}while(picked.has(i));picked.set(i,!0),result.push(this[i])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var length=this.length>>>0;if(0===length)return this;for(var i=length-1;i>0;--i){var j=Math.floor(_nativeMathRandom()*(i+1));if(i!==j){var swap=this[i];this[i]=this[j],this[j]=swap}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,unshift=Array.prototype.unshift,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&unshift.call(this,value)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var slice=Array.prototype.slice,fn=this,bound=slice.call(arguments,0);return function(){for(var applied=[],argc=0,i=0;i<bound.length;++i)applied.push(bound[i]===undefined?arguments[argc++]:bound[i]);return fn.apply(this,applied.concat(slice.call(arguments,argc)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(num,min,max){var value=Number(num);return Number.isNaN(value)?NaN:value.clamp(min,max)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(num){return 1-(Math.cos(Number(num)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var min=Number(arguments[0]),max=Number(arguments[1]);if(min>max){var _ref2=[max,min];min=_ref2[0],max=_ref2[1]}return Math.min(Math.max(this,min),max)}}),RegExp.escape||(_regExpMetaCharsRe=/[\\^$*+?.()|[\]{}]/g,_hasRegExpMetaCharsRe=new RegExp(_regExpMetaCharsRe.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(str){var val=String(str);return val&&_hasRegExpMetaCharsRe.test(val)?val.replace(_regExpMetaCharsRe,"\\$&"):val}})),_formatRegExp=/{(\d+)(?:,([+-]?\d+))?}/g,_hasFormatRegExp=new RegExp(_formatRegExp.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(format){function padString(str,align,pad){if(!align)return str;var plen=Math.abs(align)-str.length;if(plen<1)return str;var padding=String(pad).repeat(plen);return align<0?str+padding:padding+str}if(arguments.length<2)return 0===arguments.length?"":format;var args=2===arguments.length&&Array.isArray(arguments[1])?_toConsumableArray(arguments[1]):Array.prototype.slice.call(arguments,1);return 0===args.length?format:_hasFormatRegExp.test(format)?(_formatRegExp.lastIndex=0,format.replace(_formatRegExp,(function(match,index,align){var retval=args[index];if(null==retval)return"";for(;"function"==typeof retval;)retval=retval();switch(_typeof(retval)){case"string":break;case"object":retval=JSON.stringify(retval);break;default:retval=String(retval)}return padString(retval,align?Number.parseInt(align,10):0," ")}))):format}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var needle=String(arguments[0]||"");if(""===needle)return 0;for(var indexOf=String.prototype.indexOf,step=needle.length,pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,pos+=step;return count}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var str=String(this);return _getCodePointStartAndEnd(str,str.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(startAt,delCount,replacement){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var length=this.length>>>0;if(0===length)return"";var start=Number(startAt);Number.isSafeInteger(start)?start<0&&(start+=length)<0&&(start=0):start=0,start>length&&(start=length);var count=Number(delCount);(!Number.isSafeInteger(count)||count<0)&&(count=0);var res=this.slice(0,start);return void 0!==replacement&&(res+=replacement),start+count<length&&(res+=this.slice(start+count)),res}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd3=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd3.char,end=_getCodePointStartAnd3.end;return-1===end?"":char.toLocaleUpperCase()+str.slice(end+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd4=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd4.char,end=_getCodePointStartAnd4.end;return-1===end?"":char.toUpperCase()+str.slice(end+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","(".concat(this.toString(),")")]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",_toConsumableArray(this)]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",_toConsumableArray(this)]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(code,data){if("string"!=typeof code)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[code,data]]}}),Object.defineProperty(JSON,"_real_stringify",{value:JSON.stringify}),Object.defineProperty(JSON,"stringify",{configurable:!0,writable:!0,value:function(_value,replacer,space){return JSON._real_stringify(_value,(function(key,val){var value=val;if("function"==typeof replacer)try{value=replacer(key,value)}catch(ex){}return void 0===value&&(value=["(revive:eval)","undefined"]),value}),space)}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,(function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(ex){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(ex){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(ex){}return value}))}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var match,re=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),names=[];null!==(match=re.exec(this));)match[1]?names.push(match[1]):match[2]&&names.push(match[2]);return names}})}();var Browser=(userAgent=navigator.userAgent.toLowerCase(),winPhone=userAgent.includes("windows phone"),isMobile=Object.freeze({Android:!winPhone&&userAgent.includes("android"),BlackBerry:/blackberry|bb10/.test(userAgent),iOS:!winPhone&&/ip(?:hone|ad|od)/.test(userAgent),Opera:!winPhone&&("object"===_typeof(window.operamini)||userAgent.includes("opera mini")),Windows:winPhone||/iemobile|wpdesktop/.test(userAgent),any:function(){return isMobile.Android||isMobile.BlackBerry||isMobile.iOS||isMobile.Opera||isMobile.Windows}}),isGecko=!isMobile.Windows&&!/khtml|trident|edge/.test(userAgent)&&userAgent.includes("gecko"),isIE=!userAgent.includes("opera")&&/msie|trident/.test(userAgent),ieVersion=isIE?(ver=/(?:msie\s+|rv:)(\d+\.\d)/.exec(userAgent))?Number(ver[1]):0:null,isOpera=userAgent.includes("opera")||userAgent.includes(" opr/"),operaVersion=isOpera?function(){var ver=new RegExp("".concat(/khtml|chrome/.test(userAgent)?"opr":"version","\\/(\\d+\\.\\d+)")).exec(userAgent);return ver?Number(ver[1]):0}():null,isVivaldi=userAgent.includes("vivaldi"),Object.freeze({userAgent:userAgent,isMobile:isMobile,isGecko:isGecko,isIE:isIE,ieVersion:ieVersion,isOpera:isOpera,operaVersion:operaVersion,isVivaldi:isVivaldi})),ver,userAgent,winPhone,isMobile,isGecko,isIE,ieVersion,isOpera,operaVersion,isVivaldi,Has=(hasAudioElement=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(ex){}return!1}(),hasFile=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(ex){}return!1}(),hasGeolocation=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(ex){}return!1}(),hasMutationObserver=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(ex){}return!1}(),hasPerformance=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(ex){}return!1}(),hasTouch=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(ex){}return!1}(),hasTransitionEndEvent=function(){try{for(var teMap=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),teKeys=_toConsumableArray(teMap.keys()),el=document.createElement("div"),i=0;i<teKeys.length;++i)if(el.style[teKeys[i]]!==undefined)return teMap.get(teKeys[i])}catch(ex){}return!1}(),Object.freeze({audio:hasAudioElement,fileAPI:hasFile,geolocation:hasGeolocation,mutationObserver:hasMutationObserver,performance:hasPerformance,touch:hasTouch,transitionEndEvent:hasTransitionEndEvent})),hasAudioElement,hasFile,hasGeolocation,hasMutationObserver,hasPerformance,hasTouch,hasTransitionEndEvent,Visibility=(vendor=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find((function(vnd){return vnd.hiddenProperty in document})))}catch(ex){}return undefined}(),Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},state:{get:function(){return vendor&&document[vendor.stateProperty]||"visible"}},isEnabled:{value:function(){return Boolean(vendor)}},isHidden:{value:function(){return Boolean(vendor&&document[vendor.hiddenProperty])}},hiddenProperty:{value:vendor&&vendor.hiddenProperty},stateProperty:{value:vendor&&vendor.stateProperty},changeEvent:{value:vendor&&vendor.changeEvent}}))),vendor,Fullscreen=function(){var _hasPromise,vendor=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find((function(vnd){return vnd.isEnabled in document})))}catch(ex){}return undefined}(),_returnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,vendor)try{var value=document.exitFullscreen();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise});function _selectElement(requestedEl){var selectedEl=requestedEl||document.documentElement;return selectedEl===document.documentElement&&("msRequestFullscreen"===vendor.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(selectedEl=document.body),selectedEl}function isFullscreen(){return Boolean(vendor&&document[vendor.element])}function requestFullscreen(options,requestedEl){var _this=this;if(!vendor)return Promise.reject(new Error("fullscreen not supported"));var element=_selectElement(requestedEl);if("function"!=typeof element[vendor.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(isFullscreen())return Promise.resolve();if(_returnsPromise())return element[vendor.requestFn](options);var namespace=".Fullscreen_requestFullscreen";return new Promise((function(resolve,reject){jQuery(element).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen request error")):resolve()})),element[vendor.requestFn](options)}))}function exitFullscreen(){var _this2=this;if(!vendor||"function"!=typeof document[vendor.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!isFullscreen())return Promise.reject(new TypeError("fullscreen mode not active"));if(_returnsPromise())return document[vendor.exitFn]();var namespace=".Fullscreen_exitFullscreen";return new Promise((function(resolve,reject){jQuery(document).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this2).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen exit error")):resolve()})),document[vendor.exitFn]()}))}return Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},element:{get:function(){return vendor?document[vendor.element]:null}},isEnabled:{value:function(){return Boolean(vendor&&document[vendor.isEnabled])}},isFullscreen:{value:isFullscreen},request:{value:requestFullscreen},exit:{value:exitFullscreen},toggle:{value:function(options,requestedEl){return isFullscreen()?exitFullscreen():requestFullscreen(options,requestedEl)}},onChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.changeEvent,handlerFn)}}},offChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.changeEvent,handlerFn):$(element).off(vendor.changeEvent)}}},onError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.errorEvent,handlerFn)}}},offError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.errorEvent,handlerFn):$(element).off(vendor.errorEvent)}}}}))}(),_ref3=Object.freeze(Object.defineProperties({},{clone:{value:function clone(orig){return"object"!==_typeof(orig)||null===orig?orig:orig instanceof String?String(orig):orig instanceof Number?Number(orig):orig instanceof Boolean?Boolean(orig):"function"==typeof orig.clone?orig.clone(!0):orig.nodeType&&"function"==typeof orig.cloneNode?orig.cloneNode(!0):(orig instanceof Array?copy=new Array(orig.length):orig instanceof Date?copy=new Date(orig.getTime()):orig instanceof Map?(copy=new Map,orig.forEach((function(val,key){return copy.set(key,clone(val))}))):orig instanceof RegExp?copy=new RegExp(orig):orig instanceof Set?(copy=new Set,orig.forEach((function(val){return copy.add(clone(val))}))):copy=Object.create(Object.getPrototypeOf(orig)),Object.keys(orig).forEach((function(name){return copy[name]=clone(orig[name])})),copy);var copy}},convertBreaks:{value:function(source){for(var node,output=document.createDocumentFragment(),para=document.createElement("p");null!==(node=source.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":if(null!==node.nextSibling&&node.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===node.nextSibling.nodeName.toUpperCase()){source.removeChild(node.nextSibling),source.removeChild(node),output.appendChild(para),para=document.createElement("p");continue}if(!para.hasChildNodes()){source.removeChild(node);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":para.hasChildNodes()&&(output.appendChild(para),para=document.createElement("p")),output.appendChild(node);continue}para.appendChild(node)}para.hasChildNodes()&&output.appendChild(para),source.appendChild(output)}},safeActiveElement:{value:function(){try{return document.activeElement||null}catch(ex){return null}}},setDisplayTitle:{value:function(title){if("string"!=typeof title)throw new TypeError("story display title must be a string (received: ".concat(Util.getType(title),")"));var render=document.createDocumentFragment();new Wikifier(render,title);var text=function(source){for(var node,copy=source.cloneNode(!0),frag=document.createDocumentFragment();null!==(node=copy.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":case"DIV":case"P":frag.appendChild(document.createTextNode(" "))}frag.appendChild(node)}return frag.textContent}(render).trim();document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?"".concat(State.passage," | ").concat(text):text;var storyTitle=document.getElementById("story-title");null!==storyTitle&&jQuery(storyTitle).empty().append(render)}},setPageElement:{value:function(idOrElement,titles,defaultText){var el="object"===_typeof(idOrElement)?idOrElement:document.getElementById(idOrElement);if(null==el)return null;var ids=Array.isArray(titles)?titles:[titles];jQuery(el).empty();for(var i=0,iend=ids.length;i<iend;++i)if(Story.has(ids[i]))return new Wikifier(el,Story.get(ids[i]).processText().trim()),el;if(null!=defaultText){var text=String(defaultText).trim();""!==text&&new Wikifier(el,text)}return el}},throwError:{value:function(place,message,source){var $wrapper=jQuery(document.createElement("div")),$toggle=jQuery(document.createElement("button")),$source=jQuery(document.createElement("pre")),mesg="".concat(L10n.get("errorTitle"),": ").concat(message||"unknown error");return $toggle.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},(function(){$toggle.hasClass("enabled")?($toggle.removeClass("enabled"),$source.attr({"aria-hidden":!0,hidden:"hidden"})):($toggle.addClass("enabled"),$source.removeAttr("aria-hidden hidden"))})).appendTo($wrapper),jQuery(document.createElement("span")).addClass("error").text(mesg).appendTo($wrapper),jQuery(document.createElement("code")).text(source).appendTo($source),$source.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo($wrapper),$wrapper.addClass("error-view").appendTo(place),console.warn("".concat(mesg,"\n\t").concat(source.replace(/\n/g,"\n\t"))),!1}},stringFrom:{value:function stringFrom(value){switch(_typeof(value)){case"function":return"[function]";case"number":if(Number.isNaN(value))return"[number NaN]";break;case"object":if(null===value)return"[null]";if(value instanceof Array)return value.map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Set)return Array.from(value).map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Map){var result=Array.from(value).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1];return"".concat(stringFrom(key)," → ").concat(stringFrom(val))}));return"{ ".concat(result.join(", ")," }")}if(value instanceof Date)return value.toLocaleString();if(value instanceof Element){if(value===document.documentElement||value===document.head||value===document.body)throw new Error("illegal operation; attempting to convert the <html>, <head>, or <body> tags to string is not allowed");return value.outerHTML}return value instanceof Node?value.textContent:"function"==typeof value.toString?value.toString():Object.prototype.toString.call(value);case"symbol":var desc=void 0!==value.description?' "'.concat(value.description,'"'):"";return"[symbol".concat(desc,"]");case"undefined":return"[undefined]"}return String(value)}}})),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setDisplayTitle=_ref3.setDisplayTitle,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,stringFrom=_ref3.stringFrom;!function(){function onKeypressFn(ev){13!==ev.which&&32!==ev.which||(ev.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function onClickFnWrapper(fn){return function(){var $this=jQuery(this);$this.ariaIsDisabled()||($this.is("[aria-pressed]")&&$this.attr("aria-pressed","true"===$this.attr("aria-pressed")?"false":"true"),fn.apply(this,arguments))}}function oneClickFnWrapper(fn){return onClickFnWrapper((function(){jQuery(this).off(".aria-clickable").removeAttr("role tabindex aria-controls aria-pressed").filter("button").prop("disabled",!0),fn.apply(this,arguments)}))}jQuery.fn.extend({ariaClick:function(options,handler){if(0===this.length||0===arguments.length)return this;var opts=options,fn=handler;return null==fn&&(fn=opts,opts=undefined),"string"!=typeof(opts=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,role:undefined,controls:undefined,pressed:undefined,label:undefined},opts)).namespace?opts.namespace="":"."!==opts.namespace[0]&&(opts.namespace=".".concat(opts.namespace)),"boolean"==typeof opts.pressed&&(opts.pressed=opts.pressed?"true":"false"),this.filter("button").prop("type","button"),null!=opts.role?this.attr("role",opts.role):this.not("[role]").filter("a,[data-passage]").attr("role","link").end().not("a").not("[data-passage]").attr("role","button").end().end().end(),this.attr("tabindex",0),null!=opts.controls&&this.attr("aria-controls",opts.controls),null!=opts.pressed&&this.attr("aria-pressed",opts.pressed),null!=opts.label&&this.attr({"aria-label":opts.label,title:opts.label}),this.not("button").on("keypress.aria-clickable".concat(opts.namespace),opts.selector,onKeypressFn),this.on("click.aria-clickable".concat(opts.namespace),opts.selector,opts.data,opts.one?oneClickFnWrapper(fn):onClickFnWrapper(fn)),this},ariaDisabled:function(disable){if(0===this.length||0===arguments.length)return this;var $nonDisableable=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),$disableable=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return disable?($nonDisableable.each((function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true")})),$disableable.each((function(){this.disabled=!0,this.setAttribute("aria-disabled","true")}))):($nonDisableable.each((function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")})),$disableable.each((function(){this.disabled=!1,this.removeAttribute("aria-disabled")}))),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.extend({wikiWithOptions:function(options){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];if(0!==sources.length){var frag=document.createDocumentFragment();sources.forEach((function(content){return new Wikifier(frag,content,options)}));var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "))}},wiki:function(){for(var _len2=arguments.length,sources=new Array(_len2),_key2=0;_key2<_len2;_key2++)sources[_key2]=arguments[_key2];this.wikiWithOptions.apply(this,[undefined].concat(sources))}}),jQuery.fn.extend({wikiWithOptions:function(options){for(var _len3=arguments.length,sources=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)sources[_key3-1]=arguments[_key3];if(0===this.length||0===sources.length)return this;var frag=document.createDocumentFragment();return sources.forEach((function(content){return new Wikifier(frag,content,options)})),this.append(frag),this},wiki:function(){for(var _len4=arguments.length,sources=new Array(_len4),_key4=0;_key4<_len4;_key4++)sources[_key4]=arguments[_key4];return this.wikiWithOptions.apply(this,[undefined].concat(sources))}});var Util=function(){var toString,utilGetType="[object Object]"===(toString=Object.prototype.toString).call(new Map)?function(O){if(null===O)return"null";if(O instanceof Map)return"Map";if(O instanceof Set)return"Set";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType}:function(O){if(null===O)return"null";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType};function utilToEnum(obj){var pEnum=Object.create(null);if(obj instanceof Array)obj.forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Set)Array.from(obj).forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Map)obj.forEach((function(val,key){return pEnum[String(key)]=val}));else{if("object"!==_typeof(obj)||null===obj||Object.getPrototypeOf(obj)!==Object.prototype)throw new TypeError("Util.toEnum obj parameter must be an Array, Map, Set, or generic object");Object.assign(pEnum,obj)}return Object.freeze(pEnum)}function utilToStringTag(obj){return Object.prototype.toString.call(obj).slice(8,-1)}var _illegalSlugCharsRe=/[\x00-\x20!-/:-@[-^`{-\x9f]+/g,_isInvalidSlugRe=/^-*$/;var _illegalFilenameCharsRE=/[\x00-\x1f"#$%&'*+,/:;<=>?\\^`|\x7f-\x9f]+/g;var _markupCharsRe=/[!"#$&'*\-/<=>?@[\\\]^_`{|}~]/g,_hasMarkupCharsRe=new RegExp(_markupCharsRe.source),_markupCharsMap=utilToEnum({"!":"&#33;",'"':"&quot;","#":"&#35;",$:"&#36;","&":"&amp;","'":"&#39;","*":"&#42;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","?":"&#63;","@":"&#64;","[":"&#91;","\\":"&#92;","]":"&#93;","^":"&#94;",_:"&#95;","`":"&#96;","{":"&#123;","|":"&#124;","}":"&#125;","~":"&#126;"});var _htmlCharsRe=/[&<>"'`]/g,_hasHtmlCharsRe=new RegExp(_htmlCharsRe.source),_htmlCharsMap=utilToEnum({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"});function utilEscape(str){if(null==str)return"";var val=String(str);return val&&_hasHtmlCharsRe.test(val)?val.replace(_htmlCharsRe,(function(ch){return _htmlCharsMap[ch]})):val}var _escapedHtmlRe=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,_hasEscapedHtmlRe=new RegExp(_escapedHtmlRe.source,"i"),_escapedHtmlMap=utilToEnum({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"});function utilUnescape(str){if(null==str)return"";var val=String(str);return val&&_hasEscapedHtmlRe.test(val)?val.replace(_escapedHtmlRe,(function(entity){return _escapedHtmlMap[entity.toLowerCase()]})):val}var _nowSource=Has.performance?performance:Date;var _cssTimeRe=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;var utilScrubEventKey=function(){var separatorKey,decimalKey;if("undefined"!=typeof Intl&&"function"==typeof Intl.NumberFormat){var match=(new Intl.NumberFormat).format(111111.5).match(/(\D*)\d+(\D*)/);match&&(separatorKey=match[1],decimalKey=match[2])}return separatorKey||decimalKey||(separatorKey=",",decimalKey="."),function(key){switch(key){case"Scroll":return"ScrollLock";case"Spacebar":return" ";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Del":return"Delete";case"Crsel":return"CrSel";case"Exsel":return"ExSel";case"Esc":return"Escape";case"Apps":return"ContextMenu";case"Nonconvert":return"NonConvert";case"MediaNextTrack":return"MediaTrackNext";case"MediaPreviousTrack":return"MediaTrackPrevious";case"VolumeUp":return"AudioVolumeUp";case"VolumeDown":return"AudioVolumeDown";case"VolumeMute":return"AudioVolumeMute";case"Zoom":return"ZoomToggle";case"SelectMedia":case"MediaSelect":return"LaunchMediaPlayer";case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Decimal":return decimalKey;case"Separator":return separatorKey}return key}}(),utilHasMediaQuery="function"!=typeof window.matchMedia?function(){return!1}:function(mediaQuery){return window.matchMedia(mediaQuery).matches};return Object.freeze(Object.defineProperties({},{getType:{value:utilGetType},isBoolean:{value:function(obj){return"boolean"==typeof obj||"string"==typeof obj&&("true"===obj||"false"===obj)}},isIterable:{value:function(obj){return null!=obj&&"function"==typeof obj[Symbol.iterator]}},isNumeric:{value:function(obj){var num;switch(_typeof(obj)){case"number":num=obj;break;case"string":num=Number(obj);break;default:return!1}return!Number.isNaN(num)&&Number.isFinite(num)}},sameValueZero:{value:function(a,b){return a===b||a!=a&&b!=b}},toEnum:{value:utilToEnum},toStringTag:{value:utilToStringTag},slugify:{value:function(str){var base=String(str).trim(),_legacy=base.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return _isInvalidSlugRe.test(_legacy)?base.replace(_illegalSlugCharsRe,"").replace(/[_\s\u2013\u2014-]+/g,"-"):_legacy}},sanitizeFilename:{value:function(str){return String(str).trim().replace(_illegalFilenameCharsRE,"")}},escapeMarkup:{value:function(str){if(null==str)return"";var val=String(str);return val&&_hasMarkupCharsRe.test(val)?val.replace(_markupCharsRe,(function(ch){return _markupCharsMap[ch]})):val}},escape:{value:utilEscape},unescape:{value:utilUnescape},charAndPosAt:{value:function(text,position){var str=String(text),pos=Math.trunc(position),code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};var retval={char:str.charAt(pos),start:pos,end:pos};if(code<55296||code>57343)return retval;if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)return retval;var nextCode=str.charCodeAt(nextPos);return nextCode<56320||nextCode>57343||(retval.char=retval.char+str.charAt(nextPos),retval.end=nextPos),retval}if(0===pos)return retval;var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);return prevCode<55296||prevCode>56319||(retval.char=str.charAt(prevPos)+retval.char,retval.start=prevPos),retval}},now:{value:function(){return _nowSource.now()}},fromCssTime:{value:function(cssTime){var match=_cssTimeRe.exec(String(cssTime));if(null===match)throw new SyntaxError('invalid time value syntax: "'.concat(cssTime,'"'));var msec=Number(match[1]);if(1===match[2].length&&(msec*=1e3),Number.isNaN(msec)||!Number.isFinite(msec))throw new RangeError('invalid time value: "'.concat(cssTime,'"'));return msec}},toCssTime:{value:function(msec){if("number"!=typeof msec||Number.isNaN(msec)||!Number.isFinite(msec)){var what;switch(_typeof(msec)){case"string":what='"'.concat(msec,'"');break;case"number":what=String(msec);break;default:what=utilToStringTag(msec)}throw new Error("invalid milliseconds: ".concat(what))}return"".concat(msec,"ms")}},fromCssProperty:{value:function(cssName){if(!cssName.includes("-"))switch(cssName){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return cssName}return("-ms-"===cssName.slice(0,4)?cssName.slice(1):cssName).split("-").map((function(part,i){return 0===i?part:part.toUpperFirst()})).join("")}},parseUrl:{value:function(url){var el=document.createElement("a"),queryObj=Object.create(null);el.href=url,el.search&&el.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach((function(query){var _query$split2=_slicedToArray(query.split("="),2),key=_query$split2[0],value=_query$split2[1];queryObj[key]=value}));var pathname=el.host&&"/"!==el.pathname[0]?"/".concat(el.pathname):el.pathname;return{href:el.href,protocol:el.protocol,host:el.host,hostname:el.hostname,port:el.port,path:"".concat(pathname).concat(el.search),pathname:pathname,query:el.search,search:el.search,queries:queryObj,searches:queryObj,hash:el.hash}}},newExceptionFrom:{value:function(original,exceptionType,override){if("object"!==_typeof(original)||null===original)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof exceptionType)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var ex=new exceptionType(original.message);void 0!==original.name&&(ex.name=original.name),void 0!==original.code&&(ex.code=original.code),void 0!==original.columnNumber&&(ex.columnNumber=original.columnNumber),void 0!==original.description&&(ex.description=original.description),void 0!==original.fileName&&(ex.fileName=original.fileName),void 0!==original.lineNumber&&(ex.lineNumber=original.lineNumber),void 0!==original.number&&(ex.number=original.number),void 0!==original.stack&&(ex.stack=original.stack);var overrideType=_typeof(override);if("undefined"!==overrideType)if("object"===overrideType&&null!==override)Object.assign(ex,override);else{if("string"!==overrideType)throw new Error("Util.newExceptionFrom override parameter must be an object or string");ex.message=override}return ex}},scrubEventKey:{value:utilScrubEventKey},hasMediaQuery:{value:utilHasMediaQuery},random:{value:Math.random},entityEncode:{value:utilEscape},entityDecode:{value:utilUnescape},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=(_adapters=[],_initialized=null,Object.freeze(Object.defineProperties({},{adapters:{value:_adapters},create:{value:function(storageId,persistent){if(_initialized)return _initialized.create(storageId,persistent);for(var i=0;i<_adapters.length;++i)if(_adapters[i].init(storageId,persistent))return(_initialized=_adapters[i]).create(storageId,persistent);throw new Error("no valid storage adapters found")}}}))),_adapters,_initialized,_ok,_WebStorageAdapter;SimpleStore.adapters.push((_ok=!1,_WebStorageAdapter=function(){function _WebStorageAdapter(storageId,persistent){_classCallCheck(this,_WebStorageAdapter);var prefix="".concat(storageId,"."),engine=null,name=null;persistent?(engine=window.localStorage,name="localStorage"):(engine=window.sessionStorage,name="sessionStorage"),Object.defineProperties(this,{_engine:{value:engine},_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:name},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_WebStorageAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var keys=[],i=0;i<this._engine.length;++i){var key=this._engine.key(i);this._prefixRe.test(key)&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&this._engine.hasOwnProperty(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=this._engine.getItem(this._prefix+key);return null==value?null:_WebStorageAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{this._engine.setItem(this._prefix+key,_WebStorageAdapter._serialize(value))}catch(ex){if(/quota.?(?:exceeded|reached)/i.test(ex.name+ex.message))throw Util.newExceptionFrom(ex,Error,"".concat(this.name," quota exceeded"));throw ex}return!0}},{key:"delete",value:function(key){return!("string"!=typeof key||!key||(this._engine.removeItem(this._prefix+key),0))}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_serialize",value:function(obj){return LZString.compressToUTF16(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromUTF16(str))}}]),_WebStorageAdapter}(),Object.freeze(Object.defineProperties({},{init:{value:function(){function hasWebStorage(storeId){try{var store=window[storeId],tid="_sc_".concat(String(Date.now()));store.setItem(tid,tid);var result=store.getItem(tid)===tid;return store.removeItem(tid),result}catch(ex){}return!1}return _ok=hasWebStorage("localStorage")&&hasWebStorage("sessionStorage")}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _WebStorageAdapter(storageId,persistent)}}})))),SimpleStore.adapters.push(function(){var _MAX_EXPIRY="Tue, 19 Jan 2038 03:14:07 GMT",_MIN_EXPIRY="Thu, 01 Jan 1970 00:00:00 GMT",_ok=!1,_CookieAdapter=function(){function _CookieAdapter(storageId,persistent){_classCallCheck(this,_CookieAdapter);var prefix="".concat(storageId).concat(persistent?"!":"*",".");Object.defineProperties(this,{_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:"cookie"},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_CookieAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var cookies=document.cookie.split(/;\s*/),keys=[],i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(this._prefixRe.test(key))""!==decodeURIComponent(kvPair[1])&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&null!==_CookieAdapter._getCookie(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=_CookieAdapter._getCookie(this._prefix+key);return null===value?null:_CookieAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,_CookieAdapter._serialize(value),this.persistent?"Tue, 19 Jan 2038 03:14:07 GMT":undefined),!this.has(key))throw new Error("unknown validation error during set")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"delete",value:function(key){if("string"!=typeof key||!key||!this.has(key))return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,undefined,_MIN_EXPIRY),this.has(key))throw new Error("unknown validation error during delete")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_getCookie",value:function(prefixedKey){if(!prefixedKey||""===document.cookie)return null;for(var cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("=");if(prefixedKey===decodeURIComponent(kvPair[0]))return decodeURIComponent(kvPair[1])||null}return null}},{key:"_setCookie",value:function(prefixedKey,value,expiry){if(prefixedKey){var payload="".concat(encodeURIComponent(prefixedKey),"=");null!=value&&(payload+=encodeURIComponent(value)),null!=expiry&&(payload+="; expires=".concat(expiry)),payload+="; path=/",document.cookie=payload}}},{key:"_serialize",value:function(obj){return LZString.compressToBase64(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromBase64(str))}}]),_CookieAdapter}();return Object.freeze(Object.defineProperties({},{init:{value:function(storageId){try{var tid="_sc_".concat(String(Date.now()));_CookieAdapter._setCookie(tid,_CookieAdapter._serialize(tid),undefined),_ok=_CookieAdapter._deserialize(_CookieAdapter._getCookie(tid))===tid,_CookieAdapter._setCookie(tid,undefined,_MIN_EXPIRY)}catch(ex){_ok=!1}return _ok&&function(storageId){if(""===document.cookie)return;for(var oldPrefix="".concat(storageId,"."),oldPrefixRe=new RegExp("^".concat(RegExp.escape(oldPrefix))),persistPrefix="".concat(storageId,"!."),sessionPrefix="".concat(storageId,"*."),sessionTestRe=/\.(?:state|rcWarn)$/,cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(oldPrefixRe.test(key)){var value=decodeURIComponent(kvPair[1]);""!==value&&function(){var persist=!sessionTestRe.test(key);_CookieAdapter._setCookie(key,undefined,_MIN_EXPIRY),_CookieAdapter._setCookie(key.replace(oldPrefixRe,(function(){return persist?persistPrefix:sessionPrefix})),value,persist?_MAX_EXPIRY:undefined)}()}}}(storageId),_ok}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _CookieAdapter(storageId,persistent)}}}))}());var DebugView=function(){function DebugView(parent,type,name,title){_classCallCheck(this,DebugView),Object.defineProperties(this,{parent:{value:parent},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:title,"aria-label":title,"data-type":null!=type?type:"","data-name":null!=name?name:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(DebugView,[{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(type){this.view.setAttribute("data-type",null!=type?type:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(name){this.view.setAttribute("data-name",null!=name?name:"")}},{key:"title",get:function(){return this.view.title},set:function(title){this.view.title=title}},{key:"append",value:function(el){return jQuery(this.view).append(el),this}},{key:"modes",value:function(options){if(null==options){var current={};return this.view.className.splitOrEmpty(/\s+/).forEach((function(name){"debug"!==name&&(current[name]=!0)})),current}if("object"===_typeof(options))return Object.keys(options).forEach((function(name){this[options[name]?"addClass":"removeClass"](name)}),jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var $view=jQuery(this.view);this.view.hasChildNodes()&&$view.contents().appendTo(this.parent),$view.remove(),jQuery(this.break).remove()}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?DebugView.disable():DebugView.enable()}}]),DebugView}(),NodeTyper=function(){var NodeTyper=function(){function NodeTyper(config){if(_classCallCheck(this,NodeTyper),"object"!==_typeof(config)||null===config)throw new Error("config parameter must be an object (received: ".concat(Util.getType(config),")"));if(!(config.hasOwnProperty("targetNode")&&config.targetNode instanceof Node))throw new Error('config parameter object "targetNode" property must be a node');Object.defineProperties(this,{node:{value:config.targetNode},childNodes:{value:[]},nodeValue:{writable:!0,value:""},appendTo:{writable:!0,value:config.parentNode||null},classNames:{writable:!0,value:config.classNames||null},finished:{writable:!0,value:!1}});var childNode,node=this.node;for(node.nodeValue&&(this.nodeValue=node.nodeValue,node.nodeValue="");null!==(childNode=node.firstChild);)this.childNodes.push(new NodeTyper({targetNode:childNode,parentNode:node,classNames:this.classNames})),node.removeChild(childNode)}return _createClass(NodeTyper,[{key:"finish",value:function(){for(;this.type(!0););return!1}},{key:"type",value:function(flush){if(this.finished)return!1;if(this.appendTo){if(this.appendTo.appendChild(this.node),this.appendTo=null,this.node.nodeType!==Node.ELEMENT_NODE&&this.node.nodeType!==Node.TEXT_NODE||"none"===jQuery(this.node.parentNode).css("display"))return this.finish();this.node.parentNode&&this.classNames&&jQuery(this.node.parentNode).addClass(this.classNames)}if(this.nodeValue){if(flush)this.node.nodeValue+=this.nodeValue,this.nodeValue="";else{var _Util$charAndPosAt=Util.charAndPosAt(this.nodeValue,0),char=_Util$charAndPosAt.char,start=_Util$charAndPosAt.start,end=_Util$charAndPosAt.end;this.node.nodeValue+=char,this.nodeValue=this.nodeValue.slice(1+end-start)}return!0}this.classNames&&(jQuery(this.node.parentNode).removeClass(this.classNames),this.classNames=null);for(var childNodes=this.childNodes;childNodes.length>0;){if(childNodes[0].type())return!0;childNodes.shift()}return this.finished=!0,!1}}]),NodeTyper}();return NodeTyper}(),PRNGWrapper=function(){function PRNGWrapper(seed,useEntropy){_classCallCheck(this,PRNGWrapper),Object.defineProperties(this,new Math.seedrandom(seed,useEntropy,(function(prng,seed){return{_prng:{value:prng},seed:{writable:!0,value:seed},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}})))}return _createClass(PRNGWrapper,null,[{key:"marshal",value:function(prng){if(!prng||!prng.hasOwnProperty("seed")||!prng.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:prng.seed,pull:prng.pull}}},{key:"unmarshal",value:function(prngObj){if(!prngObj||!prngObj.hasOwnProperty("seed")||!prngObj.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var prng=new PRNGWrapper(prngObj.seed,!1),i=prngObj.pull;i>0;--i)prng.random();return prng}}]),PRNGWrapper}(),StyleWrapper=(_imageMarkupRe=new RegExp(Patterns.cssImage,"g"),_hasImageMarkupRe=new RegExp(Patterns.cssImage),function(){function StyleWrapper(style){if(_classCallCheck(this,StyleWrapper),null==style)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:style}})}return _createClass(StyleWrapper,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(rawCss){this.clear(),this.add(rawCss)}},{key:"add",value:function(rawCss){var css=rawCss;_hasImageMarkupRe.test(css)&&(_imageMarkupRe.lastIndex=0,css=css.replace(_imageMarkupRe,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text.trim())}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),this.style.styleSheet?this.style.styleSheet.cssText+=css:this.style.appendChild(document.createTextNode(css))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),StyleWrapper}()),_imageMarkupRe,_hasImageMarkupRe,Diff=(Op=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3}),Object.freeze(Object.defineProperties({},{Op:{value:Op},diff:{value:function diff(orig,dest){for(var aOpRef,objToString=Object.prototype.toString,origIsArray=orig instanceof Array,keys=[].concat(Object.keys(orig),Object.keys(dest)).sort().filter((function(val,i,arr){return 0===i||arr[i-1]!==val})),diffed={},keyIsAOpRef=function(key){return key===aOpRef},i=0,klen=keys.length;i<klen;++i){var key=keys[i],origP=orig[key],destP=dest[key];if(orig.hasOwnProperty(key))if(dest.hasOwnProperty(key)){if(origP===destP)continue;if(_typeof(origP)===_typeof(destP))if("function"==typeof origP)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,destP]);else if("object"!==_typeof(origP)||null===origP)diffed[key]=[Op.Copy,destP];else{var origPType=objToString.call(origP);if(origPType===objToString.call(destP))if(origP instanceof Date)Number(origP)!==Number(destP)&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Map)diffed[key]=[Op.Copy,clone(destP)];else if(origP instanceof RegExp)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Set)diffed[key]=[Op.Copy,clone(destP)];else if("[object Object]"!==origPType)diffed[key]=[Op.Copy,clone(destP)];else{var recurse=diff(origP,destP);null!==recurse&&(diffed[key]=recurse)}else diffed[key]=[Op.Copy,clone(destP)]}else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}else if(origIsArray&&Util.isNumeric(key)){var nKey=Number(key);if(!aOpRef){aOpRef="";do{aOpRef+="~"}while(keys.some(keyIsAOpRef));diffed[aOpRef]=[Op.SpliceArray,nKey,nKey]}nKey<diffed[aOpRef][1]&&(diffed[aOpRef][1]=nKey),nKey>diffed[aOpRef][2]&&(diffed[aOpRef][2]=nKey)}else diffed[key]=Op.Delete;else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}return Object.keys(diffed).length>0?diffed:null}},patch:{value:function patch(orig,diffed){for(var keys=Object.keys(diffed||{}),patched=clone(orig),i=0,klen=keys.length;i<klen;++i){var key=keys[i],diffedP=diffed[key];if(diffedP===Op.Delete)delete patched[key];else if(diffedP instanceof Array)switch(diffedP[0]){case Op.SpliceArray:patched.splice(diffedP[1],diffedP[2]-diffedP[1]+1);break;case Op.Copy:patched[key]=clone(diffedP[1]);break;case Op.CopyDate:patched[key]=new Date(diffedP[1])}else patched[key]=patch(patched[key],diffedP)}return patched}}}))),Op,L10n=(_patternRe=/\{\w+\}/g,_hasPatternRe=new RegExp(_patternRe.source),Object.freeze(Object.defineProperties({},{init:{value:function(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach((function(id){try{var value;switch(id){case"identity":value=strings.identity;break;case"aborting":value=strings.aborting;break;case"cancel":value=strings.cancel;break;case"close":value=strings.close;break;case"ok":value=strings.ok;break;case"errorTitle":value=strings.errors.title;break;case"errorNonexistentPassage":value=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":value=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":value=strings.errors.saveIdMismatch;break;case"warningDegraded":value=strings.warnings.degraded;break;case"debugViewTitle":value=strings.debugView.title;break;case"debugViewToggle":value=strings.debugView.toggle;break;case"uiBarToggle":value=strings.uiBar.toggle;break;case"uiBarBackward":value=strings.uiBar.backward;break;case"uiBarForward":value=strings.uiBar.forward;break;case"uiBarJumpto":value=strings.uiBar.jumpto;break;case"jumptoTitle":value=strings.jumpto.title;break;case"jumptoTurn":value=strings.jumpto.turn;break;case"jumptoUnavailable":value=strings.jumpto.unavailable;break;case"savesTitle":value=strings.saves.title;break;case"savesDisallowed":value=strings.saves.disallowed;break;case"savesIncapable":value=strings.saves.incapable;break;case"savesLabelAuto":value=strings.saves.labelAuto;break;case"savesLabelDelete":value=strings.saves.labelDelete;break;case"savesLabelExport":value=strings.saves.labelExport;break;case"savesLabelImport":value=strings.saves.labelImport;break;case"savesLabelLoad":value=strings.saves.labelLoad;break;case"savesLabelClear":value=strings.saves.labelClear;break;case"savesLabelSave":value=strings.saves.labelSave;break;case"savesLabelSlot":value=strings.saves.labelSlot;break;case"savesUnavailable":value=strings.saves.unavailable;break;case"savesUnknownDate":value=strings.saves.unknownDate;break;case"settingsTitle":value=strings.settings.title;break;case"settingsOff":value=strings.settings.off;break;case"settingsOn":value=strings.settings.on;break;case"settingsReset":value=strings.settings.reset;break;case"restartTitle":value=strings.restart.title;break;case"restartPrompt":value=strings.restart.prompt;break;case"shareTitle":value=strings.share.title;break;case"alertTitle":break;case"autoloadTitle":value=strings.autoload.title;break;case"autoloadCancel":value=strings.autoload.cancel;break;case"autoloadOk":value=strings.autoload.ok;break;case"autoloadPrompt":value=strings.autoload.prompt;break;case"macroBackText":value=strings.macros.back.text;break;case"macroReturnText":value=strings.macros.return.text}value&&(l10nStrings[id]=value.replace(/%\w+%/g,(function(pat){return"{".concat(pat.slice(1,-1),"}")})))}catch(ex){}}))}},get:{value:function(ids,overrides){if(!ids)return"";var selectedId,id=((Array.isArray(ids)?ids:[ids]).some((function(id){return!!l10nStrings.hasOwnProperty(id)&&(selectedId=id,!0)})),selectedId);if(!id)return"";for(var processed=l10nStrings[id],iteration=0;_hasPatternRe.test(processed);){if(++iteration>50)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");_patternRe.lastIndex=0,processed=processed.replace(_patternRe,(function(pat){var subId=pat.slice(1,-1);return overrides&&overrides.hasOwnProperty(subId)?overrides[subId]:l10nStrings.hasOwnProperty(subId)?l10nStrings[subId]:void 0}))}return processed}}}))),_patternRe,_hasPatternRe,strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveDiskLoadFailed:"failed to load save file from disk",errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",alertTitle:"Alert",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=(_debug=!1,_addVisitedLinkClass=!1,_cleanupWikifierOutput=!1,_loadDelay=0,_audioPauseOnFadeToZero=!0,_audioPreloadMetadata=!0,_historyControls=!0,_historyMaxStates=40,_macrosIfAssignmentError=!0,_macrosMaxLoopIterations=1e3,_macrosTypeSkipKey=" ",_macrosTypeVisitedPassages=!0,_passagesDisplayTitles=!1,_passagesNobr=!1,_savesId="untitled-story",_savesSlots=8,_savesTryDiskOnMobile=!0,_uiStowBarInitially=800,_uiUpdateStoryElements=!0,_errHistoryModeDeprecated="Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code",Object.freeze({get debug(){return _debug},set debug(value){_debug=Boolean(value)},get addVisitedLinkClass(){return _addVisitedLinkClass},set addVisitedLinkClass(value){_addVisitedLinkClass=Boolean(value)},get cleanupWikifierOutput(){return _cleanupWikifierOutput},set cleanupWikifierOutput(value){_cleanupWikifierOutput=Boolean(value)},get loadDelay(){return _loadDelay},set loadDelay(value){if(!Number.isSafeInteger(value)||value<0)throw new RangeError("Config.loadDelay must be a non-negative integer");_loadDelay=value},audio:Object.freeze({get pauseOnFadeToZero(){return _audioPauseOnFadeToZero},set pauseOnFadeToZero(value){_audioPauseOnFadeToZero=Boolean(value)},get preloadMetadata(){return _audioPreloadMetadata},set preloadMetadata(value){_audioPreloadMetadata=Boolean(value)}}),history:Object.freeze({get controls(){return _historyControls},set controls(value){var controls=Boolean(value);if(1===_historyMaxStates&&controls)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");_historyControls=controls},get maxStates(){return _historyMaxStates},set maxStates(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.history.maxStates must be a positive integer");_historyMaxStates=value,_historyControls&&1===value&&(_historyControls=!1)},get mode(){throw new Error(_errHistoryModeDeprecated)},set mode(_){throw new Error(_errHistoryModeDeprecated)},get tracking(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")},set tracking(_){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}}),macros:Object.freeze({get ifAssignmentError(){return _macrosIfAssignmentError},set ifAssignmentError(value){_macrosIfAssignmentError=Boolean(value)},get maxLoopIterations(){return _macrosMaxLoopIterations},set maxLoopIterations(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.macros.maxLoopIterations must be a positive integer");_macrosMaxLoopIterations=value},get typeSkipKey(){return _macrosTypeSkipKey},set typeSkipKey(value){_macrosTypeSkipKey=String(value)},get typeVisitedPassages(){return _macrosTypeVisitedPassages},set typeVisitedPassages(value){_macrosTypeVisitedPassages=Boolean(value)}}),navigation:Object.freeze({get override(){return _navigationOverride},set override(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_navigationOverride=value}}),passages:Object.freeze({get descriptions(){return _passagesDescriptions},set descriptions(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"Object"!==valueType&&"function"!==valueType)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: ".concat(valueType,")"))}_passagesDescriptions=value},get displayTitles(){return _passagesDisplayTitles},set displayTitles(value){_passagesDisplayTitles=Boolean(value)},get nobr(){return _passagesNobr},set nobr(value){_passagesNobr=Boolean(value)},get onProcess(){return _passagesOnProcess},set onProcess(value){if(null!=value){var valueType=Util.getType(value);if("function"!==valueType)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: ".concat(valueType,")"))}_passagesOnProcess=value},get start(){return _passagesStart},set start(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType)throw new TypeError("Config.passages.start must be a string or null/undefined (received: ".concat(valueType,")"))}_passagesStart=value},get transitionOut(){return _passagesTransitionOut},set transitionOut(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: ".concat(valueType,")"))}_passagesTransitionOut=value}}),saves:Object.freeze({get autoload(){return _savesAutoload},set autoload(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"string"!==valueType&&"function"!==valueType)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: ".concat(valueType,")"))}_savesAutoload=value},get autosave(){return _savesAutosave},set autosave(value){if(null!=value){var valueType=Util.getType(value);if("string"===valueType)return void(_savesAutosave=[value]);if("boolean"!==valueType&&("Array"!==valueType||!value.every((function(item){return"string"==typeof item})))&&"function"!==valueType)throw new TypeError("Config.saves.autosave must be a boolean, Array<string>, function, or null/undefined (received: ".concat(valueType).concat("Array"===valueType?"<any>":"",")"))}_savesAutosave=value},get id(){return _savesId},set id(value){if("string"!=typeof value||""===value)throw new TypeError("Config.saves.id must be a non-empty string (received: ".concat(Util.getType(value),")"));_savesId=value},get isAllowed(){return _savesIsAllowed},set isAllowed(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_savesIsAllowed=value},get slots(){return _savesSlots},set slots(value){if(!Number.isSafeInteger(value)||value<0)throw new TypeError("Config.saves.slots must be a non-negative integer (received: ".concat(Util.getType(value),")"));_savesSlots=value},get tryDiskOnMobile(){return _savesTryDiskOnMobile},set tryDiskOnMobile(value){_savesTryDiskOnMobile=Boolean(value)},get version(){return _savesVersion},set version(value){_savesVersion=value},get onLoad(){throw new Error("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead")},set onLoad(value){console.warn("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead"),Save.onLoad.add(value)},get onSave(){throw new Error("Config.saves.onSave has been deprecated, use the Save.onSave API instead")},set onSave(value){console.warn("Config.saves.onSave has been deprecated, use the Save.onSave API instead"),Save.onSave.add(value)}}),ui:Object.freeze({get stowBarInitially(){return _uiStowBarInitially},set stowBarInitially(value){var valueType=Util.getType(value);if("boolean"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: ".concat(valueType,")"));_uiStowBarInitially=value},get updateStoryElements(){return _uiUpdateStoryElements},set updateStoryElements(value){_uiUpdateStoryElements=Boolean(value)}})})),_navigationOverride,_passagesDescriptions,_passagesStart,_passagesOnProcess,_passagesTransitionOut,_savesAutoload,_savesAutosave,_savesIsAllowed,_savesVersion,_debug,_addVisitedLinkClass,_cleanupWikifierOutput,_loadDelay,_audioPauseOnFadeToZero,_audioPreloadMetadata,_historyControls,_historyMaxStates,_macrosIfAssignmentError,_macrosMaxLoopIterations,_macrosTypeSkipKey,_macrosTypeVisitedPassages,_passagesDisplayTitles,_passagesNobr,_savesId,_savesSlots,_savesTryDiskOnMobile,_uiStowBarInitially,_uiUpdateStoryElements,_errHistoryModeDeprecated,SimpleAudio=function(){var _hasPromise,_gestureEventNames=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),_specialIds=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),_formatSpecRe=/^([\w-]+)\s*\|\s*(\S.*)$/,_badIdRe=/[:\s]/,_tracks=new Map,_groups=new Map,_lists=new Map,_subscribers=new Map,_masterRate=1,_masterVolume=1,_masterMute=!1,_masterMuteOnHidden=!1,_playReturnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,Has.audio)try{var audio=document.createElement("audio");audio.muted=!0;var value=audio.play();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise}),AudioTrack=function(){function AudioTrack(obj){if(_classCallCheck(this,AudioTrack),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioTrack))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioTrack,[{key:"_create",value:function(sourceList){var dataUriRe=/^data:\s*audio\/(?:x-)?([^;,]+)\s*[;,]/i,extRe=/\.([^./\\]+)$/,formats=AudioTrack.formats,usedSources=[],audio=document.createElement("audio");audio.preload="none",sourceList.forEach((function(src){var srcUri=null;switch(_typeof(src)){case"string":var match;if("data:"===src.slice(0,5)){if(null===(match=dataUriRe.exec(src)))throw new Error("source data URI missing media type")}else if(null===(match=extRe.exec(Util.parseUrl(src).pathname)))throw new Error("source URL missing file extension");formats[match[1]]&&(srcUri=src);break;case"object":if(null===src)throw new Error("source object cannot be null");if(!src.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!src.hasOwnProperty("format"))throw new Error('source object missing required "format" property');formats[src.format]&&(srcUri=src.src);break;default:throw new Error("invalid source value (type: ".concat(_typeof(src),")"))}if(null!==srcUri){var source=document.createElement("source");source.src=srcUri,audio.appendChild(source),usedSources.push(srcUri)}})),audio.hasChildNodes()&&Config.audio.preloadMetadata&&(audio.preload="metadata"),this._finalize(audio,usedSources,clone(sourceList))}},{key:"_copy",value:function(obj){this._finalize(obj.audio.cloneNode(!0),clone(obj.sources),clone(obj.originals))}},{key:"_finalize",value:function(audio,sources,originals){var _this3=this;Object.defineProperties(this,{audio:{configurable:!0,value:audio},sources:{value:Object.freeze(sources)},originals:{value:Object.freeze(originals)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",(function(){return _this3._error=!1})).on("error.AudioTrack",(function(){return _this3._error=!0})).find("source:last-of-type").on("error.AudioTrack",(function(){return _this3._trigger("error")})),function(id,callback){if("function"!=typeof callback)throw new Error("callback parameter must be a function");_subscribers.set(id,callback)}(this,(function(mesg){if(_this3.audio)switch(mesg){case"loadwithscreen":if(_this3.hasSource()){var lockId=LoadScreen.lock();_this3.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",(function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(lockId)})).load()}break;case"load":_this3.load();break;case"mute":_this3._updateAudioMute();break;case"rate":_this3._updateAudioRate();break;case"stop":_this3.stop();break;case"volume":_this3._updateAudioVolume();break;case"unload":_this3.unload()}else unsubscribe(_this3)})),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(eventName){jQuery(this.audio).triggerHandler(eventName)}},{key:"_destroy",value:function(){unsubscribe(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new AudioTrack(this)}},{key:"load",value:function(){var _this4=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach((function(srcUri){var source=document.createElement("source");source.src=srcUri,_this4.audio.appendChild(source)}))}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var audio=this.audio;for(audio.preload="none";audio.hasChildNodes();)audio.removeChild(audio.firstChild);audio.load()}},{key:"play",value:function(){var _this5=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var namespace=".AudioTrack_play";return _playReturnsPromise()?this.audio.play():new Promise((function(resolve,reject){_this5.isPlaying()?resolve():(jQuery(_this5.audio).off(namespace).one("error".concat(namespace," playing").concat(namespace," timeupdate").concat(namespace),(function(ev){jQuery(_this5).off(namespace),"error"===ev.type?reject(new Error("unknown audio play error")):resolve()})),_this5.audio.play())}))}},{key:"playWhenAllowed",value:function(){var _this6=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioTrack_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),_this6.audio.play()}))}))}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(duration,toVol,fromVol){var _this7=this;if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var from=Math.clamp(null==fromVol?this.volume():fromVol,0,1),to=Math.clamp(toVol,0,1);return from!==to?(this.volume(from),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",(function(){var min,max;from<to?(min=from,max=to):(min=to,max=from);var time=Math.max(duration,1),delta=(to-from)/(time/.025);_this7._trigger(":fading"),_this7._faderId=setInterval((function(){_this7.isPlaying()?(_this7.volume(Math.clamp(_this7.volume()+delta,min,max)),Config.audio.pauseOnFadeToZero&&0===_this7.volume()&&_this7.pause(),_this7.volume()===to&&(_this7.fadeStop(),_this7._trigger(":faded"))):_this7.fadeStop()}),25)})),this.play()):void 0}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(_loop){return null==_loop?this.audio.loop:(this.audio.loop=!!_loop,this)}},{key:"mute",value:function(_mute){return null==_mute?this._mute:(this._mute=!!_mute,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||_masterMute}},{key:"rate",value:function(_rate){if(null==_rate)return this._rate;if("number"!=typeof _rate)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*_masterRate,.2,5)}},{key:"time",value:function(_time){var _this8=this;if(null==_time)return this.audio.currentTime;if("number"!=typeof _time)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=_time:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",(function(){return _this8.audio.currentTime=_time})),this}},{key:"volume",value:function(_volume){if(null==_volume)return this._volume;if("number"!=typeof _volume)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*_masterVolume,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return jQuery.fn.on.apply(jQuery(this.audio),args),this}},{key:"one",value:function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return jQuery.fn.one.apply(jQuery(this.audio),args),this}},{key:"off",value:function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return jQuery.fn.off.apply(jQuery(this.audio),args),this}}]),AudioTrack}();Object.defineProperties(AudioTrack,{formats:{value:function(){var audio=document.createElement("audio"),types=new Map;function canPlay(mimeType){return types.has(mimeType)||types.set(mimeType,""!==audio.canPlayType(mimeType).replace(/^no$/i,"")),types.get(mimeType)}return Object.assign(Object.create(null),{aac:canPlay("audio/aac"),caf:canPlay("audio/x-caf")||canPlay("audio/caf"),flac:canPlay("audio/x-flac")||canPlay("audio/flac"),mp3:canPlay('audio/mpeg; codecs="mp3"')||canPlay("audio/mpeg")||canPlay("audio/mp3")||canPlay("audio/mpa"),mpeg:canPlay("audio/mpeg"),m4a:canPlay("audio/x-m4a")||canPlay("audio/m4a")||canPlay("audio/aac"),mp4:canPlay("audio/x-mp4")||canPlay("audio/mp4")||canPlay("audio/aac"),ogg:canPlay("audio/ogg"),oga:canPlay("audio/ogg"),opus:canPlay('audio/ogg; codecs="opus"')||canPlay("audio/opus"),wav:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),wave:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),weba:canPlay("audio/webm"),webm:canPlay("audio/webm")})}()}});var AudioList=function(){function AudioList(obj){if(_classCallCheck(this,AudioList),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioList))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioList,[{key:"_create",value:function(trackList){var _this9=this;this._finalize(trackList.map((function(trackObj){if("object"!==_typeof(trackObj))throw new Error("tracks parameter array members must be objects");var own,rate,track,volume;if(trackObj instanceof AudioTrack)own=!0,rate=trackObj.rate(),track=trackObj.clone(),volume=trackObj.volume();else{if(!trackObj.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(trackObj.track instanceof AudioTrack))throw new Error('track object\'s "track" property must be an AudioTrack object');own=trackObj.hasOwnProperty("own")&&trackObj.own,rate=trackObj.hasOwnProperty("rate")?trackObj.rate:trackObj.track.rate(),track=trackObj.track,volume=trackObj.hasOwnProperty("volume")?trackObj.volume:trackObj.track.volume()}return track.stop(),track.loop(!1),track.mute(!1),track.rate(rate),track.volume(volume),track.on("ended.AudioList",(function(){return _this9._onEnd()})),{own:own,track:track,volume:volume,rate:rate}})))}},{key:"_copy",value:function(obj){this._finalize(clone(obj.tracks))}},{key:"_finalize",value:function(tracks){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(tracks)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter((function(trackObj){return trackObj.own})).forEach((function(trackObj){return trackObj.track._destroy()})),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach((function(trackObj){return trackObj.track.load()}))}},{key:"unload",value:function(){this.stop(),this.tracks.forEach((function(trackObj){return trackObj.track.unload()}))}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var _this10=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioList_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioList_playWhenAllowed"),_this10.play()}))}))}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(duration,toVol,fromVol){if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var adjFromVol,adjToVol=Math.clamp(toVol,0,1)*this.current.volume;return null!=fromVol&&(adjFromVol=Math.clamp(fromVol,0,1)*this.current.volume),this._volume=toVol,this.current.track.fade(duration,adjToVol,adjFromVol)}}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(_loop2){return null==_loop2?this._loop:(this._loop=!!_loop2,this)}},{key:"mute",value:function(_mute2){return null==_mute2?this._mute:(this._mute=!!_mute2,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(_rate2){if(null==_rate2)return this._rate;if("number"!=typeof _rate2)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate2,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(_shuffle){var _this11=this;if(null==_shuffle)return this._shuffle;if(this._shuffle=!!_shuffle,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var _this$queue,firstIdx=this.queue.findIndex((function(trackObj){return trackObj===_this11.current}));if(-1!==firstIdx)(_this$queue=this.queue).push.apply(_this$queue,_toConsumableArray(this.queue.splice(0,firstIdx+1)))}return this}},{key:"volume",value:function(_volume2){if(null==_volume2)return this._volume;if("number"!=typeof _volume2)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume2,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var remainingTime=this.queue.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0);return null!==this.current&&(remainingTime+=this.current.track.remaining()),remainingTime}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){var nextTrack;for(null!==this.current&&(this.current.track.stop(),this.current=null);nextTrack=this.queue.shift();)if(!nextTrack.track.isUnavailable()){this.current=nextTrack;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var _this$queue2;this._drainQueue(),(_this$queue2=this.queue).push.apply(_this$queue2,_toConsumableArray(this.tracks.filter((function(trackObj){return!trackObj.track.isUnavailable()})))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),AudioList}(),AudioRunner=function(){function AudioRunner(list){if(_classCallCheck(this,AudioRunner),!(list instanceof Set||list instanceof AudioRunner))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(list instanceof AudioRunner?list.trackIds:list)}})}return _createClass(AudioRunner,[{key:"load",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.load)}},{key:"unload",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.unload)}},{key:"play",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.play)}},{key:"playWhenAllowed",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.playWhenAllowed)}},{key:"pause",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.pause)}},{key:"stop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.stop)}},{key:"fade",value:function(duration,toVol,fromVol){if(null==duration||null==toVol)throw new Error("fade requires parameters");AudioRunner._run(this.trackIds,AudioTrack.prototype.fade,duration,toVol,fromVol)}},{key:"fadeIn",value:function(duration,fromVol){if(null==duration)throw new Error("fadeIn requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeIn,duration,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){if(null==duration)throw new Error("fadeOut requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeOut,duration,fromVol)}},{key:"fadeStop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeStop)}},{key:"loop",value:function(_loop3){if(null==_loop3)throw new Error("loop requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.loop,_loop3),this}},{key:"mute",value:function(_mute3){if(null==_mute3)throw new Error("mute requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.mute,_mute3),this}},{key:"rate",value:function(_rate3){if(null==_rate3)throw new Error("rate requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.rate,_rate3),this}},{key:"time",value:function(_time2){if(null==_time2)throw new Error("time requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.time,_time2),this}},{key:"volume",value:function(_volume3){if(null==_volume3)throw new Error("volume requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.volume,_volume3),this}},{key:"on",value:function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.on].concat(args)),this}},{key:"one",value:function(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.one].concat(args)),this}},{key:"off",value:function(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.off].concat(args)),this}}],[{key:"_run",value:function(ids,fn){for(var _len11=arguments.length,args=new Array(_len11>2?_len11-2:0),_key11=2;_key11<_len11;_key11++)args[_key11-2]=arguments[_key11];ids.forEach((function(id){var track=_tracks.get(id);track&&fn.apply(track,args)}))}}]),AudioRunner}();var _runnerParseSelector=function(){var notWsRe=/\S/g,parenRe=/[()]/g;function processNegation(str,startPos){var match;if(notWsRe.lastIndex=startPos,null===(match=notWsRe.exec(str))||"("!==match[0])throw new Error('invalid ":not()" syntax: missing parentheticals');parenRe.lastIndex=notWsRe.lastIndex;for(var start=notWsRe.lastIndex,result={str:"",nextMatch:-1},depth=1;null!==(match=parenRe.exec(str));)if("("===match[0]?++depth:--depth,depth<1){result.nextMatch=parenRe.lastIndex,result.str=str.slice(start,result.nextMatch-1);break}return result}return function parseSelector(idArg){for(var match,ids=[],idRe=/:?[^\s:()]+/g;null!==(match=idRe.exec(idArg));){var id=match[0];if(":not"===id){if(0===ids.length)throw new Error('invalid negation: no group ID preceded ":not()"');var parent=ids[ids.length-1];if(":"!==parent.id[0])throw new Error('invalid negation of track "'.concat(parent.id,'": only groups may be negated with ":not()"'));var negation=processNegation(idArg,idRe.lastIndex);if(-1===negation.nextMatch)throw new Error('unknown error parsing ":not()"');idRe.lastIndex=negation.nextMatch,parent.not=parseSelector(negation.str)}else ids.push({id:id})}return ids}}();function masterMute(mute){if(null==mute)return _masterMute;publish("mute",_masterMute=!!mute)}function unsubscribe(id){_subscribers.delete(id)}function publish(mesg,data){_subscribers.forEach((function(fn){return fn(mesg,data)}))}function _newTrack(sources){return new AudioTrack(sources.map((function(source){if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);if(passage.tags.includes("Twine.audio"))return passage.text.trim()}var match=_formatSpecRe.exec(source);return null===match?source:{format:match[1],src:match[2]}})))}return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("track ID"),arguments.length<2&&errors.push("sources"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='track ID "'.concat(id,'"');if(_badIdRe.test(id))throw new Error("invalid ".concat(what,": track IDs must not contain colons or whitespace"));var track,sources=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{track=_newTrack(sources)}catch(ex){throw new Error("".concat(what,": error during track initialization: ").concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("".concat(what,": no supported audio sources found"));_tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.set(id,track)}},delete:{value:function(id){return _tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.delete(id)}},clear:{value:function(){_tracks.forEach((function(track){return track._destroy()})),_tracks.clear()}},has:{value:function(id){return _tracks.has(id)}},get:{value:function(id){return _tracks.get(id)||null}}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("group ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='group ID "'.concat(id,'"');if(":"!==id[0]||_badIdRe.test(id.slice(1)))throw new Error("invalid ".concat(what,": group IDs must start with a colon and must not contain colons or whitespace"));if(_specialIds.includes(id))throw new Error("cannot clobber special ".concat(what));var group,trackIds=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{group=new Set(trackIds.map((function(trackId){if(!_tracks.has(trackId))throw new Error('track "'.concat(trackId,'" does not exist'));return trackId})))}catch(ex){throw new Error("".concat(what,": error during group initialization: ").concat(ex.message))}_groups.set(id,Object.freeze(Array.from(group)))}},delete:{value:function(id){return _groups.delete(id)}},clear:{value:function(){_groups.clear()}},has:{value:function(id){return _groups.has(id)}},get:{value:function(id){return _groups.get(id)||null}}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("list ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='list ID "'.concat(id,'"');if(_badIdRe.test(id))return this.error("invalid ".concat(what,": list IDs must not contain colons or whitespace"));var list,descriptors=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{list=new AudioList(descriptors.map((function(desc){if(null===desc)throw new Error("track descriptor must be a string or object (type: null)");switch(_typeof(desc)){case"string":desc={id:desc};break;case"object":if(!desc.hasOwnProperty("id")&&!desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(desc.hasOwnProperty("id")&&desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: ".concat(_typeof(desc),")"))}var own,track,volume;if(desc.hasOwnProperty("id")){if("string"!=typeof desc.id)throw new Error('"id" property must be a string');if(!_tracks.has(desc.id))throw new Error('track "'.concat(desc.id,'" does not exist'));track=_tracks.get(desc.id)}else if(desc.hasOwnProperty("sources")){if(!Array.isArray(desc.sources)||0===desc.sources.length)throw new Error('"sources" property must be a non-empty array');if(desc.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{track=_newTrack(desc.sources),own=!0}catch(ex){throw new Error("error during track initialization: ".concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("no supported audio sources found")}if(desc.hasOwnProperty("own")){if("boolean"!=typeof desc.own)throw new Error('"own" property must be a boolean');(own=desc.own)&&(track=track.clone())}if(desc.hasOwnProperty("volume")){if("number"!=typeof desc.volume||Number.isNaN(desc.volume)||!Number.isFinite(desc.volume)||desc.volume<0)throw new Error('"volume" property must be a non-negative finite number');volume=desc.volume}return{own:null!=own&&own,track:track,volume:null!=volume?volume:track.volume()}})))}catch(ex){throw new Error("".concat(what,": error during playlist initialization: ").concat(ex.message))}_lists.has(id)&&_lists.get(id)._destroy(),_lists.set(id,list)}},delete:{value:function(id){return _lists.has(id)&&_lists.get(id)._destroy(),_lists.delete(id)}},clear:{value:function(){_lists.forEach((function(list){return list._destroy()})),_lists.clear()}},has:{value:function(id){return _lists.has(id)}},get:{value:function(id){return _lists.get(id)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var selector=String(arguments[0]).trim(),trackIds=new Set;try{var renderIds=function renderIds(idObj){var ids,id=idObj.id;switch(id){case":all":ids=allIds;break;case":looped":ids=allIds.filter((function(id){return _tracks.get(id).loop()}));break;case":muted":ids=allIds.filter((function(id){return _tracks.get(id).mute()}));break;case":paused":ids=allIds.filter((function(id){return _tracks.get(id).isPaused()}));break;case":playing":ids=allIds.filter((function(id){return _tracks.get(id).isPlaying()}));break;default:ids=":"===id[0]?_groups.get(id):[id]}if(idObj.hasOwnProperty("not")){var negated=idObj.not.map((function(idObj){return renderIds(idObj)})).flat(1/0);ids=ids.filter((function(id){return!negated.includes(id)}))}return ids},allIds=Array.from(_tracks.keys());_runnerParseSelector(selector).forEach((function(idObj){return renderIds(idObj).forEach((function(id){if(!_tracks.has(id))throw new Error('track "'.concat(id,'" does not exist'));trackIds.add(id)}))}))}catch(ex){throw new Error("error during runner initialization: ".concat(ex.message))}return new AudioRunner(trackIds)}},load:{value:function(){publish("load")}},loadWithScreen:{value:function(){publish("loadwithscreen")}},mute:{value:masterMute},muteOnHidden:{value:function(mute){if(!Visibility.isEnabled())return!1;if(null==mute)return _masterMuteOnHidden;var namespace=".SimpleAudio_masterMuteOnHidden";if(_masterMuteOnHidden=!!mute){var visibilityChange="".concat(Visibility.changeEvent).concat(namespace);jQuery(document).off(namespace).on(visibilityChange,(function(){return masterMute(Visibility.isHidden())})),Visibility.isHidden()&&masterMute(!0)}else jQuery(document).off(namespace)}},rate:{value:function(rate){if(null==rate)return _masterRate;if("number"!=typeof rate||Number.isNaN(rate)||!Number.isFinite(rate))throw new Error("rate must be a finite number");publish("rate",_masterRate=Math.clamp(rate,.2,5))}},stop:{value:function(){publish("stop")}},unload:{value:function(){publish("unload")}},volume:{value:function(volume){if(null==volume)return _masterVolume;if("number"!=typeof volume||Number.isNaN(volume)||!Number.isFinite(volume))throw new Error("volume must be a finite number");publish("volume",_masterVolume=Math.clamp(volume,0,1))}}}))}(),State=function(){var _history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null,_tempVariables={};function stateMarshal(noDelta){var stateObj={index:_activeIndex};return noDelta?stateObj.history=clone(_history):stateObj.delta=historyDeltaEncode(_history),_expired.length>0&&(stateObj.expired=_toConsumableArray(_expired)),null!==_prng&&(stateObj.seed=_prng.seed),stateObj}function stateUnmarshal(stateObj,noDelta){if(null==stateObj)throw new Error("state object is null or undefined");if(!stateObj.hasOwnProperty(noDelta?"history":"delta")||0===stateObj[noDelta?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!stateObj.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==_prng&&!stateObj.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===_prng&&stateObj.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");_history=noDelta?clone(stateObj.history):historyDeltaDecode(stateObj.delta),_activeIndex=stateObj.index,_expired=stateObj.hasOwnProperty("expired")?_toConsumableArray(stateObj.expired):[],stateObj.hasOwnProperty("seed")&&(_prng.seed=stateObj.seed),momentActivate(_activeIndex)}function momentCreate(title,variables){return{title:null==title?"":String(title),variables:null==variables?{}:clone(variables)}}function momentActivate(moment){if(null==moment)throw new Error("moment activation attempted with null or undefined");switch(_typeof(moment)){case"object":_active=clone(moment);break;case"number":if(historyIsEmpty())throw new Error("moment activation attempted with index on empty history");if(moment<0||moment>=historySize())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, ".concat(historySize()-1,"], got ").concat(moment));_active=clone(_history[moment]);break;default:throw new TypeError('moment activation attempted with a "'.concat(_typeof(moment),'"; must be an object or valid history stack index'))}return null!==_prng&&(_prng=PRNGWrapper.unmarshal({seed:_prng.seed,pull:_active.pull})),session.set("state",stateMarshal()),jQuery.event.trigger(":historyupdate"),_active}function historyLength(){return _activeIndex+1}function historySize(){return _history.length}function historyIsEmpty(){return 0===_history.length}function historyTop(){return _history.length>0?_history[_history.length-1]:null}function historyGoTo(index){return!(null==index||index<0||index>=historySize()||index===_activeIndex)&&(momentActivate(_activeIndex=index),!0)}function historyDeltaEncode(historyArr){if(!Array.isArray(historyArr))return null;if(0===historyArr.length)return[];for(var delta=[historyArr[0]],i=1,iend=historyArr.length;i<iend;++i)delta.push(Diff.diff(historyArr[i-1],historyArr[i]));return delta}function historyDeltaDecode(delta){if(!Array.isArray(delta))return null;if(0===delta.length)return[];for(var historyArr=[clone(delta[0])],i=1,iend=delta.length;i<iend;++i)historyArr.push(Diff.patch(historyArr[i-1],delta[i]));return historyArr}function prngInit(seed,useEntropy){var scriptSection;if(!historyIsEmpty())throw scriptSection="the Story JavaScript",new Error("State.prng.init must be called during initialization, within either ".concat(scriptSection," or the StoryInit special passage"));_prng=new PRNGWrapper(seed,useEntropy),_active.pull=_prng.pull}function metadataDelete(key){if("string"!=typeof key)throw new TypeError("State.metadata.delete key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");store&&store.hasOwnProperty(key)&&(1===Object.keys(store).length?storage.delete("metadata"):(delete store[key],storage.set("metadata",store)))}return Object.freeze(Object.defineProperties({},{reset:{value:function(){session.delete("state"),_history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null===_prng?null:new PRNGWrapper(_prng.seed,!1)}},restore:{value:function(){if(session.has("state")){var stateObj=session.get("state");return null!=stateObj&&(stateUnmarshal(stateObj),!0)}return!1}},marshalForSave:{value:function(){return stateMarshal(!0)}},unmarshalForSave:{value:function(stateObj){return stateUnmarshal(stateObj,!0)}},expired:{get:function(){return _expired}},turns:{get:function(){return _expired.length+historyLength()}},passages:{get:function(){return _expired.concat(_history.slice(0,historyLength()).map((function(moment){return moment.title})))}},hasPlayed:{value:function(title){return null!=title&&""!==title&&(!!_expired.includes(title)||!!_history.slice(0,historyLength()).some((function(moment){return moment.title===title})))}},active:{get:function(){return _active}},activeIndex:{get:function(){return _activeIndex}},passage:{get:function(){return _active.title}},variables:{get:function(){return _active.variables}},history:{get:function(){return _history}},length:{get:historyLength},size:{get:historySize},isEmpty:{value:historyIsEmpty},current:{get:function(){return _history.length>0?_history[_activeIndex]:null}},top:{get:historyTop},bottom:{get:function(){return _history.length>0?_history[0]:null}},index:{value:function(index){return historyIsEmpty()||index<0||index>_activeIndex?null:_history[index]}},peek:{value:function(offset){if(historyIsEmpty())return null;var lengthOffset=1+(offset?Math.abs(offset):0);return lengthOffset>historyLength()?null:_history[historyLength()-lengthOffset]}},has:{value:function(title){if(historyIsEmpty()||null==title||""===title)return!1;for(var i=_activeIndex;i>=0;--i)if(_history[i].title===title)return!0;return!1}},create:{value:function(title){for(0,historyLength()<historySize()&&_history.splice(historyLength(),historySize()-historyLength()),_history.push(momentCreate(title,_active.variables)),_prng&&(historyTop().pull=_prng.pull);historySize()>Config.history.maxStates;)_expired.push(_history.shift().title);return momentActivate(_activeIndex=historySize()-1),historyLength()}},goTo:{value:historyGoTo},go:{value:function(offset){return null!=offset&&0!==offset&&historyGoTo(_activeIndex+offset)}},deltaEncode:{value:historyDeltaEncode},deltaDecode:{value:historyDeltaDecode},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:prngInit},isEnabled:{value:function(){return null!==_prng}},pull:{get:function(){return _prng?_prng.pull:NaN}},seed:{get:function(){return _prng?_prng.seed:null}}}))},random:{value:function(){return _prng?_prng.random():Math.random()}},clearTemporary:{value:function(){TempVariables=_tempVariables={}}},temporary:{get:function(){return _tempVariables}},getVar:{value:function(varExpression){try{return Scripting.evalTwineScript(varExpression)}catch(ex){}}},setVar:{value:function(varExpression,value){try{return Scripting.evalTwineScript("".concat(varExpression," = evalTwineScript$Data$"),null,value),!0}catch(ex){}return!1}},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:function(){storage.delete("metadata")}},delete:{value:metadataDelete},entries:{value:function(){var store=storage.get("metadata");return store&&Object.entries(store)}},get:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.get key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)?store[key]:undefined}},has:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.has key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)}},keys:{value:function(){var store=storage.get("metadata");return store&&Object.keys(store)}},set:{value:function(key,value){if("string"!=typeof key)throw new TypeError("State.metadata.set key parameter must be a string (received: ".concat(_typeof(key),")"));if(void 0===value)metadataDelete(key);else{var store=storage.get("metadata")||{};store[key]=value,storage.set("metadata",store)}}},size:{get:function(){var store=storage.get("metadata");return store?Object.keys(store).length:0}}}))},initPRNG:{value:prngInit},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(targets,selector,handler,one,namespace){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var fn,opts;if("function"==typeof selector?(fn=selector,opts={namespace:one,one:!!handler}):(fn=handler,opts={namespace:namespace,one:!!one,selector:selector}),"function"!=typeof fn)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(targets).ariaClick(opts,fn)}function insertElement(place,type,id,classNames,text,title){var $el=jQuery(document.createElement(type));return id&&$el.attr("id",id),classNames&&$el.addClass(classNames),title&&$el.attr("title",title),text&&$el.text(text),place&&$el.appendTo(place),$el[0]}function insertText(place,text){jQuery(place).append(document.createTextNode(text))}function removeChildren(node){jQuery(node).empty()}function removeElement(node){jQuery(node).remove()}function fade(el,options){var current,intervalId,direction="in"===options.fade?1:-1,proxy=el.cloneNode(!0);function setOpacity(el,opacity){el.style.zoom=1,el.style.filter="alpha(opacity=".concat(Math.floor(100*opacity),")"),el.style.opacity=opacity}el.parentNode.replaceChild(proxy,el),"in"===options.fade?(current=0,proxy.style.visibility="visible"):current=1,setOpacity(proxy,current),intervalId=window.setInterval((function(){current+=.05*direction,setOpacity(proxy,Math.easeInOut(current)),(1===direction&&current>=1||-1===direction&&current<=0)&&(el.style.visibility="in"===options.fade?"visible":"hidden",proxy.parentNode.replaceChild(el,proxy),proxy=null,window.clearInterval(intervalId),options.onComplete&&options.onComplete())}),25)}function scrollWindowTo(el,incrementBy){var increment=null!=incrementBy?Number(incrementBy):.1;Number.isNaN(increment)||!Number.isFinite(increment)||increment<0?increment=.1:increment>1&&(increment=1);var intervalId,start=window.scrollY?window.scrollY:document.body.scrollTop,end=function(el){var posTop=function(el){var curtop=0;for(;el.offsetParent;)curtop+=el.offsetTop,el=el.offsetParent;return curtop}(el),posBottom=posTop+el.offsetHeight,winTop=window.scrollY?window.scrollY:document.body.scrollTop,winHeight=window.innerHeight?window.innerHeight:document.body.clientHeight,winBottom=winTop+winHeight;return posTop>=winTop&&posBottom>winBottom&&el.offsetHeight<winHeight?posTop-(winHeight-el.offsetHeight)+20:posTop}(el),distance=Math.abs(start-end),direction=start>end?-1:1,progress=0;intervalId=window.setInterval((function(){progress+=increment,window.scroll(0,start+direction*(distance*Math.easeInOut(progress))),progress>=1&&window.clearInterval(intervalId)}),25)}function toStringOrDefault(value){return stringFrom(value)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(key){if("string"!=typeof key)throw new TypeError("forget key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.delete(key)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,i=0,iend=needles.length;i<iend;++i)if(!played.includes(needles[i]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,uBound=played.length-1,turns=State.turns,i=0,iend=needles.length;i<iend&&turns>-1;++i){var lastIndex=played.lastIndexOf(needles[i]);turns=Math.min(turns,-1===lastIndex?-1:uBound-lastIndex)}return turns}function memorize(key,value){if("string"!=typeof key)throw new TypeError("memorize key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.set(key,value)}function passage(){return State.passage}function previous(){var passages=State.passages;if(arguments.length>0){var offset=Number(arguments[0]);if(!Number.isSafeInteger(offset)||offset<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return passages.length>offset?passages[passages.length-1-offset]:""}for(var i=passages.length-2;i>=0;--i)if(passages[i]!==State.passage)return passages[i];return""}function random(){var min,max;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:min=0,max=Math.trunc(arguments[0]);break;default:min=Math.trunc(arguments[0]),max=Math.trunc(arguments[1])}if(!Number.isInteger(min))throw new Error("random min parameter must be an integer");if(!Number.isInteger(max))throw new Error("random max parameter must be an integer");if(min>max){var _ref6=[max,min];min=_ref6[0],max=_ref6[1]}return Math.floor(State.random()*(max-min+1))+min}function randomFloat(){var min,max;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:min=0,max=Number(arguments[0]);break;default:min=Number(arguments[0]),max=Number(arguments[1])}if(Number.isNaN(min)||!Number.isFinite(min))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(max)||!Number.isFinite(max))throw new Error("randomFloat max parameter must be a number");if(min>max){var _ref7=[max,min];min=_ref7[0],max=_ref7[1]}return State.random()*(max-min)+min}function recall(key,defaultValue){if("string"!=typeof key)throw new TypeError("recall key parameter must be a string (received: ".concat(Util.getType(key),")"));return State.metadata.has(key)?State.metadata.get(key):defaultValue}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var passages=Array.prototype.concat.apply([],arguments),tags=[],i=0,iend=passages.length;i<iend;++i)tags=tags.concat(Story.get(passages[i]).tags);return tags}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),played=State.passages,count=State.turns,i=0,iend=needles.length;i<iend&&count>0;++i)count=Math.min(count,played.count(needles[i]));return count}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],arguments),nLength=needles.length,played=State.passages,seen=new Map,count=0,i=0,iend=played.length;i<iend;++i){var title=played[i];if(seen.has(title))seen.get(title)&&++count;else{var _tags2=Story.get(title).tags;if(_tags2.length>0){for(var found=0,j=0;j<nLength;++j)_tags2.includes(needles[j])&&++found;found===nLength?(++count,seen.set(title,!0)):seen.set(title,!1)}}}return count}var _ref8=function(){function slugifyUrl(url){return Util.parseUrl(url).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function addScript(url){return new Promise((function(resolve,reject){jQuery(document.createElement("script")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importScripts failed to load the script "'.concat(url,'".')))})).appendTo(document.head).attr({id:"script-imported-".concat(slugifyUrl(url)),type:"text/javascript",src:url})}))}function addStyle(url){return new Promise((function(resolve,reject){jQuery(document.createElement("link")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importStyles failed to load the stylesheet "'.concat(url,'".')))})).appendTo(document.head).attr({id:"style-imported-".concat(slugifyUrl(url)),rel:"stylesheet",href:url})}))}function sequence(callbacks){return callbacks.reduce((function(seq,fn){return seq.then(fn)}),Promise.resolve())}return{importScripts:function(){for(var _len12=arguments.length,urls=new Array(_len12),_key12=0;_key12<_len12;_key12++)urls[_key12]=arguments[_key12];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addScript(url)}}))):addScript(oneOrSeries)})))},importStyles:function(){for(var _len13=arguments.length,urls=new Array(_len13),_key13=0;_key13<_len13;_key13++)urls[_key13]=arguments[_key13];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addStyle(url)}}))):addStyle(oneOrSeries)})))}}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=function(){var tokenTable=Util.toEnum({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),parseRe=new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(`(?:\\\\.|[^`\\\\])+`)","(?:[=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),notSpaceRe=/\S/,varTest=new RegExp("^".concat(Patterns.variable)),withColonTestRe=/^\s*:/,withNotTestRe=/^\s+not\b/;function parse(rawCodeString){if(0!==parseRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var match,code=rawCodeString;null!==(match=parseRe.exec(code));)if(match[1]){var rawTemplate=match[1],parsedTemplate=parseTemplate(rawTemplate);parsedTemplate!==rawTemplate&&(code=code.splice(match.index,rawTemplate.length,parsedTemplate),parseRe.lastIndex+=parsedTemplate.length-rawTemplate.length)}else if(match[2]){var token=match[2];if("$"===token||"_"===token)continue;if(varTest.test(token))token=token[0];else if("is"===token){var start=parseRe.lastIndex,ahead=code.slice(start);withNotTestRe.test(ahead)&&(code=code.splice(start,ahead.search(notSpaceRe)),token="isnot")}else{var _ahead=code.slice(parseRe.lastIndex);if(withColonTestRe.test(_ahead))continue}tokenTable[token]&&(code=code.splice(match.index,token.length,tokenTable[token]),parseRe.lastIndex+=tokenTable[token].length-token.length)}return code}var templateGroupStartRe=/\$\{/g,templateGroupParseRe=new RegExp(["(?:\"\"|'')",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(\\{)","(\\})"].join("|"),"g");function parseTemplate(rawTemplateLiteral){if(0!==templateGroupStartRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start of template literal");for(var startMatch,template=rawTemplateLiteral;null!==(startMatch=templateGroupStartRe.exec(template));){var startIdx=startMatch.index+2,endIdx=startIdx,depth=1,endMatch=void 0;for(templateGroupParseRe.lastIndex=startIdx;null!==(endMatch=templateGroupParseRe.exec(template));)if(endMatch[1]?++depth:endMatch[2]&&--depth,0===depth){endIdx=endMatch.index;break}if(endIdx>startIdx){var parseIndex=parseRe.lastIndex,rawGroup=template.slice(startIdx,endIdx);parseRe.lastIndex=0;var parsedGroup=parse(rawGroup);parseRe.lastIndex=parseIndex,template=template.splice(startIdx,rawGroup.length,parsedGroup),templateGroupStartRe.lastIndex+=parsedGroup.length-rawGroup.length}}return template}return parse}();function evalJavaScript(code,output,data){return function(code,output,evalJavaScript$Data$){return eval(code)}.call(output?{output:output}:null,String(code),output,data)}function evalTwineScript(code,output,data){return function(code,output,evalTwineScript$Data$){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output,data)}return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9=function(){var Lexer=function(){function Lexer(source,initialState){if(_classCallCheck(this,Lexer),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:source},initial:{value:initialState},state:{writable:!0,value:initialState},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(Lexer,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(num){this.pos-=num||1}},{key:"forward",value:function(num){this.pos+=num||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(valid){var ch=this.next();return-1!==ch&&(!!valid.includes(ch)||(this.backup(),!1))}},{key:"acceptRe",value:function(validRe){var ch=this.next();return-1!==ch&&(!!validRe.test(ch)||(this.backup(),!1))}},{key:"acceptRun",value:function(valid){for(;;){var ch=this.next();if(-1===ch)return;if(!valid.includes(ch))break}this.backup()}},{key:"acceptRunRe",value:function(validRe){for(;;){var ch=this.next();if(-1===ch)return;if(!validRe.test(ch))break}this.backup()}},{key:"emit",value:function(type){this.items.push({type:type,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(type,message){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:type,message:message,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(names){var obj=names.reduce((function(obj,name,i){return obj[name]=i,obj}),{});return Object.freeze(Object.assign(Object.create(null),obj))}}]),Lexer}();return{EOF:-1,Lexer:Lexer}}(),EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=function(){var _optionsStack,lookaheadRe,idOrClassRe,_callDepth=0,Wikifier=function(){function Wikifier(destination,source,options){_classCallCheck(this,Wikifier),Wikifier.Parser.Profile.isEmpty()&&Wikifier.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(source)},options:{writable:!0,value:Object.assign({profile:"all"},options)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==destination?this.output=document.createDocumentFragment():destination.jquery?this.output=destination[0]:this.output=destination;try{++_callDepth,this.subWikify(this.output),1===_callDepth&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--_callDepth}}return _createClass(Wikifier,[{key:"subWikify",value:function(output,terminator,options){var newOptions,oldOptions,oldOutput=this.output;this.output=output,Wikifier.Option.length>0&&(newOptions=Object.assign(newOptions||{},Wikifier.Option.options)),null!==options&&"object"===_typeof(options)&&(newOptions=Object.assign(newOptions||{},options)),newOptions&&(oldOptions=this.options,this.options=Object.assign({},this.options,newOptions));var terminatorMatch,parserMatch,parsersProfile=Wikifier.Parser.Profile.get(this.options.profile),terminatorRegExp=terminator?new RegExp("(?:".concat(terminator,")"),this.options.ignoreTerminatorCase?"gim":"gm"):null;do{if(parsersProfile.parserRegExp.lastIndex=this.nextMatch,terminatorRegExp&&(terminatorRegExp.lastIndex=this.nextMatch),parserMatch=parsersProfile.parserRegExp.exec(this.source),(terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null)&&(!parserMatch||terminatorMatch.index<=parserMatch.index))return terminatorMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,terminatorMatch.index),this.matchStart=terminatorMatch.index,this.matchLength=terminatorMatch[0].length,this.matchText=terminatorMatch[0],this.nextMatch=terminatorRegExp.lastIndex,this.output=oldOutput,void(oldOptions&&(this.options=oldOptions));if(parserMatch){parserMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,parserMatch.index),this.matchStart=parserMatch.index,this.matchLength=parserMatch[0].length,this.matchText=parserMatch[0],this.nextMatch=parsersProfile.parserRegExp.lastIndex;for(var matchingParser=void 0,i=1,iend=parserMatch.length;i<iend;++i)if(parserMatch[i]){matchingParser=i-1;break}if(parsersProfile.parsers[matchingParser].handler(this),null!=TempState.break)break}}while(terminatorMatch||parserMatch);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=oldOutput,oldOptions&&(this.options=oldOptions)}},{key:"outputText",value:function(destination,startPos,endPos){jQuery(destination).append(document.createTextNode(this.source.substring(startPos,endPos)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(text){var output=document.createDocumentFragment();new Wikifier(output,text);var errors=output.querySelector(".error");if(null!==errors)throw new Error(errors.textContent.replace(errorPrologRegExp,""));return output}},{key:"createInternalLink",value:function(destination,passage,text,callback){var $link=jQuery(document.createElement("a"));return null!=passage&&($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken"),$link.ariaClick({one:!0},(function(){"function"==typeof callback&&callback(),Engine.play(passage)}))),text&&$link.append(document.createTextNode(text)),destination&&$link.appendTo(destination),$link[0]}},{key:"createExternalLink",value:function(destination,url,text){var $link=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(text).appendTo(destination);return null!=url&&$link.attr({href:url,tabindex:0}),$link[0]}},{key:"isExternalLink",value:function(link){return!Story.has(link)&&(new RegExp("^".concat(Patterns.url),"gim").test(link)||/[/.?#]/.test(link))}}]),Wikifier}();return Object.defineProperty(Wikifier,"Option",{value:(_optionsStack=[],Object.freeze(Object.defineProperties({},{length:{get:function(){return _optionsStack.length}},options:{get:function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_optionsStack)))}},clear:{value:function(){_optionsStack=[]}},get:{value:function(idx){return _optionsStack[idx]}},pop:{value:function(){return _optionsStack.pop()}},push:{value:function(options){if("object"!==_typeof(options)||null===options)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: ".concat(Util.getType(options),")"));return _optionsStack.push(options)}}})))}),Object.defineProperty(Wikifier,"Parser",{value:function(){var _profiles,_parsers=[];function parsersHas(name){return!!_parsers.find((function(parser){return parser.name===name}))}return Object.freeze(Object.defineProperties({},{parsers:{get:function(){return _parsers}},add:{value:function(parser){if("object"!==_typeof(parser))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!parser.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof parser.name)throw new Error('parser object "name" property must be a string');if(!parser.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof parser.match)throw new Error('parser object "match" property must be a string');if(!parser.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof parser.handler)throw new Error('parser object "handler" property must be a function');if(parser.hasOwnProperty("profiles")&&!Array.isArray(parser.profiles))throw new Error('parser object "profiles" property must be an array');if(parsersHas(parser.name))throw new Error('cannot clobber existing parser "'.concat(parser.name,'"'));_parsers.push(parser)}},delete:{value:function(name){var parser=_parsers.find((function(parser){return parser.name===name}));parser&&_parsers.delete(parser)}},isEmpty:{value:function(){return 0===_parsers.length}},has:{value:parsersHas},get:{value:function(name){return _parsers.find((function(parser){return parser.name===name}))||null}},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:function(){return _profiles}},compile:{value:function(){var all=_parsers,core=all.filter((function(parser){return!Array.isArray(parser.profiles)||parser.profiles.includes("core")}));return _profiles=Object.freeze({all:{parsers:all,parserRegExp:new RegExp(all.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")},core:{parsers:core,parserRegExp:new RegExp(core.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==_typeof(_profiles)||0===Object.keys(_profiles).length}},has:{value:function(profile){return"object"===_typeof(_profiles)&&_profiles.hasOwnProperty(profile)}},get:{value:function(profile){if("object"!==_typeof(_profiles)||!_profiles.hasOwnProperty(profile))throw new Error('nonexistent parser profile "'.concat(profile,'"'));return _profiles[profile]}}}))}}))}()}),Object.defineProperties(Wikifier,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wikifier.helpers,{inlineCss:{value:(lookaheadRe=new RegExp(Patterns.inlineCss,"gm"),idOrClassRe=new RegExp("(".concat(Patterns.cssIdOrClassSigil,")(").concat(Patterns.anyLetter,"+)"),"g"),function(w){var matched,css={classes:[],id:"",styles:{}};do{lookaheadRe.lastIndex=w.nextMatch;var match=lookaheadRe.exec(w.source);if(matched=match&&match.index===w.nextMatch){if(match[1])css.styles[Util.fromCssProperty(match[1])]=match[2].trim();else if(match[3])css.styles[Util.fromCssProperty(match[3])]=match[4].trim();else if(match[5]){var subMatch=void 0;for(idOrClassRe.lastIndex=0;null!==(subMatch=idOrClassRe.exec(match[5]));)"."===subMatch[1]?css.classes.push(subMatch[2]):css.id=subMatch[2]}w.nextMatch=lookaheadRe.lastIndex}}while(matched);return css})},evalText:{value:function(text){var result;try{switch(_typeof(result=Scripting.evalTwineScript(text))){case"string":""===result.trim()&&(result=text);break;case"number":result=String(result);break;default:result=text}}catch(ex){result=text}return result}},evalPassageId:{value:function(passage){return null==passage||Story.has(passage)?passage:Wikifier.helpers.evalText(passage)}},hasBlockContext:{value:function(nodes){for(var hasGCS="function"==typeof window.getComputedStyle,i=nodes.length-1;i>=0;--i){var node=nodes[i];switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.nodeName.toUpperCase();if("BR"===tagName)return!0;var styles=hasGCS?window.getComputedStyle(node,null):node.currentStyle;if(styles&&styles.display){if("none"===styles.display)continue;return"block"===styles.display}switch(tagName){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){var macroParser=null;function getMacroContextShadowView(){for(var macro=macroParser||function(){if(!macroParser&&!(macroParser=Wikifier.Parser.get("macro")))throw new Error('cannot find "macro" parser');return macroParser}(),view=new Set,context=macro.context;null!==context;context=context.parent)context._shadows&&context._shadows.forEach((function(name){return view.add(name)}));return _toConsumableArray(view)}return function(code){var shadowStore={};return getMacroContextShadowView().forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]})),function(){var shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null;try{return shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),Scripting.evalJavaScript(code)}finally{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}}()},parseSquareBracketedMarkup:{value:function(){var Item=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),Delim=Lexer.enumFromNames(["None","LTR","RTL"]);function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexLeftMeta(lexer){if(!lexer.accept("["))return lexer.error(Item.Error,"malformed square-bracketed markup");if(lexer.accept("["))lexer.data.isLink=!0,lexer.emit(Item.LinkMeta);else{if(lexer.accept("<>"),!(lexer.accept("Ii")&&lexer.accept("Mm")&&lexer.accept("Gg")&&lexer.accept("[")))return lexer.error(Item.Error,"malformed square-bracketed markup");lexer.data.isLink=!1,lexer.emit(Item.ImageMeta)}return lexer.depth=2,lexCoreComponents}function lexCoreComponents(lexer){for(var what=lexer.data.isLink?"link":"image",delim=Delim.None;;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup"));break;case"|":delim===Delim.None&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(),lexer.emit(Item.DelimLTR));break;case"-":delim===Delim.None&&">"===lexer.peek()&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(2),lexer.emit(Item.DelimLTR));break;case"<":delim===Delim.None&&"-"===lexer.peek()&&(delim=Delim.RTL,lexer.backup(),lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.DelimRTL));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.InnerMeta),lexer.data.isLink?lexSetter:lexImageLink;case"]":return--lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexImageLink(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup link component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.InnerMeta),lexSetter;case"]":return--lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexSetter(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup setter component"));break;case"'":if(slurpQuote(lexer,"'")===EOF)return lexer.error(Item.Error,"unterminated single quoted string in ".concat(what," markup setter component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)return"]"!==lexer.peek()?lexer.error(Item.Error,"malformed ".concat(what," markup")):(--lexer.depth,lexer.backup(),lexer.emit(Item.Setter),lexer.forward(2),lexer.emit(Item.RightMeta),null)}}return function(w){var lexer=new Lexer(w.source,lexLeftMeta);lexer.start=lexer.pos=w.matchStart;var markup={},items=lexer.run(),last=items.last();return last&&last.type===Item.Error?markup.error=last.message:items.forEach((function(item){var text=item.text.trim();switch(item.type){case Item.ImageMeta:markup.isImage=!0,"<"===text[1]?markup.align="left":">"===text[1]&&(markup.align="right");break;case Item.LinkMeta:markup.isLink=!0;break;case Item.Link:"~"===text[0]?(markup.forceInternal=!0,markup.link=text.slice(1)):markup.link=text;break;case Item.Setter:markup.setter=text;break;case Item.Source:markup.source=text;break;case Item.Text:markup.text=text}})),markup.pos=lexer.pos,markup}}()}}),Wikifier}();!function(){function _verbatimTagHandler(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(match[1]).appendTo(w.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("blockquote")).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,i,destStack=[w.output],curLevel=0,newLevel=w.matchLength;do{if(newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement("blockquote")).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();curLevel=newLevel,w.subWikify(destStack[destStack.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(destStack[destStack.length-1]),this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);(matched=match&&match.index===w.nextMatch)&&(newLevel=match[0].length,w.nextMatch+=match[0].length)}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?".concat(Patterns.macroName,")(?:\\s*)((?:(?:/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/)|(?://.*\\n)|(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>"),"gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(w){var matchStart=this.lookahead.lastIndex=w.matchStart;if(this.parseTag(w)){var macro,nextMatch=w.nextMatch,name=this.working.name,rawArgs=this.working.arguments;try{if(!(macro=Macro.get(name))){if(Macro.tags.has(name)){var tags=Macro.tags.get(name);return throwError(w.output,"child tag <<".concat(name,">> was found outside of a call to its parent macro").concat(1===tags.length?"":"s"," <<").concat(tags.join(">>, <<"),">>"),w.source.slice(matchStart,w.nextMatch))}return throwError(w.output,"macro <<".concat(name,">> does not exist"),w.source.slice(matchStart,w.nextMatch))}var payload=null;if(void 0!==macro.tags&&!(payload=this.parseBody(w,macro)))return w.nextMatch=nextMatch,throwError(w.output,"cannot find a closing tag for macro <<".concat(name,">>"),"".concat(w.source.slice(matchStart,w.nextMatch),"…"));if("function"!=typeof macro.handler)return throwError(w.output,"macro <<".concat(name,">> handler function ").concat(void 0===macro.handler?"does not exist":"is not a function"),w.source.slice(matchStart,w.nextMatch));var args=payload?payload[0].args:this.createArgs(rawArgs,this.skipArgs(macro,macro.name));if(void 0!==macro._MACRO_API){this.context=new MacroContext({macro:macro,name:name,args:args,payload:payload,source:w.source.slice(matchStart,w.nextMatch),parent:this.context,parser:w});try{macro.handler.call(this.context)}finally{this.context=this.context.parent}}else{var prevRawArgs=w._rawArgs;w._rawArgs=rawArgs;try{macro.handler(w.output,name,args,w,payload)}finally{w._rawArgs=prevRawArgs}}}catch(ex){return throwError(w.output,"cannot execute ".concat(macro&&macro.isWidget?"widget":"macro"," <<").concat(name,">>: ").concat(ex.message),w.source.slice(matchStart,w.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else w.outputText(w.output,w.matchStart,w.nextMatch)},parseTag:function(w){var match=this.lookahead.exec(w.source);return!(!match||match.index!==w.matchStart||!match[1])&&(w.nextMatch=this.lookahead.lastIndex,this.working.source=w.source.slice(match.index,this.lookahead.lastIndex),this.working.name=match[1],this.working.arguments=match[2],this.working.index=match.index,!0)},parseBody:function(w,macro){for(var openTag=this.working.name,closeTag="/".concat(openTag),closeAlt="end".concat(openTag),bodyTags=!!Array.isArray(macro.tags)&&macro.tags,payload=[],end=-1,opened=1,curSource=this.working.source,curTag=this.working.name,curArgument=this.working.arguments,contentStart=w.nextMatch;-1!==(w.matchStart=w.source.indexOf(this.match,w.nextMatch));)if(this.parseTag(w)){var tagSource=this.working.source,tagName=this.working.name,tagArgs=this.working.arguments,tagBegin=this.working.index,tagEnd=w.nextMatch,hasArgs=""!==tagArgs.trim();switch(tagName){case openTag:++opened;break;case closeAlt:case closeTag:if(hasArgs)throw w.nextMatch=tagBegin+2+tagName.length,new Error('malformed closing tag: "'.concat(tagSource,'"'));--opened;break;default:if(hasArgs&&(tagName.startsWith("/")||tagName.startsWith("end"))){this.lookahead.lastIndex=w.nextMatch=tagBegin+2+tagName.length;continue}if(1===opened&&bodyTags)for(var i=0,iend=bodyTags.length;i<iend;++i)tagName===bodyTags[i]&&(payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),curSource=tagSource,curTag=tagName,curArgument=tagArgs,contentStart=tagEnd)}if(0===opened){payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),end=tagEnd;break}}else this.lookahead.lastIndex=w.nextMatch=w.matchStart+this.match.length;return-1!==end?(w.nextMatch=end,payload):null},createArgs:function(rawArgsString,skipArgs){var args=skipArgs?[]:this.parseArgs(rawArgsString);return Object.defineProperties(args,{raw:{value:rawArgsString},full:{value:Scripting.parse(rawArgsString)}}),args},skipArgs:function(macro,tagName){if(void 0!==macro.skipArgs){var sa=macro.skipArgs;return"boolean"==typeof sa&&sa||Array.isArray(sa)&&sa.includes(tagName)}return void 0!==macro.skipArg0&&(macro.skipArg0&&macro.name===tagName)},parseArgs:function(){var Item=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),spaceRe=new RegExp(Patterns.space),notSpaceRe=new RegExp(Patterns.notSpace),varTest=new RegExp("^".concat(Patterns.variable));function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexSpace(lexer){var offset=lexer.source.slice(lexer.pos).search(notSpaceRe);if(offset===EOF)return null;switch(0!==offset&&(lexer.pos+=offset,lexer.ignore()),lexer.next()){case"`":return lexExpression;case'"':return lexDoubleQuote;case"'":return lexSingleQuote;case"[":return lexSquareBracket;default:return lexBareword}}function lexExpression(lexer){return slurpQuote(lexer,"`")===EOF?lexer.error(Item.Error,"unterminated backquote expression"):(lexer.emit(Item.Expression),lexSpace)}function lexDoubleQuote(lexer){return slurpQuote(lexer,'"')===EOF?lexer.error(Item.Error,"unterminated double quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSingleQuote(lexer){return slurpQuote(lexer,"'")===EOF?lexer.error(Item.Error,"unterminated single quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSquareBracket(lexer){var what;if(lexer.accept("<>IiMmGg")?(what="image",lexer.acceptRun("<>IiMmGg")):what="link",!lexer.accept("["))return lexer.error(Item.Error,"malformed ".concat(what," markup"));lexer.depth=2;loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case"[":++lexer.depth;break;case"]":if(--lexer.depth,lexer.depth<0)return lexer.error(Item.Error,"unexpected right square bracket ']'");if(1===lexer.depth){if("]"===lexer.next()){--lexer.depth;break loop}lexer.backup()}}return lexer.emit(Item.SquareBracket),lexSpace}function lexBareword(lexer){var offset=lexer.source.slice(lexer.pos).search(spaceRe);return lexer.pos=offset===EOF?lexer.source.length:lexer.pos+offset,lexer.emit(Item.Bareword),offset===EOF?null:lexSpace}return function(rawArgsString){var lexer=new Lexer(rawArgsString,lexSpace),args=[];return lexer.run().forEach((function(item){var arg=item.text;switch(item.type){case Item.Error:throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(item.message));case Item.Bareword:if(varTest.test(arg))arg=State.getVar(arg);else if(/^(?:settings|setup)[.[]/.test(arg))try{arg=Scripting.evalTwineScript(arg)}catch(ex){throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(ex.message))}else if("null"===arg)arg=null;else if("undefined"===arg)arg=undefined;else if("true"===arg)arg=!0;else if("false"===arg)arg=!1;else if("NaN"===arg)arg=NaN;else{var argAsNum=Number(arg);Number.isNaN(argAsNum)||(arg=argAsNum)}break;case Item.Expression:if(""===(arg=arg.slice(1,-1).trim()))arg=undefined;else try{arg=Scripting.evalTwineScript("(".concat(arg,")"))}catch(ex){throw new Error('unable to parse macro argument expression "'.concat(arg,'": ').concat(ex.message))}break;case Item.String:try{arg=Scripting.evalJavaScript(arg)}catch(ex){throw new Error('unable to parse macro argument string "'.concat(arg,'": ').concat(ex.message))}break;case Item.SquareBracket:var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:arg,matchStart:0});if(markup.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(markup.error));if(markup.pos<arg.length)throw new Error('unable to parse macro argument "'.concat(arg,'": unexpected character(s) "').concat(arg.slice(markup.pos),'" (pos: ').concat(markup.pos,")"));markup.isLink?((arg={isLink:!0}).count=markup.hasOwnProperty("text")?2:1,arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):arg.link,arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null):markup.isImage&&(arg=function(source){var imgObj={source:source,isImage:!0};if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(imgObj.source=passage.text,imgObj.passage=passage.title)}return imgObj}(Wikifier.helpers.evalPassageId(markup.source)),markup.hasOwnProperty("align")&&(arg.align=markup.align),markup.hasOwnProperty("text")&&(arg.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("link")&&(arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link)),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null)}args.push(arg)})),args}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{w.nextMatch=markup.pos;var link=Wikifier.helpers.evalPassageId(markup.link),text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):link,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,output=(Config.debug?new DebugView(w.output,"link-markup","[[link]]",w.source.slice(w.matchStart,w.nextMatch)):w).output;markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(output,link,text,setFn):Wikifier.createExternalLink(output,link,text)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(w){w.outputText(Wikifier.createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{var debugView;w.nextMatch=markup.pos,Config.debug&&(debugView=new DebugView(w.output,"image-markup",markup.hasOwnProperty("link")?"[img[][link]]":"[img[]]",w.source.slice(w.matchStart,w.nextMatch))).modes({block:!0});var source,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,el=(Config.debug?debugView:w).output;if(markup.hasOwnProperty("link")){var link=Wikifier.helpers.evalPassageId(markup.link);(el=markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(el,link,null,setFn):Wikifier.createExternalLink(el,link)).classList.add("link-image")}if(el=jQuery(document.createElement("img")).appendTo(el).get(0),"data:"!==(source=Wikifier.helpers.evalPassageId(markup.source)).slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(el.setAttribute("data-passage",passage.title),source=passage.text.trim())}el.src=source,markup.hasOwnProperty("text")&&(el.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("align")&&(el.align=markup.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){var pre=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(match[1]).appendTo(pre),pre.appendTo(w.output),w.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(w){switch(w.matchText){case"''":w.subWikify(jQuery(document.createElement("strong")).appendTo(w.output).get(0),"''");break;case"//":w.subWikify(jQuery(document.createElement("em")).appendTo(w.output).get(0),"//");break;case"__":w.subWikify(jQuery(document.createElement("u")).appendTo(w.output).get(0),"__");break;case"^^":w.subWikify(jQuery(document.createElement("sup")).appendTo(w.output).get(0),"\\^\\^");break;case"~~":w.subWikify(jQuery(document.createElement("sub")).appendTo(w.output).get(0),"~~");break;case"==":w.subWikify(jQuery(document.createElement("s")).appendTo(w.output).get(0),"==");break;case"{{{":var lookahead=/\{\{\{((?:.|\n)*?)\}\}\}/gm;lookahead.lastIndex=w.matchStart;var match=lookahead.exec(w.source);match&&match.index===w.matchStart&&(jQuery(document.createElement("code")).text(match[1]).appendTo(w.output),w.nextMatch=lookahead.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(w){var css=Wikifier.helpers.inlineCss(w);this.blockRe.lastIndex=w.nextMatch;var blockMatch=this.blockRe.exec(w.source),blockLevel=blockMatch&&blockMatch.index===w.nextMatch,$el=jQuery(document.createElement(blockLevel?"div":"span")).appendTo(w.output);0===css.classes.length&&""===css.id&&0===Object.keys(css.styles).length?$el.addClass("marked"):(css.classes.forEach((function(className){return $el.addClass(className)})),""!==css.id&&$el.attr("id",css.id),$el.css(css.styles)),blockLevel?(w.nextMatch+=blockMatch[0].length,w.subWikify($el[0],"\\n?".concat(this.terminator))):w.subWikify($el[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(match[1]||match[2]).appendTo(w.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(w){jQuery(document.createElement("hr")).appendTo(w.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(w){jQuery(document.createTextNode("—")).appendTo(w.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(w){jQuery(document.createTextNode("$")).appendTo(w.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:"".concat(Patterns.variable,"(?:(?:\\.").concat(Patterns.identifier,")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[").concat(Patterns.variable,"\\]))*"),handler:function(w){var result=State.getVar(w.matchText);null==result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"variable",w.matchText,w.matchText):w).output,stringFrom(result))}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?".concat(Patterns.templateName),handler:function(w){var name=w.matchText.slice(1),template=Template.get(name),result=null;switch(template instanceof Array&&(template=template.random()),_typeof(template)){case"function":try{result=stringFrom(template.call({name:name}))}catch(ex){return throwError(w.output,"cannot execute function template ?".concat(name,": ").concat(ex.message),w.source.slice(w.matchStart,w.nextMatch))}break;case"string":result=template}null===result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"template",w.matchText,w.matchText):w).output,result)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("h".concat(w.matchLength))).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,table=jQuery(document.createElement("table")).appendTo(w.output).get(0),prevColumns=[],curRowType=null,$rowContainer=null,rowCount=0;w.nextMatch=w.matchStart;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var nextRowType=match[2];"k"===nextRowType?(table.className=match[1],w.nextMatch+=match[0].length+1):(nextRowType!==curRowType&&(curRowType=nextRowType,$rowContainer=jQuery(document.createElement(this.rowTypes[nextRowType])).appendTo(table)),"c"===curRowType?($rowContainer.css("caption-side",0===rowCount?"top":"bottom"),w.nextMatch+=1,w.subWikify($rowContainer[0],this.rowTerminator)):this.rowHandler(w,jQuery(document.createElement("tr")).appendTo($rowContainer).get(0),prevColumns),++rowCount)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))},rowHandler:function(w,rowEl,prevColumns){var matched,_this12=this,cellRe=new RegExp(this.cellPattern,"gm"),col=0,curColCount=1;do{cellRe.lastIndex=w.nextMatch;var cellMatch=cellRe.exec(w.source);if(matched=cellMatch&&cellMatch.index===w.nextMatch){if("~"===cellMatch[1]){var last=prevColumns[col];last&&(++last.rowCount,last.$element.attr("rowspan",last.rowCount).css("vertical-align","middle")),w.nextMatch=cellMatch.index+cellMatch[0].length-1}else if(">"===cellMatch[1])++curColCount,w.nextMatch=cellMatch.index+cellMatch[0].length-1;else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}!function(){++w.nextMatch;for(var css=Wikifier.helpers.inlineCss(w),spaceLeft=!1,spaceRight=!1,$cell=void 0;" "===w.source.substr(w.nextMatch,1);)spaceLeft=!0,++w.nextMatch;"!"===w.source.substr(w.nextMatch,1)?($cell=jQuery(document.createElement("th")).appendTo(rowEl),++w.nextMatch):$cell=jQuery(document.createElement("td")).appendTo(rowEl),prevColumns[col]={rowCount:1,$element:$cell},curColCount>1&&($cell.attr("colspan",curColCount),curColCount=1),w.subWikify($cell[0],_this12.cellTerminator)," "===w.matchText.substr(w.matchText.length-2,1)&&(spaceRight=!0),css.classes.forEach((function(className){return $cell.addClass(className)})),""!==css.id&&$cell.attr("id",css.id),spaceLeft&&spaceRight?css.styles["text-align"]="center":spaceLeft?css.styles["text-align"]="right":spaceRight&&(css.styles["text-align"]="left"),$cell.css(css.styles),w.nextMatch=w.nextMatch-1}()}++col}}while(matched)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){w.nextMatch=w.matchStart;var matched,i,destStack=[w.output],curType=null,curLevel=0;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var newType=match[2]?"ol":"ul",newLevel=match[0].length;if(w.nextMatch+=match[0].length,newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();else newLevel===curLevel&&newType!==curType&&(destStack.pop(),destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0)));curLevel=newLevel,curType=newType,w.subWikify(jQuery(document.createElement("li")).appendTo(destStack[destStack.length-1]).get(0),this.terminator)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\".concat(Patterns.spaceNoTerminator,"*\\n|\\n").concat(Patterns.spaceNoTerminator,"*\\\\|\\n?\\\\").concat(Patterns.spaceNoTerminator,"*$|^").concat(Patterns.spaceNoTerminator,"*\\\\\\n?"),handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(w){w.options.nobr||jQuery(document.createElement("br")).appendTo(w.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(w){jQuery(document.createDocumentFragment()).append(w.matchText).appendTo(w.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){w.nextMatch=this.lookahead.lastIndex;var css=match[2];this.hasImageMarkup.test(css)&&(this.imageMarkup.lastIndex=0,css=css.replace(this.imageMarkup,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text)}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),jQuery(document.createDocumentFragment()).append(match[1]+css+match[3]).appendTo(w.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/<(\/?)[Ss][Vv][Gg][^>]*>/gm,namespace:"http://www.w3.org/2000/svg",handler:function(w){var _this13=this;this.lookahead.lastIndex=w.nextMatch;for(var match,depth=1;depth>0&&null!==(match=this.lookahead.exec(w.source));)depth+="/"===match[1]?-1:1;if(0===depth){w.nextMatch=this.lookahead.lastIndex;var svgTag=w.source.slice(w.matchStart,this.lookahead.lastIndex),$frag=jQuery(document.createDocumentFragment()).append(svgTag);$frag.find("a[data-passage],image[data-passage]").each((function(_,el){var tagName=el.tagName.toLowerCase();try{_this13.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"svg|<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}el.hasAttribute("data-passage")&&_this13.processDataAttributes(el,tagName)})),$frag.appendTo(w.output)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref10){var name=_ref10.name,value=_ref10.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if("image"===tagName)"data:"!==passage.slice(0,5)&&Story.has(passage)&&(passage=Story.get(passage)).tags.includes("Twine.image")&&el.setAttribute("href",passage.text.trim());else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<".concat(Patterns.htmlTagName,"(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>"),tagRe:new RegExp("^<(".concat(Patterns.htmlTagName,")")),mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(w){var tagMatch=this.tagRe.exec(w.matchText),tag=tagMatch&&tagMatch[1],tagName=tag&&tag.toLowerCase();if(tagName){var terminator,terminatorMatch,isVoid=this.voidTags.includes(tagName)||w.matchText.endsWith("/>"),isNobr=this.nobrTags.includes(tagName);if(!isVoid){terminator="<\\/".concat(tagName,"\\s*>");var terminatorRe=new RegExp(terminator,"gim");terminatorRe.lastIndex=w.matchStart,terminatorMatch=terminatorRe.exec(w.source)}if(!isVoid&&!terminatorMatch)return throwError(w.output,"cannot find a closing tag for HTML <".concat(tag,">"),"".concat(w.matchText,"…"));var debugView,output=w.output,el=document.createElement(w.output.tagName);for(el.innerHTML=w.matchText;el.firstChild;)el=el.firstChild;try{this.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}if(el.hasAttribute("data-passage")&&(this.processDataAttributes(el,tagName),Config.debug&&((debugView=new DebugView(w.output,"html-".concat(tagName),tagName,w.matchText)).modes({block:"img"===tagName,nonvoid:terminatorMatch}),output=debugView.output)),terminatorMatch){try{Wikifier.Option.push({nobr:isNobr}),w.subWikify(el,terminator,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}debugView&&jQuery(el).find(".debug.block").length>0&&debugView.modes({block:!0})}output.appendChild("track"===tagName?el.cloneNode(!0):el)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref11){var name=_ref11.name,value=_ref11.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if(this.mediaTags.includes(tagName)){if("data:"!==passage.slice(0,5)&&Story.has(passage)){var parentName,twineTag;switch(passage=Story.get(passage),tagName){case"audio":case"video":twineTag="Twine.".concat(tagName);break;case"img":twineTag="Twine.image";break;case"track":twineTag="Twine.vtt";break;case"source":var $parent=$(el).closest("audio,picture,video");$parent.length&&(parentName=$parent.get(0).tagName.toLowerCase(),twineTag="Twine.".concat("picture"===parentName?"image":parentName))}passage.tags.includes(twineTag)&&(el["picture"===parentName?"srcset":"src"]=passage.text.trim())}}else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}})}();var Template=(_templates=new Map,_validNameRe=new RegExp("^(?:".concat(Patterns.templateName,")$")),_validType=function(template){var templateType=_typeof(template);return"function"===templateType||"string"===templateType},Object.freeze(Object.defineProperties({},{add:{value:function(name,template){if(!(_validType(template)||template instanceof Array&&template.length>0&&template.every(_validType)))throw new TypeError("invalid template type (".concat(name,"); templates must be: functions, strings, or an array of either"));(name instanceof Array?name:[name]).forEach((function(name){if(!_validNameRe.test(name))throw new Error('invalid template name "'.concat(name,'"'));if(_templates.has(name))throw new Error("cannot clobber existing template ?".concat(name));_templates.set(name,template)}))}},delete:{value:function(name){(name instanceof Array?name:[name]).forEach((function(name){return _templates.delete(name)}))}},get:{value:function(name){return _templates.has(name)?_templates.get(name):null}},has:{value:function(name){return _templates.has(name)}},size:{get:function(){return _templates.size}}}))),_templates,_validNameRe,_validType,Macro=function(){var _macros={},_tags={},_validNameRe=new RegExp("^(?:".concat(Patterns.macroName,")$"));function macrosHas(name){return _macros.hasOwnProperty(name)}function tagsRegister(parent,bodyTags){if(!parent)throw new Error("no parent specified");for(var endTags=["/".concat(parent),"end".concat(parent)],allTags=[].concat(endTags,Array.isArray(bodyTags)?bodyTags:[]),i=0;i<allTags.length;++i){var tag=allTags[i];if(macrosHas(tag))throw new Error("cannot register tag for an existing macro");tagsHas(tag)?_tags[tag].includes(parent)||(_tags[tag].push(parent),_tags[tag].sort()):_tags[tag]=[parent]}}function tagsUnregister(parent){if(!parent)throw new Error("no parent specified");Object.keys(_tags).forEach((function(tag){var i=_tags[tag].indexOf(parent);-1!==i&&(1===_tags[tag].length?delete _tags[tag]:_tags[tag].splice(i,1))}))}function tagsHas(name){return _tags.hasOwnProperty(name)}return Object.freeze(Object.defineProperties({},{add:{value:function macrosAdd(name,def){if(Array.isArray(name))name.forEach((function(name){return macrosAdd(name,def)}));else{if(!_validNameRe.test(name))throw new Error('invalid macro name "'.concat(name,'"'));if(macrosHas(name))throw new Error("cannot clobber existing macro <<".concat(name,">>"));if(tagsHas(name))throw new Error("cannot clobber child tag <<".concat(name,">> of parent macro").concat(1===_tags[name].length?"":"s"," <<").concat(_tags[name].join(">>, <<"),">>"));try{if("object"===_typeof(def))_macros[name]=Object.assign(Object.create(null),def,{_MACRO_API:!0});else{if(!macrosHas(def))throw new Error("cannot create alias of nonexistent macro <<".concat(def,">>"));_macros[name]=Object.create(_macros[def],{_ALIAS_OF:{enumerable:!0,value:def}})}Object.defineProperty(_macros,name,{writable:!1})}catch(ex){throw"TypeError"===ex.name?new Error("cannot clobber protected macro <<".concat(name,">>")):new Error("unknown error when attempting to add macro <<".concat(name,">>: [").concat(ex.name,"] ").concat(ex.message))}if(void 0!==_macros[name].tags)if(null==_macros[name].tags)tagsRegister(name);else{if(!Array.isArray(_macros[name].tags))throw new Error('bad value for "tags" property of macro <<'.concat(name,">>"));tagsRegister(name,_macros[name].tags)}}}},delete:{value:function macrosDelete(name){if(Array.isArray(name))name.forEach((function(name){return macrosDelete(name)}));else if(macrosHas(name)){void 0!==_macros[name].tags&&tagsUnregister(name);try{Object.defineProperty(_macros,name,{writable:!0}),delete _macros[name]}catch(ex){throw new Error("unknown error removing macro <<".concat(name,">>: ").concat(ex.message))}}else if(tagsHas(name))throw new Error("cannot remove child tag <<".concat(name,">> of parent macro <<").concat(_tags[name],">>"))}},isEmpty:{value:function(){return 0===Object.keys(_macros).length}},has:{value:macrosHas},get:{value:function(name){var macro=null;return macrosHas(name)&&"function"==typeof _macros[name].handler?macro=_macros[name]:macros.hasOwnProperty(name)&&"function"==typeof macros[name].handler&&(macro=macros[name]),macro}},init:{value:function(){var handler=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(_macros).forEach((function(name){"function"==typeof _macros[name][handler]&&_macros[name][handler](name)})),Object.keys(macros).forEach((function(name){"function"==typeof macros[name][handler]&&macros[name][handler](name)}))}},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:tagsRegister},unregister:{value:tagsUnregister},has:{value:tagsHas},get:{value:function(name){return tagsHas(name)?_tags[name]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var MacroContext=function(){function MacroContext(contextData){_classCallCheck(this,MacroContext);var context=Object.assign({parent:null,macro:null,name:"",displayName:"",args:null,payload:null,parser:null,source:""},contextData);if(null===context.macro||""===context.name||null===context.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:context.macro},name:{value:void 0===context.macro._ALIAS_OF?context.name:context.macro._ALIAS_OF},displayName:{value:context.name},args:{value:context.args},payload:{value:context.payload},source:{value:context.source},parent:{value:context.parent},parser:{value:context.parser},_output:{value:context.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(MacroContext,[{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return _toConsumableArray(this._shadows)}},{key:"shadowView",get:function(){var view=new Set;return this.contextSelectAll((function(ctx){return ctx._shadows})).forEach((function(ctx){return ctx._shadows.forEach((function(name){return view.add(name)}))})),_toConsumableArray(view)}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}},{key:"contextHas",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return!0;return!1}},{key:"contextSelect",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return context;return null}},{key:"contextSelectAll",value:function(filter){for(var result=[],context=this;null!==(context=context.parent);)filter(context)&&result.push(context);return result}},{key:"addShadow",value:function(){var _this14=this;this._shadows||(this._shadows=new Set);for(var varRe=new RegExp("^".concat(Patterns.variable,"$")),_len14=arguments.length,names=new Array(_len14),_key14=0;_key14<_len14;_key14++)names[_key14]=arguments[_key14];names.flat(1/0).forEach((function(name){if("string"!=typeof name)throw new TypeError("variable name must be a string; type: ".concat(_typeof(name)));if(!varRe.test(name))throw new Error('invalid variable name "'.concat(name,'"'));_this14._shadows.add(name)}))}},{key:"createShadowWrapper",value:function(callback,doneCallback,startCallback){var shadowStore,shadowContext=this;return"function"==typeof callback&&(shadowStore={},this.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]}))),function(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];if("function"==typeof startCallback&&startCallback.apply(this,args),"function"==typeof callback){var contextCache,shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null,macroParser=Wikifier.Parser.get("macro");try{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),contextCache=macroParser.context,macroParser.context=shadowContext,callback.apply(this,args)}finally{contextCache!==undefined&&(macroParser.context=contextCache),shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}"function"==typeof doneCallback&&doneCallback.apply(this,args)}}},{key:"createDebugView",value:function(name,title){return this._debugView=new DebugView(this._output,"macro",name||this.displayName,title||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(message,source){return throwError(this._output,"<<".concat(this.displayName,">>: ").concat(message),source||this.source)}}]),MacroContext}();return MacroContext}();!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,tsVarRe:new RegExp("(".concat(Patterns.variable,")"),"g"),handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var valueCache={};try{for(var match,tsVarRe=this.self.tsVarRe;null!==(match=tsVarRe.exec(this.args.raw));){var varName=match[1],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),this.addShadow(varName)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,jsVarRe:new RegExp("State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var match,jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var store=State[match[1]],name=match[2];store.hasOwnProperty(name)&&delete store[name]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}for(var match,remember=storage.get("remember")||{},jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];remember[name]=State.variables[name]}if(!storage.set("remember",remember))return this.error("unknown error, cannot remember: ".concat(this.args.raw));Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var remember=storage.get("remember");remember&&Object.keys(remember).forEach((function(name){return State.variables[name]=remember[name]}))}}),Macro.add("forget",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var match,remember=storage.get("remember"),jsVarRe=this.self.jsVarRe,needStore=!1;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];State.variables.hasOwnProperty(name)&&delete State.variables[name],remember&&remember.hasOwnProperty(name)&&(needStore=!0,delete remember[name])}if(needStore)if(0===Object.keys(remember).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",remember))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var output=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,output)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.createDebugView(),output.hasChildNodes()&&this.output.appendChild(output)}}),Macro.add("include",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?(Config.debug&&this.debugView.modes({block:!0}),passage=Story.get(passage),void(this.args[1]?jQuery(document.createElement(this.args[1])).addClass("".concat(passage.domId," macro-").concat(this.name)).attr("data-passage",passage.title).appendTo(this.output):jQuery(this.output)).wiki(passage.processText())):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var result=stringFrom(Scripting.evalJavaScript(this.args.full));null!==result&&new Wikifier(this.output,"-"===this.name?Util.escape(result):result)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var frag=document.createDocumentFragment();if(new Wikifier(frag,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(frag);else{var errList=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent}));if(errList.length>0)return this.error("error".concat(1===errList.length?"":"s"," within contents (").concat(errList.join("; "),")"))}}}),Macro.add("type",{isAsync:!0,tags:null,typeId:0,handler:function(){if(0===this.args.length)return this.error("no speed specified");var cursor,speed=Util.fromCssTime(this.args[0]);if(speed<0)return this.error("speed time value must be non-negative (received: ".concat(this.args[0],")"));for(var elClass="",elId="",elTag="div",skipKey=Config.macros.typeSkipKey,start=400,options=this.args.slice(1);options.length>0;){var option=options.shift();switch(option){case"class":if(0===options.length)return this.error("class option missing required class name(s)");if(""===(elClass=options.shift()))throw new Error('class option class name(s) must be non-empty (received: "")');break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=options.shift()))throw new Error('element option tag name must be non-empty (received: "")');break;case"id":if(0===options.length)return this.error("id option missing required ID");if(""===(elId=options.shift()))throw new Error('id option ID must be non-empty (received: "")');break;case"keep":cursor="keep";break;case"none":cursor="none";break;case"skipkey":if(0===options.length)return this.error("skipkey option missing required key value");if(""===(skipKey=options.shift()))throw new Error('skipkey option key value must be non-empty (received: "")');break;case"start":if(0===options.length)return this.error("start option missing required time value");var value=options.shift();if((start=Util.fromCssTime(value))<0)throw new Error("start option time value must be non-negative (received: ".concat(value,")"));break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:!0});var className="macro-".concat(this.name),namespace=".".concat(className),$target=jQuery(document.createElement(elTag)).addClass("".concat(className," ").concat(className,"-target")).appendTo(this.output);TempState.macroTypeQueue||(TempState.macroTypeQueue=[],$(document).off(namespace).one(":passageinit".concat(namespace),(function(){return $(document).off(namespace)})));var startTyping=0===TempState.macroTypeQueue.length,selfId=++this.self.typeId;TempState.macroTypeQueue.push({id:selfId,handler:function(){var $wrapper=jQuery(document.createElement(elTag)).addClass(className);elId&&$wrapper.attr("id",elId),elClass&&$wrapper.addClass(elClass),new Wikifier($wrapper,contents);var passage=State.passage,turn=State.turns;if(!Config.macros.typeVisitedPassages&&State.passages.slice(0,-1).some((function(title){return title===passage}))||$wrapper.find(".error").length>0)return $target.replaceWith($wrapper),TempState.macroTypeQueue.shift(),void(TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().handler());var typer=new NodeTyper({targetNode:$wrapper.get(0),classNames:"none"===cursor?null:"".concat(className,"-cursor")});$target.replaceWith($wrapper);var keydownAndNS="keydown".concat(namespace),typingStopAndNS="".concat(":typingstop").concat(namespace);$(document).off(keydownAndNS).on(keydownAndNS,(function(ev){Util.scrubEventKey(ev.key)!==skipKey||ev.target!==document.body&&ev.target!==document.documentElement||(ev.preventDefault(),$(document).off(keydownAndNS),typer.finish())})).one(typingStopAndNS,(function(){TempState.macroTypeQueue&&(0===TempState.macroTypeQueue.length?jQuery.event.trigger(":typingcomplete"):TempState.macroTypeQueue.first().handler())}));var typeNode=function(){var typeNodeMember=function(typeIntervalId){State.passage===passage&&State.turns===turn&&typer.type()||(typeIntervalId&&clearInterval(typeIntervalId),TempState.macroTypeQueue&&TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().id===selfId&&TempState.macroTypeQueue.shift(),$wrapper.trigger(":typingstop"),$wrapper.addClass("".concat(className,"-done")),"keep"===cursor&&$wrapper.addClass("".concat(className,"-cursor")))};$wrapper.trigger(":typingstart"),typeNodeMember();var typeNodeMemberId=setInterval((function(){return typeNodeMember(typeNodeMemberId)}),speed)};start?setTimeout(typeNode,start):typeNode()}}),startTyping&&(Engine.isPlaying()?$(document).one(":passageend".concat(namespace),(function(){return TempState.macroTypeQueue.first().handler()})):TempState.macroTypeQueue.first().handler())}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],elseifWsRe:/^\s*if\b/i,ifAssignRe:/[^!=&^|<>*/%+-]=[^=>]/,handler:function(){var i;try{var len=this.payload.length,elseifWsRe=this.self.elseifWsRe,ifAssignRe=this.self.ifAssignRe;for(i=0;i<len;++i)if("else"===this.payload[i].name){if(this.payload[i].args.raw.length>0)return elseifWsRe.test(this.payload[i].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'.concat(i>0?" (#"+i+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<else>> must be the final clause")}else{if(0===this.payload[i].args.full.length)return this.error("no conditional expression specified for <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""));if(Config.macros.ifAssignmentError&&ifAssignRe.test(this.payload[i].args.full))return this.error("assignment operator found within <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""," (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ").concat(this.payload[i].args.raw))}var evalJavaScript=Scripting.evalJavaScript,success=!1;for(i=0;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"else"===this.payload[i].name||evalJavaScript(this.payload[i].args.full)){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!success,invalid:!success})}}catch(ex){return this.error("bad conditional expression in <<".concat(0===i?"if":"elseif",">> clause").concat(i>0?" (#"+i+")":"",": ").concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var i,result,len=this.payload.length;if(1===len)return this.error("no cases specified");for(i=1;i<len;++i)if("default"===this.payload[i].name){if(this.payload[i].args.length>0)return this.error("<<default>> does not accept values, invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<default>> must be the final case")}else if(0===this.payload[i].args.length)return this.error("no value(s) specified for <<".concat(this.payload[i].name,">> (#").concat(i,")"));try{result=Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}var debugView=this.debugView,success=!1;for(Config.debug&&debugView.modes({nonvoid:!1,hidden:!0}),i=1;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"default"===this.payload[i].name||this.payload[i].args.some((function(val){return val===result}))){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});debugView.modes({nonvoid:!1,hidden:!0,invalid:!success}),this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0,invalid:!success})}}}),Macro.add("for",{skipArgs:!0,tags:null,hasRangeRe:new RegExp("^\\S".concat(Patterns.anyChar,"*?\\s+range\\s+\\S").concat(Patterns.anyChar,"*?$")),rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")\\s*,\\s*)?State\\.(variables|temporary)\\.(").concat(Patterns.identifier,")\\s+range\\s+(\\S").concat(Patterns.anyChar,"*?)$")),threePartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,forInRe:/^\S+\s+in\s+\S+/i,forOfRe:/^\S+\s+of\s+\S+/i,handler:function(){var argsStr=this.args.full.trim(),payload=this.payload[0].contents.replace(/\n$/,"");if(0===argsStr.length)this.self.handleFor.call(this,payload,null,!0,null);else if(this.self.hasRangeRe.test(argsStr)){var parts=argsStr.match(this.self.rangeRe);if(null===parts)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self.handleForRange.call(this,payload,{type:parts[1],name:parts[2]},{type:parts[3],name:parts[4]},parts[5])}else{var init,condition,post;if(-1===argsStr.indexOf(";")){if(this.self.forInRe.test(argsStr))return this.error("invalid syntax, for…in is not supported; see: for…range");if(this.self.forOfRe.test(argsStr))return this.error("invalid syntax, for…of is not supported; see: for…range");condition=argsStr}else{var _parts=argsStr.match(this.self.threePartRe);if(null===_parts)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");init=_parts[1],condition=_parts[2].trim(),post=_parts[3],0===condition.length&&(condition=!0)}this.self.handleFor.call(this,payload,init,condition,post)}},handleFor:function(payload,init,condition,post){var evalJavaScript=Scripting.evalJavaScript,first=!0,safety=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,init)try{evalJavaScript(init)}catch(ex){return this.error("bad init expression: ".concat("object"===_typeof(ex)?ex.message:ex))}for(;evalJavaScript(condition);){if(--safety<0)return this.error("exceeded configured maximum loop iterations (".concat(Config.macros.maxLoopIterations,")"));if(new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(post)try{evalJavaScript(post)}catch(ex){return this.error("bad post expression: ".concat("object"===_typeof(ex)?ex.message:ex))}}}catch(ex){return this.error("bad conditional expression: ".concat("object"===_typeof(ex)?ex.message:ex))}finally{TempState.break=null}},handleForRange:function(payload,indexVar,valueVar,rangeExp){var rangeList,first=!0;try{rangeList=this.self.toRangeList(rangeExp)}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var i=0;i<rangeList.length;++i)if(indexVar.name&&(State[indexVar.type][indexVar.name]=rangeList[i][0]),State[valueVar.type][valueVar.name]=rangeList[i][1],new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(ex){return this.error("object"===_typeof(ex)?ex.message:ex)}finally{TempState.break=null}},toRangeList:function(rangeExp){var value,list,evalJavaScript=Scripting.evalJavaScript;try{value=evalJavaScript("{"===rangeExp[0]?"(".concat(rangeExp,")"):rangeExp)}catch(ex){if("object"!==_typeof(ex))throw new Error("bad range expression: ".concat(ex));throw ex.message="bad range expression: ".concat(ex.message),ex}switch(_typeof(value)){case"string":list=[];for(var i=0;i<value.length;){var obj=Util.charAndPosAt(value,i);list.push([i,obj.char]),i=1+obj.end}break;case"object":if(Array.isArray(value))list=value.map((function(val,i){return[i,val]}));else if(value instanceof Set)list=_toConsumableArray(value).map((function(val,i){return[i,val]}));else if(value instanceof Map)list=_toConsumableArray(value.entries());else{if("Object"!==Util.toStringTag(value))throw new Error("unsupported range expression type: ".concat(Util.toStringTag(value)));list=Object.keys(value).map((function(key){return[key,value[key]]}))}break;default:throw new Error("unsupported range expression type: ".concat(_typeof(value)))}return list}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas((function(ctx){return"for"===ctx.name})))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var _this15=this;if(0===this.args.length)return this.error("no ".concat("button"===this.name?"button":"link"," text specified"));var passage,$link=jQuery(document.createElement("button"===this.name?"button":"a"));if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var $image=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo($link);$link.addClass("link-image"),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link}else $link.append(document.createTextNode(this.args[0].text)),passage=this.args[0].link;else $link.wikiWithOptions({profile:"core"},this.args[0]),passage=this.args.length>1?this.args[1]:undefined;null!=passage?($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken")):$link.addClass("link-internal"),$link.addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:null!=passage?"link":"button",one:null!=passage},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(_this15.payload[0].contents.trim())}:null,null!=passage?function(){return Engine.play(passage)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("unchecked value"),this.args.length<3&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),uncheckValue=this.args[1],checkValue=this.args[2],el=document.createElement("input");switch(jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:"checkbox",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.checked?checkValue:uncheckValue)}))).appendTo(this.output),this.args[3]){case"autocheck":State.getVar(varName)===checkValue?el.checked=!0:State.setVar(varName,uncheckValue);break;case"checked":el.checked=!0,State.setVar(varName,checkValue);break;default:State.setVar(varName,uncheckValue)}}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var _this16=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),len=this.payload.length;if(1===len)return this.error("no options specified");for(var config={autoselect:!1,once:!1},i=1;i<this.args.length;++i){var arg=this.args[i];switch(arg){case"once":config.once=!0;break;case"autoselect":config.autoselect=!0;break;default:return this.error("unknown argument: ".concat(arg))}}for(var options=[],tagCount={option:0,optionsfrom:0},selectedIdx=-1,_i5=1;_i5<len;++_i5){var payload=this.payload[_i5];if("option"===payload.name){if(++tagCount.option,0===payload.args.length)return this.error("no arguments specified for <<".concat(payload.name,">> (#").concat(tagCount.option,")"));var option={label:String(payload.args[0])},isSelected=!1;switch(payload.args.length){case 1:option.value=payload.args[0];break;case 2:"selected"===payload.args[1]?(option.value=payload.args[0],isSelected=!0):option.value=payload.args[1];break;default:option.value=payload.args[1],"selected"===payload.args[2]&&(isSelected=!0)}if(options.push(option),isSelected){if(config.autoselect)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==selectedIdx)return this.error("multiple selected keywords specified for <<".concat(payload.name,">> (#").concat(selectedIdx+1," & #").concat(tagCount.option,")"));selectedIdx=options.length-1}}else{var _ret=function(){if(++tagCount.optionsfrom,0===payload.args.full.length)return{v:_this16.error("no expression specified for <<".concat(payload.name,">> (#").concat(tagCount.optionsfrom,")"))};var result=void 0;try{var exp=payload.args.full;result=Scripting.evalJavaScript("{"===exp[0]?"(".concat(exp,")"):exp)}catch(ex){return{v:_this16.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}if("object"!==_typeof(result)||null===result)return{v:_this16.error("expression must yield a supported collection or generic object (type: ".concat(null===result?"null":_typeof(result),")"))};if(result instanceof Array||result instanceof Set)result.forEach((function(val){return options.push({label:String(val),value:val})}));else if(result instanceof Map)result.forEach((function(val,key){return options.push({label:String(key),value:val})}));else{var oType=Util.toStringTag(result);if("Object"!==oType)return{v:_this16.error("expression must yield a supported collection or generic object (object type: ".concat(oType,")"))};Object.keys(result).forEach((function(key){return options.push({label:key,value:result[key]})}))}}();if("object"===_typeof(_ret))return _ret.v}}if(-1===selectedIdx)if(config.autoselect){var sameValueZero=Util.sameValueZero,curValue=State.getVar(varName),curValueIdx=options.findIndex((function(opt){return sameValueZero(opt.value,curValue)}));selectedIdx=-1===curValueIdx?0:curValueIdx}else selectedIdx=0;if("cycle"===this.name){var lastIdx=options.length-1;if(config.once&&selectedIdx===lastIdx)jQuery(this.output).wikiWithOptions({profile:"core"},options[selectedIdx].label);else{var cycleIdx=selectedIdx;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},options[selectedIdx].label).attr("id","".concat(this.name,"-").concat(varId)).addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:"button"},this.createShadowWrapper((function(){var $this=$(this);cycleIdx=(cycleIdx+1)%options.length,State.setVar(varName,options[cycleIdx].value),$this.empty().wikiWithOptions({profile:"core"},options[cycleIdx].label),config.once&&cycleIdx===lastIdx&&$this.off().contents().unwrap()}))).appendTo(this.output)}}else{var $select=jQuery(document.createElement("select"));options.forEach((function(opt,i){jQuery(document.createElement("option")).val(i).text(opt.label).appendTo($select)})),$select.attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),tabindex:0}).addClass("macro-".concat(this.name)).val(selectedIdx).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,options[Number(this.value)].value)}))).appendTo(this.output)}State.setVar(varName,options[selectedIdx].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this17=this;if(0===this.args.length)return this.error("no link text specified");var $link=jQuery(document.createElement("a")),$insert=jQuery(document.createElement("span")),transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]);$link.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-".concat(this.name)).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper((function(){if("linkreplace"===_this17.name?$link.remove():$link.wrap('<span class="macro-'.concat(_this17.name,'"></span>')).replaceWith((function(){return $link.html()})),""!==_this17.payload[0].contents){var frag=document.createDocumentFragment();new Wikifier(frag,_this17.payload[0].contents),$insert.append(frag)}transition&&setTimeout((function(){return $insert.removeClass("macro-".concat(_this17.name,"-in"))}),Engine.minDomActionDelay)}))).appendTo(this.output),$insert.addClass("macro-".concat(this.name,"-insert")),transition&&$insert.addClass("macro-".concat(this.name,"-in")),"linkprepend"===this.name?$insert.insertBefore($link):$insert.insertAfter($link)}}),Macro.add(["numberbox","textbox"],{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var asNumber="numberbox"===this.name,defaultValue=asNumber?Number(this.args[1]):this.args[1];if(asNumber&&Number.isNaN(defaultValue))return this.error('default value "'.concat(this.args[1],'" is neither a number nor can it be parsed into a number'));var passage,varId=Util.slugify(varName),el=document.createElement("input"),autofocus=!1;this.args.length>3?(passage=this.args[2],autofocus="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?autofocus=!0:passage=this.args[2]),"object"===_typeof(passage)&&(passage=passage.link),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:asNumber?"number":"text",inputmode:asNumber?"decimal":"text",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,asNumber?Number(this.value):this.value)}))).on("keypress.macros",this.createShadowWrapper((function(ev){13===ev.which&&(ev.preventDefault(),State.setVar(varName,asNumber?Number(this.value):this.value),null!=passage&&Engine.play(passage))}))).appendTo(this.output),asNumber&&(el.step="any"),State.setVar(varName,defaultValue),el.value=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),checkValue=this.args[1],el=document.createElement("input");switch(TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(varId)||(TempState[this.name][varId]=0),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId,"-").concat(TempState[this.name][varId]++),name:"".concat(this.name,"-").concat(varId),type:"radio",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){this.checked&&State.setVar(varName,checkValue)}))).appendTo(this.output),this.args[2]){case"autocheck":State.getVar(varName)===checkValue&&(el.checked=!0);break;case"checked":el.checked=!0,State.setVar(varName,checkValue)}}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var varId=Util.slugify(varName),defaultValue=this.args[1],autofocus="autofocus"===this.args[2],el=document.createElement("textarea");jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),rows:4,tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.value)}))).appendTo(this.output),State.setVar(varName,defaultValue),el.textContent=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var $list=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),i=0;i<this.args.length;++i){var passage=void 0,text=void 0,$image=void 0,setFn=void 0;if("object"===_typeof(this.args[i])?this.args[i].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[i].source),this.args[i].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[i].passage),this.args[i].hasOwnProperty("title")&&$image.attr("title",this.args[i].title),this.args[i].hasOwnProperty("align")&&$image.attr("align",this.args[i].align),passage=this.args[i].link,setFn=this.args[i].setFn):(text=this.args[i].text,passage=this.args[i].link,setFn=this.args[i].setFn):text=passage=this.args[i],!(State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(passage)&&State.variables["#actions"][passage])){var $link=jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo($list),passage,null,function(passage,fn){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][passage]=!0,"function"==typeof fn&&fn()}}(passage,setFn))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text));$image&&$link.addClass("link-image")}}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var passage,text,$image,$link,momentIndex=-1;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(passage=this.args[0].link)):(1===this.args[0].count||(text=this.args[0].text),passage=this.args[0].link):1===this.args.length&&(text=this.args[0])),null==passage){for(var i=State.length-2;i>=0;--i)if(State.history[i].title!==State.passage){momentIndex=i,passage=State.history[i].title;break}if(null==passage&&"return"===this.name)for(var _i6=State.expired.length-1;_i6>=0;--_i6)if(State.expired[_i6]!==State.passage){passage=State.expired[_i6];break}}else{if(!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));if("back"===this.name){for(var _i7=State.length-2;_i7>=0;--_i7)if(State.history[_i7].title===passage){momentIndex=_i7;break}if(-1===momentIndex)return this.error('cannot find passage "'.concat(passage,'" in the current story history'))}}if(null==passage)return this.error("cannot find passage");"back"!==this.name||-1!==momentIndex?($link=jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(passage)}:function(){return Engine.goTo(momentIndex)}),$image&&$link.addClass("link-image")):$link=jQuery(document.createElement("span")).addClass("link-disabled"),$link.addClass("macro-".concat(this.name)).append($image||document.createTextNode(text||L10n.get("macro".concat(this.name.toUpperFirst(),"Text")))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var passage,text,$image,setFn,$link,choiceId=State.passage;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link,setFn=this.args[0].setFn):(text=this.args[0].text,passage=this.args[0].link,setFn=this.args[0].setFn):text=passage=this.args[0]:(passage=this.args[0],text=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(choiceId)&&State.variables["#choice"][choiceId])return $link=jQuery(document.createElement("span")).addClass("link-disabled macro-".concat(this.name)).attr("tabindex",-1).append($image||document.createTextNode(text)).appendTo(this.output),void($image&&$link.addClass("link-image"));$link=jQuery(Wikifier.createInternalLink(this.output,passage,null,(function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][choiceId]=!0,"function"==typeof setFn&&setFn()}))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text)),$image&&$link.addClass("link-image")}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("selector"),this.args.length<2&&errors.push("class names"),this.error("no ".concat(errors.join(" or ")," specified"))}var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));switch(this.name){case"addclass":$targets.addClass(this.args[1].trim());break;case"toggleclass":$targets.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));this.args.length>1?$targets.removeClass(this.args[1].trim()):$targets.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));jQuery(this.output).append($targets.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this18=this;if(0===this.args.length)return this.error("no selector specified");var $insert,$targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));if(""!==this.payload[0].contents)switch(this.args.length>1&&this.self.t8nRe.test(this.args[1])?(($insert=jQuery(document.createElement("span"))).addClass("macro-".concat(this.name,"-insert macro-").concat(this.name,"-in")),setTimeout((function(){return $insert.removeClass("macro-".concat(_this18.name,"-in"))}),Engine.minDomActionDelay)):$insert=jQuery(document.createDocumentFragment()),$insert.wiki(this.payload[0].contents),this.name){case"replace":$targets.empty();case"append":$targets.append($insert);break;case"prepend":$targets.prepend($insert)}else"replace"===this.name&&$targets.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));$targets.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var errorOnePlaybackAction=function(cur,prev){return'only one playback action allowed per invocation, "'.concat(cur,'" cannot be combined with "').concat(prev,'"')};Macro.add("audio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track and/or group IDs"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var selected;try{selected=SimpleAudio.select(this.args[0])}catch(ex){return this.error(ex.message)}for(var action,fadeTo,loop,mute,passage,time,volume,args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors=[];return args.length<1&&_errors.push("seconds"),args.length<2&&_errors.push("level"),this.error("fadeoverto missing required ".concat(_errors.join(" and ")," value").concat(_errors.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"time":if(0===args.length)return this.error("time missing required seconds value");if(raw=args.shift(),time=Number.parseFloat(raw),Number.isNaN(time)||!Number.isFinite(time))return this.error("cannot parse time: ".concat(raw));break;case"loop":case"unloop":loop="loop"===arg;break;case"goto":if(0===args.length)return this.error("goto missing required passage title");if(raw=args.shift(),passage="object"===_typeof(raw)?raw.link:raw,!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));break;default:return this.error("unknown action: ".concat(arg))}}try{if(null!=volume&&selected.volume(volume),null!=time&&selected.time(time),null!=mute&&selected.mute(mute),null!=loop&&selected.loop(loop),null!=passage){var nsEnded="ended.macros.macro-".concat(this.name,"_goto");selected.off(nsEnded).one(nsEnded,(function(){selected.off(nsEnded),Engine.play(passage)}))}switch(action){case"fade":selected.fade(fadeOver,fadeTo);break;case"load":selected.load();break;case"pause":selected.pause();break;case"play":selected.playWhenAllowed();break;case"stop":selected.stop();break;case"unload":selected.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("cacheaudio",{handler:function(){var _this19=this;if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track ID"),this.args.length<2&&errors.push("sources"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim(),oldFmtRe=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(id,this.args.slice(1).map((function(source){if(oldFmtRe.test(source)){if(Config.debug)return _this19.error('track ID "'.concat(id,'": format specifier migration required, "format:formatId;" → "formatId|"'));source=source.replace(oldFmtRe,"$1|")}return source})))}catch(ex){return this.error(ex.message)}if(Config.debug&&!SimpleAudio.tracks.get(id).hasSource())return this.error('track ID "'.concat(id,'": no supported audio sources found'));Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var groupId=String(this.args[0]).trim(),trackIds=[],i=1,len=this.payload.length;i<len;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");trackIds.push(String(this.payload[i].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(groupId,trackIds)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var playlist=Macro.get("playlist");if(null!==playlist.from&&"createplaylist"!==playlist.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var listId=String(this.args[0]).trim(),trackObjs=[],i=1,len=this.payload.length;i<len;++i){if(0===this.payload[i].args.length)return this.error("no track ID specified");for(var trackObj={id:String(this.payload[i].args[0]).trim()},args=this.payload[i].args.slice(1);args.length>0;){var arg=args.shift(),raw=void 0,parsed=void 0;switch(arg){case"copy":case"own":trackObj.own=!0;break;case"rate":args.length>0&&args.shift();break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),parsed=Number.parseFloat(raw),Number.isNaN(parsed)||!Number.isFinite(parsed))return this.error("cannot parse volume: ".concat(raw));trackObj.volume=parsed;break;default:return this.error("unknown action: ".concat(arg))}}trackObjs.push(trackObj),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(listId,trackObjs)}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="createplaylist"),Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var action,mute,muteOnHide,volume,args=this.args.slice(0);args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"mute":case"unmute":mute="mute"===arg;break;case"muteonhide":case"nomuteonhide":muteOnHide="muteonhide"===arg;break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=mute&&SimpleAudio.mute(mute),null!=muteOnHide&&SimpleAudio.muteOnHidden(muteOnHide),null!=volume&&SimpleAudio.volume(volume),action){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("playlist",{from:null,handler:function(){var list,args,action,from=this.self.from;if(null===from)return this.error("no playlists have been created");if("createplaylist"===from){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("list ID"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));list=SimpleAudio.lists.get(id),args=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");list=SimpleAudio.lists.get("setplaylist"),args=this.args.slice(0)}for(var fadeTo,loop,mute,shuffle,volume,fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors2=[];return args.length<1&&_errors2.push("seconds"),args.length<2&&_errors2.push("level"),this.error("fadeoverto missing required ".concat(_errors2.join(" and ")," value").concat(_errors2.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"loop":case"unloop":loop="loop"===arg;break;case"shuffle":case"unshuffle":shuffle="shuffle"===arg;break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=volume&&list.volume(volume),null!=mute&&list.mute(mute),null!=loop&&list.loop(loop),null!=shuffle&&list.shuffle(shuffle),action){case"fade":list.fade(fadeOver,fadeTo);break;case"load":list.load();break;case"pause":list.pause();break;case"play":list.playWhenAllowed();break;case"skip":list.skip();break;case"stop":list.stop();break;case"unload":list.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.groups.has(id))return this.error('group "'.concat(id,'" does not exist'));SimpleAudio.groups.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));SimpleAudio.lists.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var playlist=Macro.get("playlist");if(null!==playlist.from&&"setplaylist"!==playlist.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("done",{skipArgs:!0,tags:null,handler:function(){var contents=this.payload[0].contents.trim();""!==contents&&setTimeout(this.createShadowWrapper((function(){return $.wiki(contents)})),Engine.minDomActionDelay)}}),Macro.add("goto",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?void setTimeout((function(){return Engine.play(passage)}),Engine.minDomActionDelay):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){var delay,_this20=this;if(0===this.args.length)return this.error("no time value specified");try{delay=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper((function(){var frag=document.createDocumentFragment();new Wikifier(frag,_this20.payload[0].contents);var $output=$wrapper;transition&&($output=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-repeat-in")}),Engine.minDomActionDelay)})),delay)},registerInterval:function(callback,delay){var _this21=this;if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null;timerId=setInterval((function(){if(State.passage!==passage||State.turns!==turn)return clearInterval(timerId),void timers.delete(timerId);var timerIdCache;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(timerIdCache=TempState.repeatTimerId),TempState.repeatTimerId=timerId,callback.call(_this21)}finally{void 0!==timerIdCache?TempState.repeatTimerId=timerIdCache:delete TempState.repeatTimerId,TempState.break=null}}),delay),timers.add(timerId),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearInterval(timerId)})),timers.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var timers=Macro.get("repeat").timers,timerId=TempState.repeatTimerId;clearInterval(timerId),timers.delete(timerId),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var i,items=[];try{items.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(ex){return this.error("".concat(ex.message," in <<timed>>"))}if(this.payload.length>1)try{var len;for(i=1,len=this.payload.length;i<len;++i)items.push({name:this.payload[i].name,source:this.payload[i].source,delay:0===this.payload[i].args.length?items[items.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[i].args[0])),content:this.payload[i].contents})}catch(ex){return this.error("".concat(ex.message," in <<next>> (#").concat(i,")"))}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper((function(item){var frag=document.createDocumentFragment();new Wikifier(frag,item.content);var $output=$wrapper;Config.debug&&"next"===item.name&&($output=jQuery(new DebugView($output[0],"macro",item.name,item.source).output)),transition&&($output=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-timed-in")}),Engine.minDomActionDelay)})),items)},registerTimeout:function(callback,items){if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null,nextItem=items.shift();timerId=setTimeout((function worker(){if(timers.delete(timerId),State.passage===passage&&State.turns===turn){var curItem=nextItem;null!=(nextItem=items.shift())&&(timerId=setTimeout(worker,nextItem.delay),timers.add(timerId)),callback.call(this,curItem)}}),nextItem.delay),timers.add(timerId),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearTimeout(timerId)})),timers.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var widgetCode,widgetName=this.args[0],isNonVoid=this.args.length>1&&"container"===this.args[1];if(Macro.has(widgetName)){if(!Macro.get(widgetName).isWidget)return this.error('cannot clobber existing macro "'.concat(widgetName,'"'));Macro.delete(widgetName)}try{var widgetDef={isWidget:!0,handler:(widgetCode=this.payload[0].contents,function(){var shadowStore={};State.temporary.hasOwnProperty("args")&&(shadowStore._args=State.temporary.args),State.temporary.args=_toConsumableArray(this.args),State.temporary.args.raw=this.args.raw,State.temporary.args.full=this.args.full,this.addShadow("_args"),isNonVoid&&(State.temporary.hasOwnProperty("contents")&&(shadowStore._contents=State.temporary.contents),State.temporary.contents=this.payload[0].contents,this.addShadow("_contents")),State.variables.hasOwnProperty("args")&&(shadowStore.$args=State.variables.args),State.variables.args=State.temporary.args,this.addShadow("$args");try{var resFrag=document.createDocumentFragment(),errList=[];if(new Wikifier(resFrag,widgetCode),Array.from(resFrag.querySelectorAll(".error")).forEach((function(errEl){errList.push(errEl.textContent)})),0!==errList.length)return this.error("error".concat(errList.length>1?"s":""," within widget code (").concat(errList.join("; "),")"));this.output.appendChild(resFrag)}catch(ex){return this.error("cannot execute widget: ".concat(ex.message))}finally{shadowStore.hasOwnProperty("_args")?State.temporary.args=shadowStore._args:delete State.temporary.args,isNonVoid&&(shadowStore.hasOwnProperty("_contents")?State.temporary.contents=shadowStore._contents:delete State.temporary.contents),shadowStore.hasOwnProperty("$args")?State.variables.args=shadowStore.$args:delete State.variables.args}})};isNonVoid&&(widgetDef.tags=[]),Macro.add(widgetName,widgetDef),Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error('cannot create widget macro "'.concat(widgetName,'": ').concat(ex.message))}}})}();var Dialog=function(){var _$overlay=null,_$dialog=null,_$dialogTitle=null,_$dialogBody=null,_lastActive=null,_scrollbarWidth=0,_dialogObserver=null;function dialogClose(ev){return _$dialogBody.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),_dialogObserver?(_dialogObserver.disconnect(),_dialogObserver=null):_$dialogBody.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),_$dialog.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),_$overlay.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),_$dialogTitle.empty(),_$dialogBody.empty().removeClass(),null!==_lastActive&&(jQuery(_lastActive).focus(),_lastActive=null),ev&&ev.data&&"function"==typeof ev.data.closeFn&&ev.data.closeFn(ev),_$dialogBody.trigger(":dialogclose"),_$dialogBody.trigger(":dialogclosed"),Dialog}function dialogIsOpen(classNames){return _$dialog.hasClass("open")&&(!classNames||classNames.splitOrEmpty(/\s+/).every((function(cn){return _$dialogBody.hasClass(cn)})))}function dialogOpen(options,closeFn){_$dialogBody.trigger(":dialogopening");var top=jQuery.extend({top:50},options).top;return dialogIsOpen()||(_lastActive=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),_$overlay.addClass("open"),null!==_$dialogBody[0].querySelector("img")&&_$dialogBody.imagesLoaded().always((function(){return _resizeHandler({data:{top:top}})})),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),_$dialog.css(_calcPosition(top)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),Has.mutationObserver?(_dialogObserver=new MutationObserver((function(mutations){for(var i=0;i<mutations.length;++i)if("childList"===mutations[i].type){_resizeHandler({data:{top:top}});break}}))).observe(_$dialogBody[0],{childList:!0,subtree:!0}):_$dialogBody.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),jQuery(document).one("click.dialog-close",".ui-close",{closeFn:closeFn},(function(ev){dialogClose(ev)})).one("keypress.dialog-close",".ui-close",(function(ev){13!==ev.which&&32!==ev.which||jQuery(this).trigger("click")})),_$dialogBody.trigger(":dialogopen"),_$dialogBody.trigger(":dialogopened"),Dialog}function _calcPosition(topPos){var top=null!=topPos?topPos:50,$parent=jQuery(window),dialogPos={left:"",right:"",top:"",bottom:""};_$dialog.css(dialogPos);var horzSpace=$parent.width()-_$dialog.outerWidth(!0)-1,vertSpace=$parent.height()-_$dialog.outerHeight(!0)-1;return horzSpace<=32+_scrollbarWidth&&(vertSpace-=_scrollbarWidth),vertSpace<=32+_scrollbarWidth&&(horzSpace-=_scrollbarWidth),dialogPos.left=dialogPos.right=horzSpace<=32?16:horzSpace/2>>0,dialogPos.top=vertSpace<=32?dialogPos.bottom=16:vertSpace/2>top?top:dialogPos.bottom=vertSpace/2>>0,Object.keys(dialogPos).forEach((function(key){""!==dialogPos[key]&&(dialogPos[key]+="px")})),dialogPos}function _resizeHandler(ev){var top=ev&&ev.data&&void 0!==ev.data.top?ev.data.top:50;"block"===_$dialog.css("display")&&(_$dialog.css({display:"none"}),_$dialog.css(jQuery.extend({display:""},_calcPosition(top))))}return Object.freeze(Object.defineProperties({},{append:{value:function(){var _$dialogBody2;return(_$dialogBody2=_$dialogBody).append.apply(_$dialogBody2,arguments),Dialog}},body:{value:function(){return _$dialogBody.get(0)}},close:{value:dialogClose},init:{value:function(){if(!document.getElementById("ui-dialog")){_scrollbarWidth=function(){var scrollbarWidth;try{var inner=document.createElement("p"),outer=document.createElement("div");inner.style.width="100%",inner.style.height="200px",outer.style.position="absolute",outer.style.left="0px",outer.style.top="0px",outer.style.width="100px",outer.style.height="100px",outer.style.visibility="hidden",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="auto";var w2=inner.offsetWidth;w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),scrollbarWidth=w1-w2}catch(ex){}return scrollbarWidth||17}();var $elems=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+'<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'.concat(L10n.get("close"),'"></button>')+'</div><div id="ui-dialog-body"></div></div>');_$overlay=jQuery($elems.find("#ui-overlay").get(0)),_$dialog=jQuery($elems.find("#ui-dialog").get(0)),_$dialogTitle=jQuery($elems.find("#ui-dialog-title").get(0)),_$dialogBody=jQuery($elems.find("#ui-dialog-body").get(0)),$elems.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:dialogIsOpen},open:{value:dialogOpen},resize:{value:function(data){return _resizeHandler("object"===_typeof(data)?{data:data}:undefined)}},setup:{value:function(title,classNames){return _$dialogBody.empty().removeClass(),null!=classNames&&_$dialogBody.addClass(classNames),_$dialogTitle.empty().append((null!=title?String(title):"")||" "),_$dialogBody.get(0)}},wiki:{value:function(){var _$dialogBody3;return(_$dialogBody3=_$dialogBody).wiki.apply(_$dialogBody3,arguments),Dialog}},addClickHandler:{value:function(targets,options,startFn,doneFn,closeFn){return jQuery(targets).ariaClick((function(ev){ev.preventDefault(),"function"==typeof startFn&&startFn(ev),dialogOpen(options,closeFn),"function"==typeof doneFn&&doneFn(ev)}))}}}))}(),Engine=function(){var States=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),_initDebugViews=[],_state=States.Idle,_lastPlay=null,_outlinePatch=null,_updating=null;function engineGo(offset){var succeded=State.go(offset);return succeded&&engineShow(),succeded}function engineShow(){return enginePlay(State.passage,!0)}function enginePlay(title,noHistory){var passageReadyOutput,passageDoneOutput,passageTitle=title;if(_state=States.Playing,TempState={},State.clearTemporary(),"function"==typeof Config.navigation.override)try{var overrideTitle=Config.navigation.override(passageTitle);overrideTitle&&(passageTitle=overrideTitle)}catch(ex){}var passage=Story.get(passageTitle);if(jQuery.event.trigger({type:":passageinit",passage:passage}),Object.keys(prehistory).forEach((function(task){"function"==typeof prehistory[task]&&prehistory[task].call(passage,task)})),noHistory||State.create(passage.title),document.body.className&&(document.body.className=""),_lastPlay=Util.now(),Object.keys(predisplay).forEach((function(task){"function"==typeof predisplay[task]&&predisplay[task].call(passage,task)})),Story.has("PassageReady"))try{passageReadyOutput=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(ex){console.error(ex),Alert.error("PassageReady",ex.message)}_state=States.Rendering;var dataTags=passage.tags.length>0?passage.tags.join(" "):null,passageEl=document.createElement("div");jQuery(passageEl).attr({id:passage.domId,"data-passage":passage.title,"data-tags":dataTags}).addClass("passage ".concat(passage.className)),jQuery(document.body).attr("data-tags",dataTags).addClass(passage.className),jQuery(document.documentElement).attr("data-tags",dataTags),jQuery.event.trigger({type:":passagestart",content:passageEl,passage:passage}),Object.keys(prerender).forEach((function(task){"function"==typeof prerender[task]&&prerender[task].call(passage,passageEl,task)})),Story.has("PassageHeader")&&new Wikifier(passageEl,Story.get("PassageHeader").processText()),passageEl.appendChild(passage.render()),Story.has("PassageFooter")&&new Wikifier(passageEl,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:passageEl,passage:passage}),Object.keys(postrender).forEach((function(task){"function"==typeof postrender[task]&&postrender[task].call(passage,passageEl,task)}));var debugView,containerEl=document.getElementById("passages");if(containerEl.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?_toConsumableArray(containerEl.childNodes).forEach((function(outgoing){var $outgoing=jQuery(outgoing);if(outgoing.nodeType===Node.ELEMENT_NODE&&$outgoing.hasClass("passage")){if($outgoing.hasClass("passage-out"))return;$outgoing.attr({id:"out-".concat($outgoing.attr("id")),"aria-live":"off"}).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?$outgoing.on(Has.transitionEndEvent,(function(ev){ev.propertyName===Config.passages.transitionOut&&$outgoing.remove()})):setTimeout((function(){return $outgoing.remove()}),Math.max(40,Config.passages.transitionOut))}else $outgoing.remove()})):jQuery(containerEl).empty()),jQuery(passageEl).addClass("passage-in").appendTo(containerEl),setTimeout((function(){return jQuery(passageEl).removeClass("passage-in")}),40),Story.has("StoryDisplayTitle")?null===_updating&&Config.ui.updateStoryElements||setDisplayTitle(Story.get("StoryDisplayTitle").processText()):Config.passages.displayTitles&&passage.title!==Config.passages.start&&(document.title="".concat(passage.title," | ").concat(Story.title)),window.scroll(0,0),_state=States.Playing,Story.has("PassageDone"))try{passageDoneOutput=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(ex){console.error(ex),Alert.error("PassageDone",ex.message)}(jQuery.event.trigger({type:":passagedisplay",content:passageEl,passage:passage}),Object.keys(postdisplay).forEach((function(task){"function"==typeof postdisplay[task]&&postdisplay[task].call(passage,task)})),null!==_updating?_updating.forEach((function(pair){jQuery(pair.element).empty(),new Wikifier(pair.element,Story.get(pair.passage).processText().trim())})):Config.ui.updateStoryElements&&UIBar.update(),Config.debug)&&(null!=passageReadyOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),debugView.append(passageReadyOutput),jQuery(passageEl).prepend(debugView.output)),null!=passageDoneOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),debugView.append(passageDoneOutput),jQuery(passageEl).append(debugView.output)),1===State.turns&&_initDebugViews.length>0&&jQuery(passageEl).prepend(_initDebugViews));switch(jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"object":passage.tags.some((function(tag){return Config.saves.autosave.includes(tag)}))&&Save.autosave.save();break;case"function":Config.saves.autosave()&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",content:passageEl,passage:passage}),_state=States.Idle,_lastPlay=Util.now(),passageEl}function _hideOutlines(){_outlinePatch.set("*:focus{outline:none;}")}return Object.freeze(Object.defineProperties({},{States:{value:States},minDomActionDelay:{value:40},init:{value:function(){var _lastOutlineEvent;jQuery("#init-no-js,#init-lacking").remove(),function(){var $elems=jQuery(document.createDocumentFragment()),markup=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(markup){UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),$elems.append(markup);var $passages=$elems.find("#passages");if(0===$passages.length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');$passages.empty().not("[aria-live]").attr("aria-live","polite").end(),$elems.find("[data-init-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-init-passage" content attribute'));var passage=el.getAttribute("data-init-passage").trim();if(el.hasAttribute("data-passage"))throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> must not contain a "data-passage" content attribute'));if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(el).empty().wiki(Story.get(passage).processText().trim())}));var updating=[];$elems.find("[data-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-passage" content attribute'));var passage=el.getAttribute("data-passage").trim();if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&updating.push({passage:passage,element:el})})),updating.length>0&&(_updating=updating),Config.ui.updateStoryElements=!1}else $elems.append('<div id="story" role="main"><div id="passages" aria-live="polite"></div></div>');$elems.insertBefore("body>script#script-sugarcube")}(),_outlinePatch=new StyleWrapper(jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)),_hideOutlines(),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",(function(ev){ev.type!==_lastOutlineEvent&&(_lastOutlineEvent=ev.type,"keydown"===ev.type?_outlinePatch.clear():_hideOutlines())}))}},start:{value:function(){if(Story.getAllInit().forEach((function(passage){try{var debugBuffer=Wikifier.wikifyEval(passage.text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","".concat(passage.title," [init-tagged]"),"".concat(passage.title," [init-tagged]"));debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("".concat(passage.title," [init-tagged]"),"object"===_typeof(ex)?ex.message:ex)}})),Story.has("StoryInit"))try{var debugBuffer=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("StoryInit","object"===_typeof(ex)?ex.message:ex)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'.concat(Config.passages.start,'") not found'));if(jQuery(document.documentElement).focus(),State.restore())engineShow();else{var loadStart=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(loadStart=!Save.autosave.load())}loadStart&&enginePlay(Config.passages.start)}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}},state:{get:function(){return _state}},isIdle:{value:function(){return _state===States.Idle}},isPlaying:{value:function(){return _state!==States.Idle}},isRendering:{value:function(){return _state===States.Rendering}},lastPlay:{get:function(){return _lastPlay}},goTo:{value:function(idx){var succeded=State.goTo(idx);return succeded&&engineShow(),succeded}},go:{value:engineGo},backward:{value:function(){return engineGo(-1)}},forward:{value:function(){return engineGo(1)}},show:{value:engineShow},play:{value:enginePlay},display:{value:function(title,link,option){var noHistory=!1;switch(option){case undefined:break;case"replace":case"back":noHistory=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'.concat(option,'"; please notify the developer'))}enginePlay(title,noHistory)}}}))}(),Passage=(_tagsToSkip=/^(?:debug|nobr|passage|widget|twine\..*)$/i,function(){function Passage(title,el){var _this22=this;_classCallCheck(this,Passage),Object.defineProperties(this,{title:{value:Util.unescape(title)},element:{value:el||null},tags:{value:Object.freeze(el&&el.hasAttribute("tags")?Array.from(new Set(el.getAttribute("tags").trim().splitOrEmpty(/\s+/))):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-".concat(Util.slugify(this.title))},classes:{value:Object.freeze(0===this.tags.length?[]:_this22.tags.filter((function(tag){return!_tagsToSkip.test(tag)})).map((function(tag){return Util.slugify(tag)})))}})}return _createClass(Passage,[{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var passage=Util.escapeMarkup(this.title),mesg="".concat(L10n.get("errorTitle"),": ").concat(L10n.get("errorNonexistentPassage",{passage:passage}));return'<div class="error-view"><span class="error">'.concat(mesg,"</span></div>")}return this.element.textContent.replace(/\r/g,"")}},{key:"description",value:function(){var descriptions=Config.passages.descriptions;switch(_typeof(descriptions)){case"boolean":if(descriptions)return this.title;break;case"object":if(descriptions.hasOwnProperty(this.title))return descriptions[this.title];break;case"function":var result=descriptions.call(this);if(result)return result}return null===this._excerpt&&(this._excerpt=Passage.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img[".concat(this.text,"]]");var processed=this.text;return Config.passages.onProcess&&(processed=Config.passages.onProcess.call(null,{title:this.title,tags:this.tags,text:processed})),(Config.passages.nobr||this.tags.includes("nobr"))&&(processed=processed.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),processed}},{key:"render",value:function(options){var frag=document.createDocumentFragment();return new Wikifier(frag,this.processText(),options),this._excerpt=Passage.getExcerptFromNode(frag),frag}}],[{key:"getExcerptFromNode",value:function(node,count){if(!node.hasChildNodes())return"";var excerpt=node.textContent.trim();if(""!==excerpt){var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})"));excerpt=excerpt.replace(/\s+/g," ").match(excerptRe)}return excerpt?"".concat(excerpt[1],"…"):"…"}},{key:"getExcerptFromText",value:function(text,count){if(""===text)return"";var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})")),excerpt=text.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(excerptRe);return excerpt?"".concat(excerpt[1],"…"):"…"}}]),Passage}()),_tagsToSkip,Save=function(){var Type=Util.toEnum({Autosave:"autosave",Disk:"disk",Serialize:"serialize",Slot:"slot"}),_slotsUBound=-1,_onLoadHandlers=new Set,_onSaveHandlers=new Set;function savesObjGet(){var saves=storage.get("saves");return null===saves?{autosave:null,slots:_appendSlots([],Config.saves.slots)}:saves}function savesObjClear(){return storage.delete("saves"),!0}function autosaveOk(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function slotsOk(){return"cookie"!==storage.name&&-1!==_slotsUBound}function slotsCount(){if(!slotsOk())return 0;for(var saves=savesObjGet(),count=0,i=0,iend=saves.slots.length;i<iend;++i)null!==saves.slots[i]&&++count;return count}function _appendSlots(array,num){for(var i=0;i<num;++i)array.push(null);return array}function _savesObjIsEmpty(saves){for(var slots=saves.slots,isSlotsEmpty=!0,i=0,iend=slots.length;i<iend;++i)if(null!==slots[i]){isSlotsEmpty=!1;break}return null===saves.autosave&&isSlotsEmpty}function _savesObjSave(saves){return _savesObjIsEmpty(saves)?(storage.delete("saves"),!0):storage.set("saves",saves)}function _savesObjUpdate(saveObj){if(null==saveObj||"object"!==_typeof(saveObj))return!1;var updated=!1;return saveObj.hasOwnProperty("state")&&saveObj.state.hasOwnProperty("delta")&&saveObj.state.hasOwnProperty("index")||(saveObj.hasOwnProperty("data")?(delete saveObj.mode,saveObj.state={delta:State.deltaEncode(saveObj.data)},delete saveObj.data):saveObj.state.hasOwnProperty("delta")?saveObj.state.hasOwnProperty("index")||delete saveObj.state.mode:(delete saveObj.state.mode,saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history),saveObj.state.index=saveObj.state.delta.length-1,updated=!0),saveObj.state.hasOwnProperty("rseed")&&(saveObj.state.seed=saveObj.state.rseed,delete saveObj.state.rseed,saveObj.state.delta.forEach((function(_,i,delta){delta[i].hasOwnProperty("rcount")&&(delta[i].pull=delta[i].rcount,delete delta[i].rcount)})),updated=!0),(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired||saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired&&delete saveObj.state.expired,(saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.expired=[],saveObj.state.hasOwnProperty("unique")&&(saveObj.state.expired.push(saveObj.state.unique),delete saveObj.state.unique),saveObj.state.hasOwnProperty("last")&&(saveObj.state.expired.push(saveObj.state.last),delete saveObj.state.last)),updated=!0),updated}function _marshal(supplemental,details){if(null!=supplemental&&"object"!==_typeof(supplemental))throw new Error("supplemental parameter must be an object");var saveObj=Object.assign({},supplemental,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(saveObj.version=Config.saves.version),_onSaveHandlers.forEach((function(fn){return fn(saveObj,details)})),saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history,saveObj}function _unmarshal(saveObj){try{if(_savesObjUpdate(saveObj),!saveObj||!saveObj.hasOwnProperty("id")||!saveObj.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(saveObj.state.history=State.deltaDecode(saveObj.state.delta),delete saveObj.state.delta,_onLoadHandlers.forEach((function(fn){return fn(saveObj)})),saveObj.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(saveObj.state),Engine.show()}catch(ex){return UI.alert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("aborting"),".")),!1}return!0}return Object.freeze(Object.defineProperties({},{init:{value:function(){if("cookie"===storage.name)return savesObjClear(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.slots=0,!1;var saves=savesObjGet(),updated=!1;Array.isArray(saves)&&(saves={autosave:null,slots:saves},updated=!0),Config.saves.slots!==saves.slots.length&&(Config.saves.slots<saves.slots.length?(saves.slots.reverse(),saves.slots=saves.slots.filter((function(val){return!(null===val&&this.count>0)||(--this.count,!1)}),{count:saves.slots.length-Config.saves.slots}),saves.slots.reverse()):Config.saves.slots>saves.slots.length&&_appendSlots(saves.slots,Config.saves.slots-saves.slots.length),updated=!0),_savesObjUpdate(saves.autosave)&&(updated=!0);for(var i=0;i<saves.slots.length;++i)_savesObjUpdate(saves.slots[i])&&(updated=!0);return _savesObjIsEmpty(saves)&&(storage.delete("saves"),updated=!1),updated&&_savesObjSave(saves),_slotsUBound=saves.slots.length-1,!0}},get:{value:savesObjGet},clear:{value:savesObjClear},ok:{value:function(){return autosaveOk()||slotsOk()}},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:autosaveOk},has:{value:function(){return null!==savesObjGet().autosave}},get:{value:function(){return savesObjGet().autosave}},load:{value:function(){var saves=savesObjGet();return null!==saves.autosave&&_unmarshal(saves.autosave)}},save:{value:function(title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var saves=savesObjGet(),supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.autosave=_marshal(supplemental,{type:Type.Autosave}),_savesObjSave(saves)}},delete:{value:function(){var saves=savesObjGet();return saves.autosave=null,_savesObjSave(saves)}}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:slotsOk},length:{get:function(){return _slotsUBound+1}},isEmpty:{value:function(){return 0===slotsCount()}},count:{value:slotsCount},has:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])}},get:{value:function(slot){if(slot<0||slot>_slotsUBound)return null;var saves=savesObjGet();return slot>=saves.slots.length?null:saves.slots[slot]}},load:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])&&_unmarshal(saves.slots[slot])}},save:{value:function(slot,title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),!1;if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();if(slot>=saves.slots.length)return!1;var supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.slots[slot]=_marshal(supplemental,{type:Type.Slot}),_savesObjSave(saves)}},delete:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length)&&(saves.slots[slot]=null,_savesObjSave(saves))}}}))},export:{value:function(filename,metadata){if("function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed()){var str,now,MM,DD,hh,mm,ss,baseName=null==filename?Story.domId:(str=filename,Util.sanitizeFilename(str).replace(/[_\s\u2013\u2014-]+/g,"-")),saveName="".concat(baseName,"-").concat((now=new Date,MM=now.getMonth()+1,DD=now.getDate(),hh=now.getHours(),mm=now.getMinutes(),ss=now.getSeconds(),MM<10&&(MM="0".concat(MM)),DD<10&&(DD="0".concat(DD)),hh<10&&(hh="0".concat(hh)),mm<10&&(mm="0".concat(mm)),ss<10&&(ss="0".concat(ss)),"".concat(now.getFullYear()).concat(MM).concat(DD,"-").concat(hh).concat(mm).concat(ss)),".save"),supplemental=null==metadata?{}:{metadata:metadata},saveObj=LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Disk})));saveAs(new Blob([saveObj],{type:"text/plain;charset=UTF-8"}),saveName)}else Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed"))}},import:{value:function(event){var file=event.target.files[0],reader=new FileReader;jQuery(reader).one("loadend",(function(){if(reader.error){var ex=reader.error;UI.alert("".concat(L10n.get("errorSaveDiskLoadFailed").toUpperFirst()," (").concat(ex.name,": ").concat(ex.message,").</p><p>").concat(L10n.get("aborting"),"."))}else{var saveObj;try{saveObj=JSON.parse(/\.json$/i.test(file.name)||/^\{/.test(reader.result)?reader.result:LZString.decompressFromBase64(reader.result))}catch(ex){}_unmarshal(saveObj)}})),reader.readAsText(file)}},serialize:{value:function(metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),null;var supplemental=null==metadata?{}:{metadata:metadata};return LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Serialize})))}},deserialize:{value:function(base64Str){var saveObj;try{saveObj=JSON.parse(LZString.decompressFromBase64(base64Str))}catch(ex){}return _unmarshal(saveObj)?saveObj.metadata:null}},onLoad:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onLoad.add handler parameter must be a function (received: ".concat(valueType,")"));_onLoadHandlers.add(handler)}},clear:{value:function(){_onLoadHandlers.clear()}},delete:{value:function(handler){return _onLoadHandlers.delete(handler)}},size:{get:function(){return _onLoadHandlers.size}}}))},onSave:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onSave.add handler parameter must be a function (received: ".concat(valueType,")"));_onSaveHandlers.add(handler)}},clear:{value:function(){_onSaveHandlers.clear()}},delete:{value:function(handler){return _onSaveHandlers.delete(handler)}},size:{get:function(){return _onSaveHandlers.size}}}))}}))}(),Setting=function(){var Types=Util.toEnum({Header:0,Toggle:1,List:2,Range:3}),_definitions=[];function settingsCreate(){return Object.create(null)}function settingsSave(){var savedSettings=settingsCreate();return Object.keys(settings).length>0&&_definitions.filter((function(def){return def.type!==Types.Header&&settings[def.name]!==def.default})).forEach((function(def){return savedSettings[def.name]=settings[def.name]})),0===Object.keys(savedSettings).length?(storage.delete("settings"),!0):storage.set("settings",savedSettings)}function settingsLoad(){var defaultSettings=settingsCreate(),loadedSettings=storage.get("settings")||settingsCreate();_definitions.filter((function(def){return def.type!==Types.Header})).forEach((function(def){return defaultSettings[def.name]=def.default})),window.SugarCube.settings=settings=Object.assign(defaultSettings,loadedSettings)}function settingsClear(){return window.SugarCube.settings=settings=settingsCreate(),storage.delete("settings"),!0}function definitionsAdd(type,name,def){if(arguments.length<3){var errors=[];throw arguments.length<1&&errors.push("type"),arguments.length<2&&errors.push("name"),arguments.length<3&&errors.push("definition"),new Error("missing parameters, no ".concat(errors.join(" or ")," specified"))}if("object"!==_typeof(def))throw new TypeError("definition parameter must be an object");if(definitionsHas(name))throw new Error('cannot clobber existing setting "'.concat(name,'"'));var str,pos,definition={type:type,name:name,label:"string"==typeof def.label?def.label.trim():""};if("string"==typeof def.desc){var desc=def.desc.trim();""!==desc&&(definition.desc=desc)}switch(type){case Types.Header:break;case Types.Toggle:definition.default=!!def.default;break;case Types.List:if(!def.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(def.list))throw new TypeError("list must be an array");if(0===def.list.length)throw new Error("list must not be empty");if(definition.list=Object.freeze(def.list),null==def.default)definition.default=def.list[0];else{var defaultIndex=def.list.indexOf(def.default);if(-1===defaultIndex)throw new Error("list does not contain default");definition.default=def.list[defaultIndex]}break;case Types.Range:if(!def.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof def.min||Number.isNaN(def.min)||!Number.isFinite(def.min))throw new TypeError("min must be a finite number");if(!def.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof def.max||Number.isNaN(def.max)||!Number.isFinite(def.max))throw new TypeError("max must be a finite number");if(!def.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof def.step||Number.isNaN(def.step)||!Number.isFinite(def.step)||def.step<=0)throw new TypeError("step must be a finite number greater than zero");var stepValidate=function(value){if(fracDigits>0){var ma=Number("".concat(def.min,"e").concat(fracDigits)),sa=Number("".concat(def.step,"e").concat(fracDigits)),_va=Number("".concat(value,"e").concat(fracDigits))-ma;return Number("".concat(_va-_va%sa+ma,"e-").concat(fracDigits))}var va=value-def.min;return va-va%def.step+def.min},fracDigits=(str=String(def.step),-1===(pos=str.lastIndexOf("."))?0:str.length-pos-1);if(stepValidate(def.max)!==def.max)throw new RangeError("max (".concat(def.max,") is not a multiple of the step (").concat(def.step,") plus the min (").concat(def.min,")"));if(definition.max=def.max,definition.min=def.min,definition.step=def.step,null==def.default)definition.default=def.max;else{if("number"!=typeof def.default||Number.isNaN(def.default)||!Number.isFinite(def.default))throw new TypeError("default must be a finite number");if(def.default<def.min)throw new RangeError("default (".concat(def.default,") is less than min (").concat(def.min,")"));if(def.default>def.max)throw new RangeError("default (".concat(def.default,") is greater than max (").concat(def.max,")"));definition.default=def.default}break;default:throw new Error("unknown Setting type: ".concat(type))}"function"==typeof def.onInit&&(definition.onInit=Object.freeze(def.onInit)),"function"==typeof def.onChange&&(definition.onChange=Object.freeze(def.onChange)),_definitions.push(Object.freeze(definition))}function definitionsHas(name){return _definitions.some((function(definition){return definition.name===name}))}function definitionsGet(name){return _definitions.find((function(definition){return definition.name===name}))}return Object.freeze(Object.defineProperties({},{Types:{value:Types},init:{value:function(){if(storage.has("options")){var old=storage.get("options");null!==old&&(window.SugarCube.settings=settings=Object.assign(settingsCreate(),old)),settingsSave(),storage.delete("options")}settingsLoad(),_definitions.forEach((function(def){if(def.hasOwnProperty("onInit")){var thisArg={name:def.name,value:settings[def.name],default:def.default};def.hasOwnProperty("list")&&(thisArg.list=def.list),def.onInit.call(thisArg)}}))}},create:{value:settingsCreate},save:{value:settingsSave},load:{value:settingsLoad},clear:{value:settingsClear},reset:{value:function(name){if(0===arguments.length)settingsClear(),settingsLoad();else{if(null==name||!definitionsHas(name))throw new Error('nonexistent setting "'.concat(name,'"'));var def=definitionsGet(name);def.type!==Types.Header&&(settings[name]=def.default)}return settingsSave()}},forEach:{value:function(callback,thisArg){_definitions.forEach(callback,thisArg)}},add:{value:definitionsAdd},addHeader:{value:function(name,desc){definitionsAdd(Types.Header,name,{desc:desc})}},addToggle:{value:function(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];definitionsAdd.apply(void 0,[Types.Toggle].concat(args))}},addList:{value:function(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];definitionsAdd.apply(void 0,[Types.List].concat(args))}},addRange:{value:function(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];definitionsAdd.apply(void 0,[Types.Range].concat(args))}},isEmpty:{value:function(){return 0===_definitions.length}},has:{value:definitionsHas},get:{value:definitionsGet},delete:{value:function definitionsDelete(name){definitionsHas(name)&&delete settings[name];for(var i=0;i<_definitions.length;++i)if(_definitions[i].name===name){_definitions.splice(i,1),definitionsDelete(name);break}}}}))}(),Story=function(){var _passages={},_inits=[],_scripts=[],_styles=[],_widgets=[],_title="",_ifId="",_domId="";function _storySetTitle(rawTitle){if(null==rawTitle)throw new Error("story title must not be null or undefined");var title=Util.unescape(String(rawTitle)).trim();if(""===title)throw new Error("story title must not be empty or consist solely of whitespace");if(document.title=_title=title,""===(_domId=Util.slugify(_title)))if(""!==_ifId)_domId=_ifId;else for(var i=0,len=_title.length;i<len;++i){var _Util$charAndPosAt2=Util.charAndPosAt(_title,i),char=_Util$charAndPosAt2.char,start=_Util$charAndPosAt2.start,end=_Util$charAndPosAt2.end;_domId+=char.codePointAt(0).toString(16),i+=end-start}}return Object.freeze(Object.defineProperties({},{load:{value:function(){var validationCodeTags=["init","widget"],validationNoCodeTagPassages=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"];function validateStartingPassage(passage){if(passage.tags.includesAny(validationCodeTags))throw new Error('starting passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(passage.tags.filter((function(tag){return validationCodeTags.includes(tag)})).sort().join('", "'),'"'))}function validateSpecialPassages(passage){if(validationNoCodeTagPassages.includes(passage.title)){for(var _len19=arguments.length,tags=new Array(_len19>1?_len19-1:0),_key19=1;_key19<_len19;_key19++)tags[_key19-1]=arguments[_key19];throw new Error('special passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(tags.sort().join('", "'),'"'))}var codeTags=[].concat(validationCodeTags),foundTags=[];if(passage.tags.forEach((function(tag){codeTags.includes(tag)&&foundTags.push.apply(foundTags,_toConsumableArray(codeTags.delete(tag)))})),foundTags.length>1)throw new Error('passage "'.concat(passage.title,'" contains multiple special tags; invalid: "').concat(foundTags.sort().join('", "'),'"'))}var $storydata=jQuery("tw-storydata"),startNode=$storydata.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test($storydata.attr("options")),$storydata.children("style").each((function(i){_styles.push(new Passage("tw-user-style-".concat(i),this))})),$storydata.children("script").each((function(i){_scripts.push(new Passage("tw-user-script-".concat(i),this))})),$storydata.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each((function(){var $this=jQuery(this),pid=$this.attr("pid")||"",passage=new Passage($this.attr("name"),this);pid===startNode&&""!==startNode?(Config.passages.start=passage.title,validateStartingPassage(passage),_passages[passage.title]=passage):passage.tags.includes("init")?(validateSpecialPassages(passage,"init"),_inits.push(passage)):passage.tags.includes("widget")?(validateSpecialPassages(passage,"widget"),_widgets.push(passage)):_passages[passage.title]=passage})),_ifId=$storydata.attr("ifid"),_storySetTitle("A Red Winter"),Config.saves.id=Story.domId}},init:{value:function(){var storyStyle;storyStyle=document.createElement("style"),new StyleWrapper(storyStyle).add(_styles.map((function(style){return style.text.trim()})).join("\n")),jQuery(storyStyle).appendTo(document.head).attr({id:"style-story",type:"text/css"});for(var i=0;i<_scripts.length;++i)try{Scripting.evalJavaScript(_scripts[i].text)}catch(ex){console.error(ex),Alert.error(_scripts[i].title,"object"===_typeof(ex)?ex.message:ex)}for(var _i8=0;_i8<_widgets.length;++_i8)try{Wikifier.wikifyEval(_widgets[_i8].processText())}catch(ex){console.error(ex),Alert.error(_widgets[_i8].title,"object"===_typeof(ex)?ex.message:ex)}}},title:{get:function(){return _title}},domId:{get:function(){return _domId}},ifId:{get:function(){return _ifId}},add:{value:function(passage){if(!(passage instanceof Passage))throw new TypeError("Story.add passage parameter must be an instance of Passage");var title=passage.title;return!_passages.hasOwnProperty(title)&&(_passages[title]=passage,!0)}},has:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":return _passages.hasOwnProperty(String(title));case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.has title parameter cannot be ".concat(type))}},get:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":var id=String(title);return _passages.hasOwnProperty(id)?_passages[id]:new Passage(id||"(unknown)");case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.get title parameter cannot be ".concat(type))}},getAllInit:{value:function(){return Object.freeze(Array.from(_inits))}},getAllRegular:{value:function(){return Object.freeze(Object.assign({},_passages))}},getAllScript:{value:function(){return Object.freeze(Array.from(_scripts))}},getAllStylesheet:{value:function(){return Object.freeze(Array.from(_styles))}},getAllWidget:{value:function(){return Object.freeze(Array.from(_widgets))}},lookup:{value:function(key,value){var sortKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];"object"===_typeof(passage[key])&&null!==passage[key]?passage[key]instanceof Array&&passage[key].some((function(m){return Util.sameValueZero(m,value)}))&&results.push(passage):Util.sameValueZero(passage[key],value)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}},lookupWith:{value:function(predicate){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof predicate)throw new TypeError("Story.lookupWith predicate parameter must be a function");var results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];predicate(passage)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}}}))}(),UI=function(){function uiAssembleLinkList(passage,listEl){var list=listEl,debugState=Config.debug,cleanState=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==list&&(list=document.createElement("ul"));var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim());var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "));for(;frag.hasChildNodes();){var node=frag.firstChild;if(node.nodeType===Node.ELEMENT_NODE&&"A"===node.nodeName.toUpperCase()){var li=document.createElement("li");list.appendChild(li),li.appendChild(node)}else frag.removeChild(node)}}finally{Config.cleanupWikifierOutput=cleanState,Config.debug=debugState}return list}function uiOpenAlert(message){jQuery(Dialog.setup(L10n.get("alertTitle"),"alert")).append("<p>".concat(message,'</p><ul class="buttons">')+'<li><button id="alert-ok" class="ui-close">'.concat(L10n.get(["alertOk","ok"]),"</button></li>")+"</ul>");for(var _len20=arguments.length,args=new Array(_len20>1?_len20-1:0),_key20=1;_key20<_len20;_key20++)args[_key20-1]=arguments[_key20];Dialog.open.apply(Dialog,args)}function uiBuildAutoload(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>".concat(L10n.get("autoloadPrompt"),'</p><ul class="buttons">')+'<li><button id="autoload-ok" class="ui-close">'.concat(L10n.get(["autoloadOk","ok"]),"</button></li>")+'<li><button id="autoload-cancel" class="ui-close">'.concat(L10n.get(["autoloadCancel","cancel"]),"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",(function(ev){var isAutoloadOk="autoload-ok"===ev.target.id;jQuery(document).one(":dialogclosed",(function(){isAutoloadOk&&Save.autosave.load()||Engine.play(Config.passages.start)}))})),!0}function uiBuildJumpto(){var list=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(list);for(var expired=State.expired.length,i=State.size-1;i>=0;--i)if(i!==State.activeIndex){var passage=Story.get(State.history[i].title);passage&&passage.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(idx){return function(){return jQuery(document).one(":dialogclosed",(function(){return Engine.goTo(idx)}))}}(i)).addClass("ui-close").text("".concat(L10n.get("jumptoTurn")," ").concat(expired+i+1,": ").concat(passage.description()))).appendTo(list)}list.hasChildNodes()||jQuery(list).append("<li><a><em>".concat(L10n.get("jumptoUnavailable"),"</em></a></li>"))}function uiBuildRestart(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>".concat(L10n.get("restartPrompt"),'</p><ul class="buttons">')+'<li><button id="restart-ok">'.concat(L10n.get(["restartOk","ok"]),"</button></li>")+'<li><button id="restart-cancel" class="ui-close">'.concat(L10n.get(["restartCancel","cancel"]),"</button></li>")+"</ul>").find("#restart-ok").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){return Engine.restart()})),Dialog.close()})),!0}function uiBuildSaves(){var savesAllowed="function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed();function createActionItem(bId,bClass,bText,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId)).html(bText);return bClass&&$btn.addClass(bClass),bAction?$btn.ariaClick(bAction):$btn.ariaDisabled(!0),jQuery(document.createElement("li")).append($btn)}var $dialogBody=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),savesOk=Save.ok(),fileOk=Has.fileAPI&&(Config.saves.tryDiskOnMobile||!Browser.isMobile.any());if(savesOk&&$dialogBody.append(function(){function createButton(bId,bClass,bText,bSlot,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId,"-").concat(bSlot)).addClass(bId).html(bText);return bClass&&$btn.addClass(bClass),bAction?"auto"===bSlot?$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelAuto"))},(function(){return bAction()})):$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelSlot")," ").concat(bSlot+1)},(function(){return bAction(bSlot)})):$btn.ariaDisabled(!0),$btn}var saves=Save.get(),$tbody=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var $tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo($tdSlot),saves.autosave?($tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),"auto",(function(){jQuery(document).one(":dialogclosed",(function(){return Save.autosave.load()}))}))),jQuery(document.createElement("div")).text(saves.autosave.title).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.autosave.date?"".concat(new Date(saves.autosave.date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo($tdDesc),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto",(function(){Save.autosave.delete(),uiBuildSaves()})))):($tdLoad.append(createButton("load",null,L10n.get("savesLabelLoad"),"auto")),$tdDesc.addClass("empty").text("•  •  •"),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)}for(var i=0,iend=saves.slots.length;i<iend;++i){var _$tdSlot=jQuery(document.createElement("td")),_$tdLoad=jQuery(document.createElement("td")),_$tdDesc=jQuery(document.createElement("td")),_$tdDele=jQuery(document.createElement("td"));_$tdSlot.append(document.createTextNode(i+1)),saves.slots[i]?(_$tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),i,(function(slot){jQuery(document).one(":dialogclosed",(function(){return Save.slots.load(slot)}))}))),jQuery(document.createElement("div")).text(saves.slots[i].title).appendTo(_$tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.slots[i].date?"".concat(new Date(saves.slots[i].date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo(_$tdDesc),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i,(function(slot){Save.slots.delete(slot),uiBuildSaves()})))):(_$tdLoad.append(createButton("save","ui-close",L10n.get("savesLabelSave"),i,savesAllowed?Save.slots.save:null)),_$tdDesc.addClass("empty").text("•  •  •"),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i))),jQuery(document.createElement("tr")).append(_$tdSlot).append(_$tdLoad).append(_$tdDesc).append(_$tdDele).appendTo($tbody)}return jQuery(document.createElement("table")).attr("id","saves-list").append($tbody)}()),savesOk||fileOk){var $btnBar=jQuery(document.createElement("ul")).addClass("buttons").appendTo($dialogBody);return fileOk&&($btnBar.append(createActionItem("export","ui-close",L10n.get("savesLabelExport"),savesAllowed?function(){return Save.export()}:null)),$btnBar.append(createActionItem("import",null,L10n.get("savesLabelImport"),(function(){return $dialogBody.find("#saves-import-file").trigger("click")}))),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",(function(ev){jQuery(document).one(":dialogclosed",(function(){return Save.import(ev)})),Dialog.close()})).appendTo($dialogBody)),savesOk&&$btnBar.append(createActionItem("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),uiBuildSaves()}:null)),!0}return uiOpenAlert(L10n.get("savesIncapable")),!1}function uiBuildSettings(){var $dialogBody=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach((function(control){if(control.type===Setting.Types.Header){var _name=control.name,_id=Util.slugify(_name),$header=jQuery(document.createElement("div")),$heading=jQuery(document.createElement("h2"));return $header.attr("id","header-body-".concat(_id)).append($heading).appendTo($dialogBody),$heading.attr("id","header-heading-".concat(_id)).wiki(_name),void(control.desc&&jQuery(document.createElement("p")).attr("id","header-desc-".concat(_id)).wiki(control.desc).appendTo($header))}var $control,name=control.name,id=Util.slugify(name),$setting=jQuery(document.createElement("div")),$label=jQuery(document.createElement("label")),$controlBox=jQuery(document.createElement("div"));switch(jQuery(document.createElement("div")).append($label).append($controlBox).appendTo($setting),control.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-".concat(id)).wiki(control.desc).appendTo($setting),$label.attr({id:"setting-label-".concat(id),for:"setting-control-".concat(id)}).wiki(control.label),null==settings[name]&&(settings[name]=control.default),control.type){case Setting.Types.Toggle:$control=jQuery(document.createElement("button")),settings[name]?$control.addClass("enabled").text(L10n.get("settingsOn")):$control.text(L10n.get("settingsOff")),$control.ariaClick((function(){settings[name]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[name]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[name]=!0),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default})}));break;case Setting.Types.List:$control=jQuery(document.createElement("select"));for(var i=0,iend=control.list.length;i<iend;++i)jQuery(document.createElement("option")).val(i).text(control.list[i]).appendTo($control);$control.val(control.list.indexOf(settings[name])).attr("tabindex",0).on("change",(function(){settings[name]=control.list[Number(this.value)],Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,list:control.list})}));break;case Setting.Types.Range:($control=jQuery(document.createElement("input"))).attr({type:"range",min:control.min,max:control.max,step:control.step,value:settings[name],tabindex:0}).on("change input",(function(){settings[name]=Number(this.value),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,min:control.min,max:control.max,step:control.step})})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$control.trigger("change"))}))}$control.attr("id","setting-control-".concat(id)).appendTo($controlBox),$setting.attr("id","setting-body-".concat(id)).appendTo($dialogBody)})),$dialogBody.append('<ul class="buttons">'+'<li><button id="settings-ok" class="ui-close">'.concat(L10n.get(["settingsOk","ok"]),"</button></li>")+'<li><button id="settings-reset">'.concat(L10n.get("settingsReset"),"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){Setting.reset(),window.location.reload()})),Dialog.close()})),!0}function uiBuildShare(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(uiAssembleLinkList("StoryShare"))}catch(ex){return console.error(ex),Alert.error("StoryShare",ex.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:uiAssembleLinkList},alert:{value:uiOpenAlert},jumpto:{value:function(){uiBuildJumpto(),Dialog.open.apply(Dialog,arguments)}},restart:{value:function(){uiBuildRestart(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){uiBuildSaves(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){uiBuildSettings(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){uiBuildShare(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:uiBuildAutoload},buildJumpto:{value:uiBuildJumpto},buildRestart:{value:uiBuildRestart},buildSaves:{value:uiBuildSaves},buildSettings:{value:uiBuildSettings},buildShare:{value:uiBuildShare},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:uiBuildAutoload},buildDialogJumpto:{value:uiBuildJumpto},buildDialogRestart:{value:uiBuildRestart},buildDialogSaves:{value:uiBuildSaves},buildDialogSettings:{value:uiBuildSettings},buildDialogShare:{value:uiBuildShare},buildLinkListFromPassage:{value:uiAssembleLinkList}}))}(),UIBar=function(){var _$uiBar=null;function uiBarStow(noAnimation){var $story;_$uiBar&&!_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.addClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay));return this}function uiBarUpdate(){if(Story.has("StoryDisplayTitle")&&setDisplayTitle(Story.get("StoryDisplayTitle").processText()),_$uiBar){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var menuStory=document.getElementById("menu-story");if(null!==menuStory&&(jQuery(menuStory).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",menuStory)}catch(ex){console.error(ex),Alert.error("StoryMenu",ex.message)}}}return Object.freeze(Object.defineProperties({},{destroy:{value:function(){_$uiBar&&(_$uiBar.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),_$uiBar.remove(),_$uiBar=null)}},hide:{value:function(){return _$uiBar&&_$uiBar.hide(),this}},init:{value:function(){if(!document.getElementById("ui-bar")){var toggleLabel,backwardLabel,jumptoLabel,forwardLabel,$backward,$forward,$elems=(toggleLabel=L10n.get("uiBarToggle"),backwardLabel=L10n.get("uiBarBackward"),jumptoLabel=L10n.get("uiBarJumpto"),forwardLabel=L10n.get("uiBarForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar" aria-live="polite"><div id="ui-bar-tray">'+'<button id="ui-bar-toggle" tabindex="0" title="'.concat(toggleLabel,'" aria-label="').concat(toggleLabel,'"></button>')+'<div id="ui-bar-history">'+'<button id="history-backward" tabindex="0" title="'.concat(backwardLabel,'" aria-label="').concat(backwardLabel,'"></button>')+'<button id="history-jumpto" tabindex="0" title="'.concat(jumptoLabel,'" aria-label="').concat(jumptoLabel,'"></button>')+'<button id="history-forward" tabindex="0" title="'.concat(forwardLabel,'" aria-label="').concat(forwardLabel,'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+'<li id="menu-item-saves"><a tabindex="0">'.concat(L10n.get("savesTitle"),"</a></li>")+'<li id="menu-item-settings"><a tabindex="0">'.concat(L10n.get("settingsTitle"),"</a></li>")+'<li id="menu-item-restart"><a tabindex="0">'.concat(L10n.get("restartTitle"),"</a></li>")+'<li id="menu-item-share"><a tabindex="0">'.concat(L10n.get("shareTitle"),"</a></li>")+"</ul></nav></div></div>"));_$uiBar=jQuery($elems.find("#ui-bar").get(0)),$elems.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",($backward=jQuery("#history-backward"),$forward=jQuery("#history-forward"),function(){$backward.ariaDisabled(State.length<2),$forward.ariaDisabled(State.length===State.size)}))}}},isHidden:{value:function(){return _$uiBar&&"none"===_$uiBar.css("display")}},isStowed:{value:function(){return _$uiBar&&_$uiBar.hasClass("stowed")}},show:{value:function(){return _$uiBar&&_$uiBar.show(),this}},start:{value:function(){_$uiBar&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&uiBarStow(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},(function(){return _$uiBar.toggleClass("stowed")})),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},(function(){return Engine.backward()})),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},(function(){return UI.jumpto()})):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},(function(){return Engine.forward()}))):jQuery("#ui-bar-history").remove(),Story.has("StoryDisplayTitle")?setDisplayTitle(Story.get("StoryDisplayTitle").processText()):jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||uiBarUpdate(),jQuery("#menu-item-saves a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSaves(),Dialog.open()})).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSettings(),Dialog.open()})).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildRestart(),Dialog.open()})).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildShare(),Dialog.open()})).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}},stow:{value:uiBarStow},unstow:{value:function(noAnimation){var $story;return _$uiBar&&_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.removeClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay)),this}},update:{value:uiBarUpdate},setStoryElements:{value:uiBarUpdate}}))}(),DebugBar=function(){var _variableRe=new RegExp("^".concat(Patterns.variable,"$")),_numericKeyRe=/^\d+$/,_watchList=[],_$debugBar=null,_$watchBody=null,_$watchList=null,_$turnSelect=null,_stowed=!0;function debugBarStow(){_$debugBar.css("right","-".concat(_$debugBar.outerWidth(),"px")),_stowed=!0,_updateSession()}function debugBarUnstow(){_$debugBar.css("right",0),_stowed=!1,_updateSession()}function debugBarToggle(){_stowed?debugBarUnstow():debugBarStow()}function debugBarWatchAdd(varName){_variableRe.test(varName)&&(_watchList.pushUnique(varName),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession())}function debugBarWatchAddAll(){Object.keys(State.variables).map((function(name){return _watchList.pushUnique("$".concat(name))})),Object.keys(State.temporary).map((function(name){return _watchList.pushUnique("_".concat(name))})),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchClear(){for(var i=_watchList.length-1;i>=0;--i)_watchList.pop();_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDelete(varName){_watchList.delete(varName),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDisable(){_debugBarWatchDisableNoUpdate(),_updateSession()}function debugBarWatchEnable(){_debugBarWatchEnableNoUpdate(),_updateSession()}function debugBarWatchIsEnabled(){return!_$watchBody.attr("hidden")}function debugBarWatchToggle(){_$watchBody.attr("hidden")?debugBarWatchEnable():debugBarWatchDisable()}function _debugBarWatchDisableNoUpdate(){_$watchBody.attr({"aria-hidden":!0,hidden:"hidden"})}function _debugBarWatchEnableNoUpdate(){_$watchBody.removeAttr("aria-hidden hidden")}function _clearSession(){session.delete("debugState")}function _hasSession(){return session.has("debugState")}function _updateSession(){session.set("debugState",{stowed:_stowed,watchList:_watchList,watchEnabled:debugBarWatchIsEnabled(),viewsEnabled:DebugView.isEnabled()})}function _updateWatchBody(){if(0!==_watchList.length){for(var delLabel=L10n.get("debugBarDeleteWatch"),$table=jQuery(document.createElement("table")),$tbody=jQuery(document.createElement("tbody")),_loop4=function(i,len){var varName=_watchList[i],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary,$row=jQuery(document.createElement("tr")),$delBtn=jQuery(document.createElement("button")),$code=jQuery(document.createElement("code"));$delBtn.addClass("watch-delete").attr("data-name",varName).ariaClick({one:!0,label:delLabel},(function(){return debugBarWatchDelete(varName)})),$code.text(_toWatchString(store[varKey])),jQuery(document.createElement("td")).append($delBtn).appendTo($row),jQuery(document.createElement("td")).text(varName).appendTo($row),jQuery(document.createElement("td")).append($code).appendTo($row),$row.appendTo($tbody)},i=0,len=_watchList.length;i<len;++i)_loop4(i);$table.append($tbody),_$watchBody.empty().append($table)}else _$watchBody.empty().append("<div>".concat(L10n.get("debugBarNoWatches"),"</div>"))}function _updateWatchList(){var svn=Object.keys(State.variables),tvn=Object.keys(State.temporary);if(0!==svn.length||0!==tvn.length){var names=[].concat(_toConsumableArray(svn.map((function(name){return"$".concat(name)}))),_toConsumableArray(tvn.map((function(name){return"_".concat(name)})))).sort(),options=document.createDocumentFragment();names.delete(_watchList);for(var i=0,len=names.length;i<len;++i)jQuery(document.createElement("option")).val(names[i]).appendTo(options);_$watchList.empty().append(options)}else _$watchList.empty()}function _updateTurnSelect(){for(var histLen=State.size,expLen=State.expired.length,options=document.createDocumentFragment(),i=0;i<histLen;++i)jQuery(document.createElement("option")).val(i).text("".concat(expLen+i+1,". ").concat(Util.escape(State.history[i].title))).appendTo(options);_$turnSelect.empty().ariaDisabled(histLen<2).append(options).val(State.activeIndex)}function _toWatchString(value){if(null===value)return"null";switch(_typeof(value)){case"number":if(Number.isNaN(value))return"NaN";if(!Number.isFinite(value))return"Infinity";case"boolean":case"symbol":case"undefined":return String(value);case"string":return JSON.stringify(value);case"function":return"Function"}var objType=Util.toStringTag(value);if("Date"===objType)return"Date {".concat(value.toLocaleString(),"}");if("RegExp"===objType)return"RegExp ".concat(value.toString());var result=[];if(value instanceof Array||value instanceof Set){for(var list=value instanceof Array?value:Array.from(value),i=0,len=list.length;i<len;++i)result.push(list.hasOwnProperty(i)?_toWatchString(list[i]):"<empty>");return Object.keys(list).filter((function(key){return!_numericKeyRe.test(key)})).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(list[key])))})),"".concat(objType,"(").concat(list.length,") [").concat(result.join(", "),"]")}return value instanceof Map?(value.forEach((function(val,key){return result.push("".concat(_toWatchString(key)," → ").concat(_toWatchString(val)))})),"".concat(objType,"(").concat(value.size,") {").concat(result.join(", "),"}")):(Object.keys(value).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(value[key])))})),"".concat(objType," {").concat(result.join(", "),"}"))}return Object.freeze(Object.defineProperties({},{init:{value:function(){var barToggleLabel=L10n.get("debugBarToggle"),watchAddLabel=L10n.get("debugBarAddWatch"),watchAllLabel=L10n.get("debugBarWatchAll"),watchNoneLabel=L10n.get("debugBarWatchNone"),watchToggleLabel=L10n.get("debugBarWatchToggle"),viewsToggleLabel=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch">'+"<div>".concat(L10n.get("debugBarNoWatches"),"</div>>")+"</div><div>"+'<button id="debug-bar-watch-toggle" tabindex="0" title="'.concat(watchToggleLabel,'" aria-label="').concat(watchToggleLabel,'">').concat(L10n.get("debugBarLabelWatch"),"</button>")+'<label id="debug-bar-watch-label" for="debug-bar-watch-input">'.concat(L10n.get("debugBarLabelAdd"),"</label>")+'<input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-watch-add" tabindex="0" title="'.concat(watchAddLabel,'" aria-label="').concat(watchAddLabel,'"></button>')+'<button id="debug-bar-watch-all" tabindex="0" title="'.concat(watchAllLabel,'" aria-label="').concat(watchAllLabel,'"></button>')+'<button id="debug-bar-watch-none" tabindex="0" title="'.concat(watchNoneLabel,'" aria-label="').concat(watchNoneLabel,'"></button>')+"</div><div>"+'<button id="debug-bar-views-toggle" tabindex="0" title="'.concat(viewsToggleLabel,'" aria-label="').concat(viewsToggleLabel,'">').concat(L10n.get("debugBarLabelViews"),"</button>")+'<label id="debug-bar-turn-label" for="debug-bar-turn-select">'.concat(L10n.get("debugBarLabelTurn"),"</label>")+'<select id="debug-bar-turn-select" tabindex="0"></select></div>'+'<button id="debug-bar-toggle" tabindex="0" title="'.concat(barToggleLabel,'" aria-label="').concat(barToggleLabel,'"></button>')+'</div><div id="debug-bar-hint"></div>').appendTo("body"),_$debugBar=jQuery("#debug-bar"),_$watchBody=jQuery(_$debugBar.find("#debug-bar-watch").get(0)),_$watchList=jQuery(_$debugBar.find("#debug-bar-watch-list").get(0)),_$turnSelect=jQuery(_$debugBar.find("#debug-bar-turn-select").get(0));var $barToggle=jQuery(_$debugBar.find("#debug-bar-toggle").get(0)),$watchToggle=jQuery(_$debugBar.find("#debug-bar-watch-toggle").get(0)),$watchInput=jQuery(_$debugBar.find("#debug-bar-watch-input").get(0)),$watchAdd=jQuery(_$debugBar.find("#debug-bar-watch-add").get(0)),$watchAll=jQuery(_$debugBar.find("#debug-bar-watch-all").get(0)),$watchNone=jQuery(_$debugBar.find("#debug-bar-watch-none").get(0)),$viewsToggle=jQuery(_$debugBar.find("#debug-bar-views-toggle").get(0));$barToggle.ariaClick(debugBarToggle),$watchToggle.ariaClick(debugBarWatchToggle),$watchInput.on(":addwatch",(function(){debugBarWatchAdd(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$watchInput.trigger(":addwatch"))})),$watchAdd.ariaClick((function(){return $watchInput.trigger(":addwatch")})),$watchAll.ariaClick(debugBarWatchAddAll),$watchNone.ariaClick(debugBarWatchClear),_$turnSelect.on("change",(function(){Engine.goTo(Number(this.value))})),$viewsToggle.ariaClick((function(){DebugView.toggle(),_updateSession()})),jQuery(document).on(":historyupdate.debug-bar",_updateTurnSelect).on(":passageend.debug-bar",(function(){_updateWatchBody(),_updateWatchList()})).on(":enginerestart.debug-bar",_clearSession),_hasSession()||DebugView.enable()}},isStowed:{value:function(){return _stowed}},start:{value:function(){(function(){if(!_hasSession())return!1;var debugState=session.get("debugState");_stowed=debugState.stowed,_watchList.push.apply(_watchList,_toConsumableArray(debugState.watchList)),debugState.watchEnabled?_debugBarWatchEnableNoUpdate():_debugBarWatchDisableNoUpdate();debugState.viewsEnabled?DebugView.enable():DebugView.disable()})(),_stowed?debugBarStow():debugBarUnstow(),_updateTurnSelect(),_updateWatchBody(),_updateWatchList()}},stow:{value:debugBarStow},toggle:{value:debugBarToggle},unstow:{value:debugBarUnstow},watch:{value:Object.freeze(Object.defineProperties({},{add:{value:debugBarWatchAdd},all:{value:debugBarWatchAddAll},clear:{value:debugBarWatchClear},delete:{value:debugBarWatchDelete},disable:{value:debugBarWatchDisable},enable:{value:debugBarWatchEnable},isEnabled:{value:debugBarWatchIsEnabled},toggle:{value:debugBarWatchToggle}}))}}))}(),LoadScreen=function(){var _locks=new Set,_autoId=0;function loadScreenHide(){jQuery(document.documentElement).removeAttr("data-init")}function loadScreenShow(){jQuery(document.documentElement).attr("data-init","loading")}return Object.freeze(Object.defineProperties({},{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",(function(){_locks.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout((function(){0===_locks.size&&loadScreenHide()}),Math.max(Engine.minDomActionDelay,Config.loadDelay)):loadScreenHide()):loadScreenShow())}))}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),_locks.clear(),loadScreenHide()}},hide:{value:loadScreenHide},show:{value:loadScreenShow},lock:{value:function(){return++_autoId,_locks.add(_autoId),loadScreenShow(),_autoId}},unlock:{value:function(id){if(null==id)throw new Error("LoadScreen.unlock called with a null or undefined ID");_locks.has(id)&&_locks.delete(id),0===_locks.size&&jQuery(document).trigger("readystatechange")}}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:36,patch:1,prerelease:null,build:9717,date:new Date("2021-12-22T05:37:33.467Z"),extensions:{},toString:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,"+").concat(this.build)},short:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.title," (v").concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,")")},long:function(){return"".concat(this.title," v").concat(this.toString()," (").concat(this.date.toUTCString(),")")}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery((function(){try{var lockId=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var $window=$(window),vprCheckId=setInterval((function(){$window.width()&&(clearInterval(vprCheckId),UIBar.start(),Config.debug&&DebugBar.start(),jQuery.event.trigger({type:":storyready"}),setTimeout((function(){return LoadScreen.unlock(lockId)}),2*Engine.minDomActionDelay))}),Engine.minDomActionDelay);Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))})}catch(ex){return console.error(ex),LoadScreen.clear(),Alert.fatal(null,ex.message,ex)}}))})(window,window.document,jQuery);}
	</script>
</body>
</html>
